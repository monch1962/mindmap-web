<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="./vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#3b82f6" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="MindMap" />
    <meta name="description" content="A modern, feature-rich mind mapping application" />

    <!-- Web App Manifest -->
    <link rel="manifest" href="./manifest.json" />

    <title>Mind Map Web</title>
    <script type="module" crossorigin>(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=o(s);fetch(s.href,c)}})();function q0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Vd={exports:{}},or={};var ux;function MS(){if(ux)return or;ux=1;var e=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function o(a,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var h in s)h!=="key"&&(c[h]=s[h])}else c=s;return s=c.ref,{$$typeof:e,type:a,key:d,ref:s!==void 0?s:null,props:c}}return or.Fragment=l,or.jsx=o,or.jsxs=o,or}var dx;function NS(){return dx||(dx=1,Vd.exports=MS()),Vd.exports}var f=NS(),Xd={exports:{}},Ne={};var fx;function DS(){if(fx)return Ne;fx=1;var e=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=v&&j[v]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function C(j,I,F){this.props=j,this.context=I,this.refs=_,this.updater=F||E}C.prototype.isReactComponent={},C.prototype.setState=function(j,I){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,I,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=C.prototype;function k(j,I,F){this.props=j,this.context=I,this.refs=_,this.updater=F||E}var M=k.prototype=new R;M.constructor=k,w(M,C.prototype),M.isPureReactComponent=!0;var B=Array.isArray;function O(){}var Y={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function V(j,I,F){var le=F.ref;return{$$typeof:e,type:j,key:I,ref:le!==void 0?le:null,props:F}}function ee(j,I){return V(j.type,I,j.props)}function oe(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function de(j){var I={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(F){return I[F]})}var pe=/\/+/g;function N(j,I){return typeof j=="object"&&j!==null&&j.key!=null?de(""+j.key):I.toString(36)}function P(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(O,O):(j.status="pending",j.then(function(I){j.status==="pending"&&(j.status="fulfilled",j.value=I)},function(I){j.status==="pending"&&(j.status="rejected",j.reason=I)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function z(j,I,F,le,se){var me=typeof j;(me==="undefined"||me==="boolean")&&(j=null);var xe=!1;if(j===null)xe=!0;else switch(me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(j.$$typeof){case e:case l:xe=!0;break;case x:return xe=j._init,z(xe(j._payload),I,F,le,se)}}if(xe)return se=se(j),xe=le===""?"."+N(j,0):le,B(se)?(F="",xe!=null&&(F=xe.replace(pe,"$&/")+"/"),z(se,I,F,"",function(Re){return Re})):se!=null&&(oe(se)&&(se=ee(se,F+(se.key==null||j&&j.key===se.key?"":(""+se.key).replace(pe,"$&/")+"/")+xe)),I.push(se)),1;xe=0;var Ce=le===""?".":le+":";if(B(j))for(var we=0;we<j.length;we++)le=j[we],me=Ce+N(le,we),xe+=z(le,I,F,me,se);else if(we=S(j),typeof we=="function")for(j=we.call(j),we=0;!(le=j.next()).done;)le=le.value,me=Ce+N(le,we++),xe+=z(le,I,F,me,se);else if(me==="object"){if(typeof j.then=="function")return z(P(j),I,F,le,se);throw I=String(j),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return xe}function W(j,I,F){if(j==null)return j;var le=[],se=0;return z(j,le,"","",function(me){return I.call(F,me,se++)}),le}function q(j){if(j._status===-1){var I=j._result;I=I(),I.then(function(F){(j._status===0||j._status===-1)&&(j._status=1,j._result=F)},function(F){(j._status===0||j._status===-1)&&(j._status=2,j._result=F)}),j._status===-1&&(j._status=0,j._result=I)}if(j._status===1)return j._result.default;throw j._result}var G=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},te={map:W,forEach:function(j,I,F){W(j,function(){I.apply(this,arguments)},F)},count:function(j){var I=0;return W(j,function(){I++}),I},toArray:function(j){return W(j,function(I){return I})||[]},only:function(j){if(!oe(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Ne.Activity=y,Ne.Children=te,Ne.Component=C,Ne.Fragment=o,Ne.Profiler=s,Ne.PureComponent=k,Ne.StrictMode=a,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(j){return Y.H.useMemoCache(j)}},Ne.cache=function(j){return function(){return j.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(j,I,F){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var le=w({},j.props),se=j.key;if(I!=null)for(me in I.key!==void 0&&(se=""+I.key),I)!H.call(I,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&I.ref===void 0||(le[me]=I[me]);var me=arguments.length-2;if(me===1)le.children=F;else if(1<me){for(var xe=Array(me),Ce=0;Ce<me;Ce++)xe[Ce]=arguments[Ce+2];le.children=xe}return V(j.type,se,le)},Ne.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},Ne.createElement=function(j,I,F){var le,se={},me=null;if(I!=null)for(le in I.key!==void 0&&(me=""+I.key),I)H.call(I,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(se[le]=I[le]);var xe=arguments.length-2;if(xe===1)se.children=F;else if(1<xe){for(var Ce=Array(xe),we=0;we<xe;we++)Ce[we]=arguments[we+2];se.children=Ce}if(j&&j.defaultProps)for(le in xe=j.defaultProps,xe)se[le]===void 0&&(se[le]=xe[le]);return V(j,me,se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(j){return{$$typeof:h,render:j}},Ne.isValidElement=oe,Ne.lazy=function(j){return{$$typeof:x,_payload:{_status:-1,_result:j},_init:q}},Ne.memo=function(j,I){return{$$typeof:m,type:j,compare:I===void 0?null:I}},Ne.startTransition=function(j){var I=Y.T,F={};Y.T=F;try{var le=j(),se=Y.S;se!==null&&se(F,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(O,G)}catch(me){G(me)}finally{I!==null&&F.types!==null&&(I.types=F.types),Y.T=I}},Ne.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},Ne.use=function(j){return Y.H.use(j)},Ne.useActionState=function(j,I,F){return Y.H.useActionState(j,I,F)},Ne.useCallback=function(j,I){return Y.H.useCallback(j,I)},Ne.useContext=function(j){return Y.H.useContext(j)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(j,I){return Y.H.useDeferredValue(j,I)},Ne.useEffect=function(j,I){return Y.H.useEffect(j,I)},Ne.useEffectEvent=function(j){return Y.H.useEffectEvent(j)},Ne.useId=function(){return Y.H.useId()},Ne.useImperativeHandle=function(j,I,F){return Y.H.useImperativeHandle(j,I,F)},Ne.useInsertionEffect=function(j,I){return Y.H.useInsertionEffect(j,I)},Ne.useLayoutEffect=function(j,I){return Y.H.useLayoutEffect(j,I)},Ne.useMemo=function(j,I){return Y.H.useMemo(j,I)},Ne.useOptimistic=function(j,I){return Y.H.useOptimistic(j,I)},Ne.useReducer=function(j,I,F){return Y.H.useReducer(j,I,F)},Ne.useRef=function(j){return Y.H.useRef(j)},Ne.useState=function(j){return Y.H.useState(j)},Ne.useSyncExternalStore=function(j,I,F){return Y.H.useSyncExternalStore(j,I,F)},Ne.useTransition=function(){return Y.H.useTransition()},Ne.version="19.2.3",Ne}var px;function Or(){return px||(px=1,Xd.exports=DS()),Xd.exports}var A=Or();const ae=q0(A);var Fd={exports:{}},ar={},Kd={exports:{}},Zd={};var hx;function OS(){return hx||(hx=1,(function(e){function l(z,W){var q=z.length;z.push(W);e:for(;0<q;){var G=q-1>>>1,te=z[G];if(0<s(te,W))z[G]=W,z[q]=te,q=G;else break e}}function o(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var W=z[0],q=z.pop();if(q!==W){z[0]=q;e:for(var G=0,te=z.length,j=te>>>1;G<j;){var I=2*(G+1)-1,F=z[I],le=I+1,se=z[le];if(0>s(F,q))le<te&&0>s(se,F)?(z[G]=se,z[le]=q,G=le):(z[G]=F,z[I]=q,G=I);else if(le<te&&0>s(se,q))z[G]=se,z[le]=q,G=le;else break e}}return W}function s(z,W){var q=z.sortIndex-W.sortIndex;return q!==0?q:z.id-W.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;e.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();e.unstable_now=function(){return d.now()-h}}var g=[],m=[],x=1,y=null,v=3,S=!1,E=!1,w=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var W=o(m);W!==null;){if(W.callback===null)a(m);else if(W.startTime<=z)a(m),W.sortIndex=W.expirationTime,l(g,W);else break;W=o(m)}}function B(z){if(w=!1,M(z),!E)if(o(g)!==null)E=!0,O||(O=!0,de());else{var W=o(m);W!==null&&P(B,W.startTime-z)}}var O=!1,Y=-1,H=5,V=-1;function ee(){return _?!0:!(e.unstable_now()-V<H)}function oe(){if(_=!1,O){var z=e.unstable_now();V=z;var W=!0;try{e:{E=!1,w&&(w=!1,R(Y),Y=-1),S=!0;var q=v;try{t:{for(M(z),y=o(g);y!==null&&!(y.expirationTime>z&&ee());){var G=y.callback;if(typeof G=="function"){y.callback=null,v=y.priorityLevel;var te=G(y.expirationTime<=z);if(z=e.unstable_now(),typeof te=="function"){y.callback=te,M(z),W=!0;break t}y===o(g)&&a(g),M(z)}else a(g);y=o(g)}if(y!==null)W=!0;else{var j=o(m);j!==null&&P(B,j.startTime-z),W=!1}}break e}finally{y=null,v=q,S=!1}W=void 0}}finally{W?de():O=!1}}}var de;if(typeof k=="function")de=function(){k(oe)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,N=pe.port2;pe.port1.onmessage=oe,de=function(){N.postMessage(null)}}else de=function(){C(oe,0)};function P(z,W){Y=C(function(){z(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var q=v;v=W;try{return z()}finally{v=q}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var q=v;v=z;try{return W()}finally{v=q}},e.unstable_scheduleCallback=function(z,W,q){var G=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?G+q:G):q=G,z){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=q+te,z={id:x++,callback:W,priorityLevel:z,startTime:q,expirationTime:te,sortIndex:-1},q>G?(z.sortIndex=q,l(m,z),o(g)===null&&z===o(m)&&(w?(R(Y),Y=-1):w=!0,P(B,q-G))):(z.sortIndex=te,l(g,z),E||S||(E=!0,O||(O=!0,de()))),z},e.unstable_shouldYield=ee,e.unstable_wrapCallback=function(z){var W=v;return function(){var q=v;v=W;try{return z.apply(this,arguments)}finally{v=q}}}})(Zd)),Zd}var gx;function LS(){return gx||(gx=1,Kd.exports=OS()),Kd.exports}var Qd={exports:{}},fn={};var mx;function BS(){if(mx)return fn;mx=1;var e=Or();function l(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)m+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(l(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(g,m,x){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:g,containerInfo:m,implementation:x}}var d=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,fn.createPortal=function(g,m){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(l(299));return c(g,m,null,x)},fn.flushSync=function(g){var m=d.T,x=a.p;try{if(d.T=null,a.p=2,g)return g()}finally{d.T=m,a.p=x,a.d.f()}},fn.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},fn.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},fn.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;x==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:S}):x==="script"&&a.d.X(g,{crossOrigin:y,integrity:v,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},fn.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var x=h(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},fn.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var x=m.as,y=h(x,m.crossOrigin);a.d.L(g,x,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},fn.preloadModule=function(g,m){if(typeof g=="string")if(m){var x=h(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},fn.requestFormReset=function(g){a.d.r(g)},fn.unstable_batchedUpdates=function(g,m){return g(m)},fn.useFormState=function(g,m,x){return d.H.useFormState(g,m,x)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var xx;function V0(){if(xx)return Qd.exports;xx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(l){console.error(l)}}return e(),Qd.exports=BS(),Qd.exports}var yx;function HS(){if(yx)return ar;yx=1;var e=LS(),l=Or(),o=V0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function h(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(a(188))}function m(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(a(188));return n!==t?null:t}for(var i=t,r=n;;){var u=i.return;if(u===null)break;var p=u.alternate;if(p===null){if(r=u.return,r!==null){i=r;continue}break}if(u.child===p.child){for(p=u.child;p;){if(p===i)return g(u),t;if(p===r)return g(u),n;p=p.sibling}throw Error(a(188))}if(i.return!==r.return)i=u,r=p;else{for(var b=!1,T=u.child;T;){if(T===i){b=!0,i=u,r=p;break}if(T===r){b=!0,r=u,i=p;break}T=T.sibling}if(!b){for(T=p.child;T;){if(T===i){b=!0,i=p,r=u;break}if(T===r){b=!0,r=p,i=u;break}T=T.sibling}if(!b)throw Error(a(189))}}if(i.alternate!==r)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?t:n}function x(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=x(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),k=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),ee=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function de(t){return t===null||typeof t!="object"?null:(t=oe&&t[oe]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Symbol.for("react.client.reference");function N(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===pe?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case w:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case B:return"Suspense";case O:return"SuspenseList";case V:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case E:return"Portal";case k:return t.displayName||"Context";case R:return(t._context.displayName||"Context")+".Consumer";case M:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return n=t.displayName||null,n!==null?n:N(t.type)||"Memo";case H:n=t._payload,t=t._init;try{return N(t(n))}catch{}}return null}var P=Array.isArray,z=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},G=[],te=-1;function j(t){return{current:t}}function I(t){0>te||(t.current=G[te],G[te]=null,te--)}function F(t,n){te++,G[te]=t.current,t.current=n}var le=j(null),se=j(null),me=j(null),xe=j(null);function Ce(t,n){switch(F(me,n),F(se,t),F(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Nm(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Nm(n),t=Dm(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}I(le),F(le,t)}function we(){I(le),I(se),I(me)}function Re(t){t.memoizedState!==null&&F(xe,t);var n=le.current,i=Dm(n,t.type);n!==i&&(F(se,t),F(le,i))}function Pe(t){se.current===t&&(I(le),I(se)),xe.current===t&&(I(xe),tr._currentValue=q)}var Xe,Je;function Ue(t){if(Xe===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);Xe=n&&n[1]||"",Je=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+t+Je}var He=!1;function ot(t,n){if(!t||He)return"";He=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(n){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(ie){var J=ie}Reflect.construct(t,[],ue)}else{try{ue.call()}catch(ie){J=ie}t.call(ue.prototype)}}else{try{throw Error()}catch(ie){J=ie}(ue=t())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(ie){if(ie&&J&&typeof ie.stack=="string")return[ie.stack,J.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=r.DetermineComponentFrameRoot(),b=p[0],T=p[1];if(b&&T){var L=b.split(`
`),Q=T.split(`
`);for(u=r=0;r<L.length&&!L[r].includes("DetermineComponentFrameRoot");)r++;for(;u<Q.length&&!Q[u].includes("DetermineComponentFrameRoot");)u++;if(r===L.length||u===Q.length)for(r=L.length-1,u=Q.length-1;1<=r&&0<=u&&L[r]!==Q[u];)u--;for(;1<=r&&0<=u;r--,u--)if(L[r]!==Q[u]){if(r!==1||u!==1)do if(r--,u--,0>u||L[r]!==Q[u]){var re=`
`+L[r].replace(" at new "," at ");return t.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",t.displayName)),re}while(1<=r&&0<=u);break}}}finally{He=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Ue(i):""}function Oe(t,n){switch(t.tag){case 26:case 27:case 5:return Ue(t.type);case 16:return Ue("Lazy");case 13:return t.child!==n&&n!==null?Ue("Suspense Fallback"):Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 15:return ot(t.type,!1);case 11:return ot(t.type.render,!1);case 1:return ot(t.type,!0);case 31:return Ue("Activity");default:return""}}function ye(t){try{var n="",i=null;do n+=Oe(t,i),i=t,t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var nt=Object.prototype.hasOwnProperty,ut=e.unstable_scheduleCallback,Gt=e.unstable_cancelCallback,Bt=e.unstable_shouldYield,Jt=e.unstable_requestPaint,We=e.unstable_now,Nt=e.unstable_getCurrentPriorityLevel,vt=e.unstable_ImmediatePriority,dt=e.unstable_UserBlockingPriority,K=e.unstable_NormalPriority,Mn=e.unstable_LowPriority,Wt=e.unstable_IdlePriority,bt=e.log,qt=e.unstable_setDisableYieldValue,Et=null,rt=null;function ft(t){if(typeof bt=="function"&&qt(t),rt&&typeof rt.setStrictMode=="function")try{rt.setStrictMode(Et,t)}catch{}}var Qe=Math.clz32?Math.clz32:Ai,cn=Math.log,$n=Math.LN2;function Ai(t){return t>>>=0,t===0?32:31-(cn(t)/$n|0)|0}var en=256,Ct=262144,hn=4194304;function kt(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,n,i){var r=t.pendingLanes;if(r===0)return 0;var u=0,p=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=r&134217727;return T!==0?(r=T&~p,r!==0?u=kt(r):(b&=T,b!==0?u=kt(b):i||(i=T&~t,i!==0&&(u=kt(i))))):(T=r&~p,T!==0?u=kt(T):b!==0?u=kt(b):i||(i=r&~t,i!==0&&(u=kt(i)))),u===0?0:n!==0&&n!==u&&(n&p)===0&&(p=u&-u,i=n&-n,p>=i||p===32&&(i&4194048)!==0)?n:u}function tn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function it(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nn(){var t=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),t}function Ti(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function Gn(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _i(t,n,i,r,u,p){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var T=t.entanglements,L=t.expirationTimes,Q=t.hiddenUpdates;for(i=b&~i;0<i;){var re=31-Qe(i),ue=1<<re;T[re]=0,L[re]=-1;var J=Q[re];if(J!==null)for(Q[re]=null,re=0;re<J.length;re++){var ie=J[re];ie!==null&&(ie.lane&=-536870913)}i&=~ue}r!==0&&Wn(t,r,0),p!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=p&~(b&~n))}function Wn(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var r=31-Qe(n);t.entangledLanes|=n,t.entanglements[r]=t.entanglements[r]|1073741824|i&261930}function ki(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var r=31-Qe(i),u=1<<r;u&n|t[r]&n&&(t[r]|=n),i&=~u}}function ol(t,n){var i=n&-n;return i=(i&42)!==0?1:Kt(i),(i&(t.suspendedLanes|n))!==0?0:i}function Kt(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function gn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qn(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:ix(t.type))}function Vn(t,n){var i=W.p;try{return W.p=t,n()}finally{W.p=i}}var un=Math.random().toString(36).slice(2),At="__reactFiber$"+un,at="__reactProps$"+un,En="__reactContainer$"+un,oi="__reactEvents$"+un,al="__reactListeners$"+un,rl="__reactHandles$"+un,sl="__reactResources$"+un,ve="__reactMarker$"+un;function U(t){delete t[At],delete t[at],delete t[oi],delete t[al],delete t[rl]}function ge(t){var n=t[At];if(n)return n;for(var i=t.parentNode;i;){if(n=i[En]||i[At]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Ym(t);t!==null;){if(i=t[At])return i;t=Ym(t)}return n}t=i,i=t.parentNode}return null}function be(t){if(t=t[At]||t[En]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Ze(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function mt(t){var n=t[sl];return n||(n=t[sl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(t){t[ve]=!0}var Dt=new Set,dn={};function Zt(t,n){mn(t,n),mn(t+"Capture",n)}function mn(t,n){for(dn[t]=n,t=0;t<n.length;t++)Dt.add(n[t])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ji={},zi={};function Wl(t){return nt.call(zi,t)?!0:nt.call(ji,t)?!1:jt.test(t)?zi[t]=!0:(ji[t]=!0,!1)}function xo(t,n,i){if(Wl(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var r=n.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function yo(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function ne(t,n,i,r){if(r===null)t.removeAttribute(i);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+r)}}function he(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fe(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ae(t,n,i){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,p=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return u.call(this)},set:function(b){i=""+b,p.call(this,b)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Me(t){if(!t._valueTracker){var n=fe(t)?"checked":"value";t._valueTracker=Ae(t,n,""+t[n])}}function ze(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),r="";return t&&(r=fe(t)?t.checked?"true":"false":t.value),t=r,t!==i?(n.setValue(t),!0):!1}function Fe(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var cl=/[\n"\\]/g;function Tt(t){return t.replace(cl,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mi(t,n,i,r,u,p,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+he(n)):t.value!==""+he(n)&&(t.value=""+he(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?xa(t,b,he(n)):i!=null?xa(t,b,he(i)):r!=null&&t.removeAttribute("value"),u==null&&p!=null&&(t.defaultChecked=!!p),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+he(T):t.removeAttribute("name")}function Ri(t,n,i,r,u,p,b,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||i!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Me(t);return}i=i!=null?""+he(i):"",n=n!=null?""+he(n):i,T||n===t.value||(t.value=n),t.defaultValue=n}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=T?t.checked:!!r,t.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),Me(t)}function xa(t,n,i){n==="number"&&Fe(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function ul(t,n,i,r){if(t=t.options,n){n={};for(var u=0;u<i.length;u++)n["$"+i[u]]=!0;for(i=0;i<t.length;i++)u=n.hasOwnProperty("$"+t[i].value),t[i].selected!==u&&(t[i].selected=u),u&&r&&(t[i].defaultSelected=!0)}else{for(i=""+he(i),n=null,u=0;u<t.length;u++){if(t[u].value===i){t[u].selected=!0,r&&(t[u].defaultSelected=!0);return}n!==null||t[u].disabled||(n=t[u])}n!==null&&(n.selected=!0)}}function kp(t,n,i){if(n!=null&&(n=""+he(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+he(i):""}function jp(t,n,i,r){if(n==null){if(r!=null){if(i!=null)throw Error(a(92));if(P(r)){if(1<r.length)throw Error(a(93));r=r[0]}i=r}i==null&&(i=""),n=i}i=he(n),t.defaultValue=i,r=t.textContent,r===i&&r!==""&&r!==null&&(t.value=r),Me(t)}function bo(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var _1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zp(t,n,i){var r=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?r?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":r?t.setProperty(n,i):typeof i!="number"||i===0||_1.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function Rp(t,n,i){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,i!=null){for(var r in i)!i.hasOwnProperty(r)||n!=null&&n.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var u in n)r=n[u],n.hasOwnProperty(u)&&i[u]!==r&&zp(t,u,r)}else for(var p in n)n.hasOwnProperty(p)&&zp(t,p,n[p])}function $c(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),j1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ir(t){return j1.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Mi(){}var Gc=null;function Wc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vo=null,So=null;function Mp(t){var n=be(t);if(n&&(t=n.stateNode)){var i=t[at]||null;e:switch(t=n.stateNode,n.type){case"input":if(mi(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Tt(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var r=i[n];if(r!==t&&r.form===t.form){var u=r[at]||null;if(!u)throw Error(a(90));mi(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<i.length;n++)r=i[n],r.form===t.form&&ze(r)}break e;case"textarea":kp(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&ul(t,!!i.multiple,n,!1)}}}var qc=!1;function Np(t,n,i){if(qc)return t(n,i);qc=!0;try{var r=t(n);return r}finally{if(qc=!1,(vo!==null||So!==null)&&(_s(),vo&&(n=vo,t=So,So=vo=null,Mp(n),t)))for(n=0;n<t.length;n++)Mp(t[n])}}function ya(t,n){var i=t.stateNode;if(i===null)return null;var r=i[at]||null;if(r===null)return null;i=r[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(a(231,n,typeof i));return i}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vc=!1;if(Ni)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{Vc=!1}var dl=null,Xc=null,Yr=null;function Dp(){if(Yr)return Yr;var t,n=Xc,i=n.length,r,u="value"in dl?dl.value:dl.textContent,p=u.length;for(t=0;t<i&&n[t]===u[t];t++);var b=i-t;for(r=1;r<=b&&n[i-r]===u[p-r];r++);return Yr=u.slice(t,1<r?1-r:void 0)}function $r(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gr(){return!0}function Op(){return!1}function Cn(t){function n(i,r,u,p,b){this._reactName=i,this._targetInst=u,this.type=r,this.nativeEvent=p,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(i=t[T],this[T]=i?i(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Gr:Op,this.isPropagationStopped=Op,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),n}var ql={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Cn(ql),va=y({},ql,{view:0,detail:0}),z1=Cn(va),Fc,Kc,Sa,qr=y({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sa&&(Sa&&t.type==="mousemove"?(Fc=t.screenX-Sa.screenX,Kc=t.screenY-Sa.screenY):Kc=Fc=0,Sa=t),Fc)},movementY:function(t){return"movementY"in t?t.movementY:Kc}}),Lp=Cn(qr),R1=y({},qr,{dataTransfer:0}),M1=Cn(R1),N1=y({},va,{relatedTarget:0}),Zc=Cn(N1),D1=y({},ql,{animationName:0,elapsedTime:0,pseudoElement:0}),O1=Cn(D1),L1=y({},ql,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),B1=Cn(L1),H1=y({},ql,{data:0}),Bp=Cn(H1),U1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Y1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $1(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Y1[t])?!!n[t]:!1}function Qc(){return $1}var G1=y({},va,{key:function(t){if(t.key){var n=U1[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$r(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?I1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(t){return t.type==="keypress"?$r(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$r(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W1=Cn(G1),q1=y({},qr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hp=Cn(q1),V1=y({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),X1=Cn(V1),F1=y({},ql,{propertyName:0,elapsedTime:0,pseudoElement:0}),K1=Cn(F1),Z1=y({},qr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q1=Cn(Z1),P1=y({},ql,{newState:0,oldState:0}),J1=Cn(P1),ev=[9,13,27,32],Pc=Ni&&"CompositionEvent"in window,wa=null;Ni&&"documentMode"in document&&(wa=document.documentMode);var tv=Ni&&"TextEvent"in window&&!wa,Up=Ni&&(!Pc||wa&&8<wa&&11>=wa),Ip=" ",Yp=!1;function $p(t,n){switch(t){case"keyup":return ev.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wo=!1;function nv(t,n){switch(t){case"compositionend":return Gp(n);case"keypress":return n.which!==32?null:(Yp=!0,Ip);case"textInput":return t=n.data,t===Ip&&Yp?null:t;default:return null}}function iv(t,n){if(wo)return t==="compositionend"||!Pc&&$p(t,n)?(t=Dp(),Yr=Xc=dl=null,wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Up&&n.locale!=="ko"?null:n.data;default:return null}}var lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wp(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!lv[t.type]:n==="textarea"}function qp(t,n,i,r){vo?So?So.push(r):So=[r]:vo=r,n=Ds(n,"onChange"),0<n.length&&(i=new Wr("onChange","change",null,i,r),t.push({event:i,listeners:n}))}var Ea=null,Ca=null;function ov(t){_m(t,0)}function Vr(t){var n=Ze(t);if(ze(n))return t}function Vp(t,n){if(t==="change")return n}var Xp=!1;if(Ni){var Jc;if(Ni){var eu="oninput"in document;if(!eu){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),eu=typeof Fp.oninput=="function"}Jc=eu}else Jc=!1;Xp=Jc&&(!document.documentMode||9<document.documentMode)}function Kp(){Ea&&(Ea.detachEvent("onpropertychange",Zp),Ca=Ea=null)}function Zp(t){if(t.propertyName==="value"&&Vr(Ca)){var n=[];qp(n,Ca,t,Wc(t)),Np(ov,n)}}function av(t,n,i){t==="focusin"?(Kp(),Ea=n,Ca=i,Ea.attachEvent("onpropertychange",Zp)):t==="focusout"&&Kp()}function rv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vr(Ca)}function sv(t,n){if(t==="click")return Vr(n)}function cv(t,n){if(t==="input"||t==="change")return Vr(n)}function uv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Dn=typeof Object.is=="function"?Object.is:uv;function Aa(t,n){if(Dn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),r=Object.keys(n);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++){var u=i[r];if(!nt.call(n,u)||!Dn(t[u],n[u]))return!1}return!0}function Qp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,n){var i=Qp(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=n&&r>=n)return{node:i,offset:n-t};t=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qp(i)}}function Jp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Jp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function eh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Fe(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=Fe(t.document)}return n}function tu(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dv=Ni&&"documentMode"in document&&11>=document.documentMode,Eo=null,nu=null,Ta=null,iu=!1;function th(t,n,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;iu||Eo==null||Eo!==Fe(r)||(r=Eo,"selectionStart"in r&&tu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ta&&Aa(Ta,r)||(Ta=r,r=Ds(nu,"onSelect"),0<r.length&&(n=new Wr("onSelect","select",null,n,i),t.push({event:n,listeners:r}),n.target=Eo)))}function Vl(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var Co={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},lu={},nh={};Ni&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete Co.animationend.animation,delete Co.animationiteration.animation,delete Co.animationstart.animation),"TransitionEvent"in window||delete Co.transitionend.transition);function Xl(t){if(lu[t])return lu[t];if(!Co[t])return t;var n=Co[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in nh)return lu[t]=n[i];return t}var ih=Xl("animationend"),lh=Xl("animationiteration"),oh=Xl("animationstart"),fv=Xl("transitionrun"),pv=Xl("transitionstart"),hv=Xl("transitioncancel"),ah=Xl("transitionend"),rh=new Map,ou="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ou.push("scrollEnd");function ai(t,n){rh.set(t,n),Zt(n,[t])}var Xr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xn=[],Ao=0,au=0;function Fr(){for(var t=Ao,n=au=Ao=0;n<t;){var i=Xn[n];Xn[n++]=null;var r=Xn[n];Xn[n++]=null;var u=Xn[n];Xn[n++]=null;var p=Xn[n];if(Xn[n++]=null,r!==null&&u!==null){var b=r.pending;b===null?u.next=u:(u.next=b.next,b.next=u),r.pending=u}p!==0&&sh(i,u,p)}}function Kr(t,n,i,r){Xn[Ao++]=t,Xn[Ao++]=n,Xn[Ao++]=i,Xn[Ao++]=r,au|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function ru(t,n,i,r){return Kr(t,n,i,r),Zr(t)}function Fl(t,n){return Kr(t,null,null,n),Zr(t)}function sh(t,n,i){t.lanes|=i;var r=t.alternate;r!==null&&(r.lanes|=i);for(var u=!1,p=t.return;p!==null;)p.childLanes|=i,r=p.alternate,r!==null&&(r.childLanes|=i),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(u=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,u&&n!==null&&(u=31-Qe(i),t=p.hiddenUpdates,r=t[u],r===null?t[u]=[n]:r.push(n),n.lane=i|536870912),p):null}function Zr(t){if(50<Fa)throw Fa=0,md=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var To={};function gv(t,n,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,i,r){return new gv(t,n,i,r)}function su(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,n){var i=t.alternate;return i===null?(i=On(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function ch(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Qr(t,n,i,r,u,p){var b=0;if(r=t,typeof t=="function")su(t)&&(b=1);else if(typeof t=="string")b=vS(t,i,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case V:return t=On(31,i,n,u),t.elementType=V,t.lanes=p,t;case w:return Kl(i.children,u,p,n);case _:b=8,u|=24;break;case C:return t=On(12,i,n,u|2),t.elementType=C,t.lanes=p,t;case B:return t=On(13,i,n,u),t.elementType=B,t.lanes=p,t;case O:return t=On(19,i,n,u),t.elementType=O,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:b=10;break e;case R:b=9;break e;case M:b=11;break e;case Y:b=14;break e;case H:b=16,r=null;break e}b=29,i=Error(a(130,t===null?"null":typeof t,"")),r=null}return n=On(b,i,n,u),n.elementType=t,n.type=r,n.lanes=p,n}function Kl(t,n,i,r){return t=On(7,t,r,n),t.lanes=i,t}function cu(t,n,i){return t=On(6,t,null,n),t.lanes=i,t}function uh(t){var n=On(18,null,null,0);return n.stateNode=t,n}function uu(t,n,i){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var dh=new WeakMap;function Fn(t,n){if(typeof t=="object"&&t!==null){var i=dh.get(t);return i!==void 0?i:(n={value:t,source:n,stack:ye(n)},dh.set(t,n),n)}return{value:t,source:n,stack:ye(n)}}var _o=[],ko=0,Pr=null,_a=0,Kn=[],Zn=0,fl=null,xi=1,yi="";function Oi(t,n){_o[ko++]=_a,_o[ko++]=Pr,Pr=t,_a=n}function fh(t,n,i){Kn[Zn++]=xi,Kn[Zn++]=yi,Kn[Zn++]=fl,fl=t;var r=xi;t=yi;var u=32-Qe(r)-1;r&=~(1<<u),i+=1;var p=32-Qe(n)+u;if(30<p){var b=u-u%5;p=(r&(1<<b)-1).toString(32),r>>=b,u-=b,xi=1<<32-Qe(n)+u|i<<u|r,yi=p+t}else xi=1<<p|i<<u|r,yi=t}function du(t){t.return!==null&&(Oi(t,1),fh(t,1,0))}function fu(t){for(;t===Pr;)Pr=_o[--ko],_o[ko]=null,_a=_o[--ko],_o[ko]=null;for(;t===fl;)fl=Kn[--Zn],Kn[Zn]=null,yi=Kn[--Zn],Kn[Zn]=null,xi=Kn[--Zn],Kn[Zn]=null}function ph(t,n){Kn[Zn++]=xi,Kn[Zn++]=yi,Kn[Zn++]=fl,xi=n.id,yi=n.overflow,fl=t}var nn=null,St=null,Ke=!1,pl=null,Qn=!1,pu=Error(a(519));function hl(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ka(Fn(n,t)),pu}function hh(t){var n=t.stateNode,i=t.type,r=t.memoizedProps;switch(n[At]=t,n[at]=r,i){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(i=0;i<Za.length;i++)Ge(Za[i],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":Ge("invalid",n),Ri(n,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ge("invalid",n);break;case"textarea":Ge("invalid",n),jp(n,r.value,r.defaultValue,r.children)}i=r.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||r.suppressHydrationWarning===!0||Rm(n.textContent,i)?(r.popover!=null&&(Ge("beforetoggle",n),Ge("toggle",n)),r.onScroll!=null&&Ge("scroll",n),r.onScrollEnd!=null&&Ge("scrollend",n),r.onClick!=null&&(n.onclick=Mi),n=!0):n=!1,n||hl(t,!0)}function gh(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:nn=nn.return}}function jo(t){if(t!==nn)return!1;if(!Ke)return gh(t),Ke=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||Rd(t.type,t.memoizedProps)),i=!i),i&&St&&hl(t),gh(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Im(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));St=Im(t)}else n===27?(n=St,kl(t.type)?(t=Ld,Ld=null,St=t):St=n):St=nn?Jn(t.stateNode.nextSibling):null;return!0}function Zl(){St=nn=null,Ke=!1}function hu(){var t=pl;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),pl=null),t}function ka(t){pl===null?pl=[t]:pl.push(t)}var gu=j(null),Ql=null,Li=null;function gl(t,n,i){F(gu,n._currentValue),n._currentValue=i}function Bi(t){t._currentValue=gu.current,I(gu)}function mu(t,n,i){for(;t!==null;){var r=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,r!==null&&(r.childLanes|=n)):r!==null&&(r.childLanes&n)!==n&&(r.childLanes|=n),t===i)break;t=t.return}}function xu(t,n,i,r){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var p=u.dependencies;if(p!==null){var b=u.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=u;for(var L=0;L<n.length;L++)if(T.context===n[L]){p.lanes|=i,T=p.alternate,T!==null&&(T.lanes|=i),mu(p.return,i,t),r||(b=null);break e}p=T.next}}else if(u.tag===18){if(b=u.return,b===null)throw Error(a(341));b.lanes|=i,p=b.alternate,p!==null&&(p.lanes|=i),mu(b,i,t),b=null}else b=u.child;if(b!==null)b.return=u;else for(b=u;b!==null;){if(b===t){b=null;break}if(u=b.sibling,u!==null){u.return=b.return,b=u;break}b=b.return}u=b}}function zo(t,n,i,r){t=null;for(var u=n,p=!1;u!==null;){if(!p){if((u.flags&524288)!==0)p=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var b=u.alternate;if(b===null)throw Error(a(387));if(b=b.memoizedProps,b!==null){var T=u.type;Dn(u.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(u===xe.current){if(b=u.alternate,b===null)throw Error(a(387));b.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(tr):t=[tr])}u=u.return}t!==null&&xu(n,t,i,r),n.flags|=262144}function Jr(t){for(t=t.firstContext;t!==null;){if(!Dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Pl(t){Ql=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return mh(Ql,t)}function es(t,n){return Ql===null&&Pl(t),mh(t,n)}function mh(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},Li===null){if(t===null)throw Error(a(308));Li=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Li=Li.next=n;return i}var mv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,r){t.push(r)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},xv=e.unstable_scheduleCallback,yv=e.unstable_NormalPriority,Ht={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yu(){return{controller:new mv,data:new Map,refCount:0}}function ja(t){t.refCount--,t.refCount===0&&xv(yv,function(){t.controller.abort()})}var za=null,bu=0,Ro=0,Mo=null;function bv(t,n){if(za===null){var i=za=[];bu=0,Ro=wd(),Mo={status:"pending",value:void 0,then:function(r){i.push(r)}}}return bu++,n.then(xh,xh),n}function xh(){if(--bu===0&&za!==null){Mo!==null&&(Mo.status="fulfilled");var t=za;za=null,Ro=0,Mo=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function vv(t,n){var i=[],r={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return t.then(function(){r.status="fulfilled",r.value=n;for(var u=0;u<i.length;u++)(0,i[u])(n)},function(u){for(r.status="rejected",r.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),r}var yh=z.S;z.S=function(t,n){tm=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&bv(t,n),yh!==null&&yh(t,n)};var Jl=j(null);function vu(){var t=Jl.current;return t!==null?t:xt.pooledCache}function ts(t,n){n===null?F(Jl,Jl.current):F(Jl,n.pool)}function bh(){var t=vu();return t===null?null:{parent:Ht._currentValue,pool:t}}var No=Error(a(460)),Su=Error(a(474)),ns=Error(a(542)),is={then:function(){}};function vh(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sh(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(Mi,Mi),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Eh(t),t;default:if(typeof n.status=="string")n.then(Mi,Mi);else{if(t=xt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(r){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=r}},function(r){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=r}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Eh(t),t}throw to=n,No}}function eo(t){try{var n=t._init;return n(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(to=i,No):i}}var to=null;function wh(){if(to===null)throw Error(a(459));var t=to;return to=null,t}function Eh(t){if(t===No||t===ns)throw Error(a(483))}var Do=null,Ra=0;function ls(t){var n=Ra;return Ra+=1,Do===null&&(Do=[]),Sh(Do,t,n)}function Ma(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function os(t,n){throw n.$$typeof===v?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ch(t){function n(X,$){if(t){var Z=X.deletions;Z===null?(X.deletions=[$],X.flags|=16):Z.push($)}}function i(X,$){if(!t)return null;for(;$!==null;)n(X,$),$=$.sibling;return null}function r(X){for(var $=new Map;X!==null;)X.key!==null?$.set(X.key,X):$.set(X.index,X),X=X.sibling;return $}function u(X,$){return X=Di(X,$),X.index=0,X.sibling=null,X}function p(X,$,Z){return X.index=Z,t?(Z=X.alternate,Z!==null?(Z=Z.index,Z<$?(X.flags|=67108866,$):Z):(X.flags|=67108866,$)):(X.flags|=1048576,$)}function b(X){return t&&X.alternate===null&&(X.flags|=67108866),X}function T(X,$,Z,ce){return $===null||$.tag!==6?($=cu(Z,X.mode,ce),$.return=X,$):($=u($,Z),$.return=X,$)}function L(X,$,Z,ce){var ke=Z.type;return ke===w?re(X,$,Z.props.children,ce,Z.key):$!==null&&($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===H&&eo(ke)===$.type)?($=u($,Z.props),Ma($,Z),$.return=X,$):($=Qr(Z.type,Z.key,Z.props,null,X.mode,ce),Ma($,Z),$.return=X,$)}function Q(X,$,Z,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==Z.containerInfo||$.stateNode.implementation!==Z.implementation?($=uu(Z,X.mode,ce),$.return=X,$):($=u($,Z.children||[]),$.return=X,$)}function re(X,$,Z,ce,ke){return $===null||$.tag!==7?($=Kl(Z,X.mode,ce,ke),$.return=X,$):($=u($,Z),$.return=X,$)}function ue(X,$,Z){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=cu(""+$,X.mode,Z),$.return=X,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return Z=Qr($.type,$.key,$.props,null,X.mode,Z),Ma(Z,$),Z.return=X,Z;case E:return $=uu($,X.mode,Z),$.return=X,$;case H:return $=eo($),ue(X,$,Z)}if(P($)||de($))return $=Kl($,X.mode,Z,null),$.return=X,$;if(typeof $.then=="function")return ue(X,ls($),Z);if($.$$typeof===k)return ue(X,es(X,$),Z);os(X,$)}return null}function J(X,$,Z,ce){var ke=$!==null?$.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return ke!==null?null:T(X,$,""+Z,ce);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return Z.key===ke?L(X,$,Z,ce):null;case E:return Z.key===ke?Q(X,$,Z,ce):null;case H:return Z=eo(Z),J(X,$,Z,ce)}if(P(Z)||de(Z))return ke!==null?null:re(X,$,Z,ce,null);if(typeof Z.then=="function")return J(X,$,ls(Z),ce);if(Z.$$typeof===k)return J(X,$,es(X,Z),ce);os(X,Z)}return null}function ie(X,$,Z,ce,ke){if(typeof ce=="string"&&ce!==""||typeof ce=="number"||typeof ce=="bigint")return X=X.get(Z)||null,T($,X,""+ce,ke);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case S:return X=X.get(ce.key===null?Z:ce.key)||null,L($,X,ce,ke);case E:return X=X.get(ce.key===null?Z:ce.key)||null,Q($,X,ce,ke);case H:return ce=eo(ce),ie(X,$,Z,ce,ke)}if(P(ce)||de(ce))return X=X.get(Z)||null,re($,X,ce,ke,null);if(typeof ce.then=="function")return ie(X,$,Z,ls(ce),ke);if(ce.$$typeof===k)return ie(X,$,Z,es($,ce),ke);os($,ce)}return null}function Se(X,$,Z,ce){for(var ke=null,et=null,Ee=$,Be=$=0,Ve=null;Ee!==null&&Be<Z.length;Be++){Ee.index>Be?(Ve=Ee,Ee=null):Ve=Ee.sibling;var tt=J(X,Ee,Z[Be],ce);if(tt===null){Ee===null&&(Ee=Ve);break}t&&Ee&&tt.alternate===null&&n(X,Ee),$=p(tt,$,Be),et===null?ke=tt:et.sibling=tt,et=tt,Ee=Ve}if(Be===Z.length)return i(X,Ee),Ke&&Oi(X,Be),ke;if(Ee===null){for(;Be<Z.length;Be++)Ee=ue(X,Z[Be],ce),Ee!==null&&($=p(Ee,$,Be),et===null?ke=Ee:et.sibling=Ee,et=Ee);return Ke&&Oi(X,Be),ke}for(Ee=r(Ee);Be<Z.length;Be++)Ve=ie(Ee,X,Be,Z[Be],ce),Ve!==null&&(t&&Ve.alternate!==null&&Ee.delete(Ve.key===null?Be:Ve.key),$=p(Ve,$,Be),et===null?ke=Ve:et.sibling=Ve,et=Ve);return t&&Ee.forEach(function(Nl){return n(X,Nl)}),Ke&&Oi(X,Be),ke}function je(X,$,Z,ce){if(Z==null)throw Error(a(151));for(var ke=null,et=null,Ee=$,Be=$=0,Ve=null,tt=Z.next();Ee!==null&&!tt.done;Be++,tt=Z.next()){Ee.index>Be?(Ve=Ee,Ee=null):Ve=Ee.sibling;var Nl=J(X,Ee,tt.value,ce);if(Nl===null){Ee===null&&(Ee=Ve);break}t&&Ee&&Nl.alternate===null&&n(X,Ee),$=p(Nl,$,Be),et===null?ke=Nl:et.sibling=Nl,et=Nl,Ee=Ve}if(tt.done)return i(X,Ee),Ke&&Oi(X,Be),ke;if(Ee===null){for(;!tt.done;Be++,tt=Z.next())tt=ue(X,tt.value,ce),tt!==null&&($=p(tt,$,Be),et===null?ke=tt:et.sibling=tt,et=tt);return Ke&&Oi(X,Be),ke}for(Ee=r(Ee);!tt.done;Be++,tt=Z.next())tt=ie(Ee,X,Be,tt.value,ce),tt!==null&&(t&&tt.alternate!==null&&Ee.delete(tt.key===null?Be:tt.key),$=p(tt,$,Be),et===null?ke=tt:et.sibling=tt,et=tt);return t&&Ee.forEach(function(RS){return n(X,RS)}),Ke&&Oi(X,Be),ke}function gt(X,$,Z,ce){if(typeof Z=="object"&&Z!==null&&Z.type===w&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:e:{for(var ke=Z.key;$!==null;){if($.key===ke){if(ke=Z.type,ke===w){if($.tag===7){i(X,$.sibling),ce=u($,Z.props.children),ce.return=X,X=ce;break e}}else if($.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===H&&eo(ke)===$.type){i(X,$.sibling),ce=u($,Z.props),Ma(ce,Z),ce.return=X,X=ce;break e}i(X,$);break}else n(X,$);$=$.sibling}Z.type===w?(ce=Kl(Z.props.children,X.mode,ce,Z.key),ce.return=X,X=ce):(ce=Qr(Z.type,Z.key,Z.props,null,X.mode,ce),Ma(ce,Z),ce.return=X,X=ce)}return b(X);case E:e:{for(ke=Z.key;$!==null;){if($.key===ke)if($.tag===4&&$.stateNode.containerInfo===Z.containerInfo&&$.stateNode.implementation===Z.implementation){i(X,$.sibling),ce=u($,Z.children||[]),ce.return=X,X=ce;break e}else{i(X,$);break}else n(X,$);$=$.sibling}ce=uu(Z,X.mode,ce),ce.return=X,X=ce}return b(X);case H:return Z=eo(Z),gt(X,$,Z,ce)}if(P(Z))return Se(X,$,Z,ce);if(de(Z)){if(ke=de(Z),typeof ke!="function")throw Error(a(150));return Z=ke.call(Z),je(X,$,Z,ce)}if(typeof Z.then=="function")return gt(X,$,ls(Z),ce);if(Z.$$typeof===k)return gt(X,$,es(X,Z),ce);os(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,$!==null&&$.tag===6?(i(X,$.sibling),ce=u($,Z),ce.return=X,X=ce):(i(X,$),ce=cu(Z,X.mode,ce),ce.return=X,X=ce),b(X)):i(X,$)}return function(X,$,Z,ce){try{Ra=0;var ke=gt(X,$,Z,ce);return Do=null,ke}catch(Ee){if(Ee===No||Ee===ns)throw Ee;var et=On(29,Ee,null,X.mode);return et.lanes=ce,et.return=X,et}}}var no=Ch(!0),Ah=Ch(!1),ml=!1;function wu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eu(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function xl(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yl(t,n,i){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(lt&2)!==0){var u=r.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),r.pending=n,n=Zr(t),sh(t,null,i),n}return Kr(t,r,n,i),Zr(t)}function Na(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var r=n.lanes;r&=t.pendingLanes,i|=r,n.lanes=i,ki(t,i)}}function Cu(t,n){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var u=null,p=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};p===null?u=p=b:p=p.next=b,i=i.next}while(i!==null);p===null?u=p=n:p=p.next=n}else u=p=n;i={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:p,shared:r.shared,callbacks:r.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var Au=!1;function Da(){if(Au){var t=Mo;if(t!==null)throw t}}function Oa(t,n,i,r){Au=!1;var u=t.updateQueue;ml=!1;var p=u.firstBaseUpdate,b=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var L=T,Q=L.next;L.next=null,b===null?p=Q:b.next=Q,b=L;var re=t.alternate;re!==null&&(re=re.updateQueue,T=re.lastBaseUpdate,T!==b&&(T===null?re.firstBaseUpdate=Q:T.next=Q,re.lastBaseUpdate=L))}if(p!==null){var ue=u.baseState;b=0,re=Q=L=null,T=p;do{var J=T.lane&-536870913,ie=J!==T.lane;if(ie?(qe&J)===J:(r&J)===J){J!==0&&J===Ro&&(Au=!0),re!==null&&(re=re.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=t,je=T;J=n;var gt=i;switch(je.tag){case 1:if(Se=je.payload,typeof Se=="function"){ue=Se.call(gt,ue,J);break e}ue=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=je.payload,J=typeof Se=="function"?Se.call(gt,ue,J):Se,J==null)break e;ue=y({},ue,J);break e;case 2:ml=!0}}J=T.callback,J!==null&&(t.flags|=64,ie&&(t.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[J]:ie.push(J))}else ie={lane:J,tag:T.tag,payload:T.payload,callback:T.callback,next:null},re===null?(Q=re=ie,L=ue):re=re.next=ie,b|=J;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;ie=T,T=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);re===null&&(L=ue),u.baseState=L,u.firstBaseUpdate=Q,u.lastBaseUpdate=re,p===null&&(u.shared.lanes=0),El|=b,t.lanes=b,t.memoizedState=ue}}function Th(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function _h(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Th(i[t],n)}var Oo=j(null),as=j(0);function kh(t,n){t=Vi,F(as,t),F(Oo,n),Vi=t|n.baseLanes}function Tu(){F(as,Vi),F(Oo,Oo.current)}function _u(){Vi=as.current,I(Oo),I(as)}var Ln=j(null),Pn=null;function bl(t){var n=t.alternate;F(Ot,Ot.current&1),F(Ln,t),Pn===null&&(n===null||Oo.current!==null||n.memoizedState!==null)&&(Pn=t)}function ku(t){F(Ot,Ot.current),F(Ln,t),Pn===null&&(Pn=t)}function jh(t){t.tag===22?(F(Ot,Ot.current),F(Ln,t),Pn===null&&(Pn=t)):vl()}function vl(){F(Ot,Ot.current),F(Ln,Ln.current)}function Bn(t){I(Ln),Pn===t&&(Pn=null),I(Ot)}var Ot=j(0);function rs(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Dd(i)||Od(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Hi=0,Le=null,pt=null,Ut=null,ss=!1,Lo=!1,io=!1,cs=0,La=0,Bo=null,Sv=0;function zt(){throw Error(a(321))}function ju(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Dn(t[i],n[i]))return!1;return!0}function zu(t,n,i,r,u,p){return Hi=p,Le=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=t===null||t.memoizedState===null?fg:qu,io=!1,p=i(r,u),io=!1,Lo&&(p=Rh(n,i,r,u)),zh(t),p}function zh(t){z.H=Ua;var n=pt!==null&&pt.next!==null;if(Hi=0,Ut=pt=Le=null,ss=!1,La=0,Bo=null,n)throw Error(a(300));t===null||It||(t=t.dependencies,t!==null&&Jr(t)&&(It=!0))}function Rh(t,n,i,r){Le=t;var u=0;do{if(Lo&&(Bo=null),La=0,Lo=!1,25<=u)throw Error(a(301));if(u+=1,Ut=pt=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}z.H=pg,p=n(i,r)}while(Lo);return p}function wv(){var t=z.H,n=t.useState()[0];return n=typeof n.then=="function"?Ba(n):n,t=t.useState()[0],(pt!==null?pt.memoizedState:null)!==t&&(Le.flags|=1024),n}function Ru(){var t=cs!==0;return cs=0,t}function Mu(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function Nu(t){if(ss){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ss=!1}Hi=0,Ut=pt=Le=null,Lo=!1,La=cs=0,Bo=null}function xn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Le.memoizedState=Ut=t:Ut=Ut.next=t,Ut}function Lt(){if(pt===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var n=Ut===null?Le.memoizedState:Ut.next;if(n!==null)Ut=n,pt=t;else{if(t===null)throw Le.alternate===null?Error(a(467)):Error(a(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Ut===null?Le.memoizedState=Ut=t:Ut=Ut.next=t}return Ut}function us(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(t){var n=La;return La+=1,Bo===null&&(Bo=[]),t=Sh(Bo,t,n),n=Le,(Ut===null?n.memoizedState:Ut.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?fg:qu),t}function ds(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ba(t);if(t.$$typeof===k)return ln(t)}throw Error(a(438,String(t)))}function Du(t){var n=null,i=Le.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var r=Le.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(n={data:r.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=us(),Le.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),r=0;r<t;r++)i[r]=ee;return n.index++,i}function Ui(t,n){return typeof n=="function"?n(t):n}function fs(t){var n=Lt();return Ou(n,pt,t)}function Ou(t,n,i){var r=t.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=i;var u=t.baseQueue,p=r.pending;if(p!==null){if(u!==null){var b=u.next;u.next=p.next,p.next=b}n.baseQueue=u=p,r.pending=null}if(p=t.baseState,u===null)t.memoizedState=p;else{n=u.next;var T=b=null,L=null,Q=n,re=!1;do{var ue=Q.lane&-536870913;if(ue!==Q.lane?(qe&ue)===ue:(Hi&ue)===ue){var J=Q.revertLane;if(J===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ue===Ro&&(re=!0);else if((Hi&J)===J){Q=Q.next,J===Ro&&(re=!0);continue}else ue={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(T=L=ue,b=p):L=L.next=ue,Le.lanes|=J,El|=J;ue=Q.action,io&&i(p,ue),p=Q.hasEagerState?Q.eagerState:i(p,ue)}else J={lane:ue,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},L===null?(T=L=J,b=p):L=L.next=J,Le.lanes|=ue,El|=ue;Q=Q.next}while(Q!==null&&Q!==n);if(L===null?b=p:L.next=T,!Dn(p,t.memoizedState)&&(It=!0,re&&(i=Mo,i!==null)))throw i;t.memoizedState=p,t.baseState=b,t.baseQueue=L,r.lastRenderedState=p}return u===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Lu(t){var n=Lt(),i=n.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=t;var r=i.dispatch,u=i.pending,p=n.memoizedState;if(u!==null){i.pending=null;var b=u=u.next;do p=t(p,b.action),b=b.next;while(b!==u);Dn(p,n.memoizedState)||(It=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),i.lastRenderedState=p}return[p,r]}function Mh(t,n,i){var r=Le,u=Lt(),p=Ke;if(p){if(i===void 0)throw Error(a(407));i=i()}else i=n();var b=!Dn((pt||u).memoizedState,i);if(b&&(u.memoizedState=i,It=!0),u=u.queue,Uu(Oh.bind(null,r,u,t),[t]),u.getSnapshot!==n||b||Ut!==null&&Ut.memoizedState.tag&1){if(r.flags|=2048,Ho(9,{destroy:void 0},Dh.bind(null,r,u,i,n),null),xt===null)throw Error(a(349));p||(Hi&127)!==0||Nh(r,n,i)}return i}function Nh(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Le.updateQueue,n===null?(n=us(),Le.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Dh(t,n,i,r){n.value=i,n.getSnapshot=r,Lh(n)&&Bh(t)}function Oh(t,n,i){return i(function(){Lh(n)&&Bh(t)})}function Lh(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Dn(t,i)}catch{return!0}}function Bh(t){var n=Fl(t,2);n!==null&&jn(n,t,2)}function Bu(t){var n=xn();if(typeof t=="function"){var i=t;if(t=i(),io){ft(!0);try{i()}finally{ft(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:t},n}function Hh(t,n,i,r){return t.baseState=i,Ou(t,pt,typeof r=="function"?r:Ui)}function Ev(t,n,i,r,u){if(gs(t))throw Error(a(485));if(t=n.action,t!==null){var p={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){p.listeners.push(b)}};z.T!==null?i(!0):p.isTransition=!1,r(p),i=n.pending,i===null?(p.next=n.pending=p,Uh(n,p)):(p.next=i.next,n.pending=i.next=p)}}function Uh(t,n){var i=n.action,r=n.payload,u=t.state;if(n.isTransition){var p=z.T,b={};z.T=b;try{var T=i(u,r),L=z.S;L!==null&&L(b,T),Ih(t,n,T)}catch(Q){Hu(t,n,Q)}finally{p!==null&&b.types!==null&&(p.types=b.types),z.T=p}}else try{p=i(u,r),Ih(t,n,p)}catch(Q){Hu(t,n,Q)}}function Ih(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(r){Yh(t,n,r)},function(r){return Hu(t,n,r)}):Yh(t,n,i)}function Yh(t,n,i){n.status="fulfilled",n.value=i,$h(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,Uh(t,i)))}function Hu(t,n,i){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do n.status="rejected",n.reason=i,$h(n),n=n.next;while(n!==r)}t.action=null}function $h(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Gh(t,n){return n}function Wh(t,n){if(Ke){var i=xt.formState;if(i!==null){e:{var r=Le;if(Ke){if(St){t:{for(var u=St,p=Qn;u.nodeType!==8;){if(!p){u=null;break t}if(u=Jn(u.nextSibling),u===null){u=null;break t}}p=u.data,u=p==="F!"||p==="F"?u:null}if(u){St=Jn(u.nextSibling),r=u.data==="F!";break e}}hl(r)}r=!1}r&&(n=i[0])}}return i=xn(),i.memoizedState=i.baseState=n,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gh,lastRenderedState:n},i.queue=r,i=cg.bind(null,Le,r),r.dispatch=i,r=Bu(!1),p=Wu.bind(null,Le,!1,r.queue),r=xn(),u={state:n,dispatch:null,action:t,pending:null},r.queue=u,i=Ev.bind(null,Le,u,p,i),u.dispatch=i,r.memoizedState=t,[n,i,!1]}function qh(t){var n=Lt();return Vh(n,pt,t)}function Vh(t,n,i){if(n=Ou(t,n,Gh)[0],t=fs(Ui)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var r=Ba(n)}catch(b){throw b===No?ns:b}else r=n;n=Lt();var u=n.queue,p=u.dispatch;return i!==n.memoizedState&&(Le.flags|=2048,Ho(9,{destroy:void 0},Cv.bind(null,u,i),null)),[r,p,t]}function Cv(t,n){t.action=n}function Xh(t){var n=Lt(),i=pt;if(i!==null)return Vh(n,i,t);Lt(),n=n.memoizedState,i=Lt();var r=i.queue.dispatch;return i.memoizedState=t,[n,r,!1]}function Ho(t,n,i,r){return t={tag:t,create:i,deps:r,inst:n,next:null},n=Le.updateQueue,n===null&&(n=us(),Le.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,n.lastEffect=t),t}function Fh(){return Lt().memoizedState}function ps(t,n,i,r){var u=xn();Le.flags|=t,u.memoizedState=Ho(1|n,{destroy:void 0},i,r===void 0?null:r)}function hs(t,n,i,r){var u=Lt();r=r===void 0?null:r;var p=u.memoizedState.inst;pt!==null&&r!==null&&ju(r,pt.memoizedState.deps)?u.memoizedState=Ho(n,p,i,r):(Le.flags|=t,u.memoizedState=Ho(1|n,p,i,r))}function Kh(t,n){ps(8390656,8,t,n)}function Uu(t,n){hs(2048,8,t,n)}function Av(t){Le.flags|=4;var n=Le.updateQueue;if(n===null)n=us(),Le.updateQueue=n,n.events=[t];else{var i=n.events;i===null?n.events=[t]:i.push(t)}}function Zh(t){var n=Lt().memoizedState;return Av({ref:n,nextImpl:t}),function(){if((lt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Qh(t,n){return hs(4,2,t,n)}function Ph(t,n){return hs(4,4,t,n)}function Jh(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function eg(t,n,i){i=i!=null?i.concat([t]):null,hs(4,4,Jh.bind(null,n,t),i)}function Iu(){}function tg(t,n){var i=Lt();n=n===void 0?null:n;var r=i.memoizedState;return n!==null&&ju(n,r[1])?r[0]:(i.memoizedState=[t,n],t)}function ng(t,n){var i=Lt();n=n===void 0?null:n;var r=i.memoizedState;if(n!==null&&ju(n,r[1]))return r[0];if(r=t(),io){ft(!0);try{t()}finally{ft(!1)}}return i.memoizedState=[r,n],r}function Yu(t,n,i){return i===void 0||(Hi&1073741824)!==0&&(qe&261930)===0?t.memoizedState=n:(t.memoizedState=i,t=im(),Le.lanes|=t,El|=t,i)}function ig(t,n,i,r){return Dn(i,n)?i:Oo.current!==null?(t=Yu(t,i,r),Dn(t,n)||(It=!0),t):(Hi&42)===0||(Hi&1073741824)!==0&&(qe&261930)===0?(It=!0,t.memoizedState=i):(t=im(),Le.lanes|=t,El|=t,n)}function lg(t,n,i,r,u){var p=W.p;W.p=p!==0&&8>p?p:8;var b=z.T,T={};z.T=T,Wu(t,!1,n,i);try{var L=u(),Q=z.S;if(Q!==null&&Q(T,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var re=vv(L,r);Ha(t,n,re,In(t))}else Ha(t,n,r,In(t))}catch(ue){Ha(t,n,{then:function(){},status:"rejected",reason:ue},In())}finally{W.p=p,b!==null&&T.types!==null&&(b.types=T.types),z.T=b}}function Tv(){}function $u(t,n,i,r){if(t.tag!==5)throw Error(a(476));var u=og(t).queue;lg(t,u,n,q,i===null?Tv:function(){return ag(t),i(r)})}function og(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:q},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function ag(t){var n=og(t);n.next===null&&(n=t.alternate.memoizedState),Ha(t,n.next.queue,{},In())}function Gu(){return ln(tr)}function rg(){return Lt().memoizedState}function sg(){return Lt().memoizedState}function _v(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=In();t=xl(i);var r=yl(n,t,i);r!==null&&(jn(r,n,i),Na(r,n,i)),n={cache:yu()},t.payload=n;return}n=n.return}}function kv(t,n,i){var r=In();i={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},gs(t)?ug(n,i):(i=ru(t,n,i,r),i!==null&&(jn(i,t,r),dg(i,n,r)))}function cg(t,n,i){var r=In();Ha(t,n,i,r)}function Ha(t,n,i,r){var u={lane:r,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(gs(t))ug(n,u);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var b=n.lastRenderedState,T=p(b,i);if(u.hasEagerState=!0,u.eagerState=T,Dn(T,b))return Kr(t,n,u,0),xt===null&&Fr(),!1}catch{}if(i=ru(t,n,u,r),i!==null)return jn(i,t,r),dg(i,n,r),!0}return!1}function Wu(t,n,i,r){if(r={lane:2,revertLane:wd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},gs(t)){if(n)throw Error(a(479))}else n=ru(t,i,r,2),n!==null&&jn(n,t,2)}function gs(t){var n=t.alternate;return t===Le||n!==null&&n===Le}function ug(t,n){Lo=ss=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function dg(t,n,i){if((i&4194048)!==0){var r=n.lanes;r&=t.pendingLanes,i|=r,n.lanes=i,ki(t,i)}}var Ua={readContext:ln,use:ds,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useLayoutEffect:zt,useInsertionEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useSyncExternalStore:zt,useId:zt,useHostTransitionStatus:zt,useFormState:zt,useActionState:zt,useOptimistic:zt,useMemoCache:zt,useCacheRefresh:zt};Ua.useEffectEvent=zt;var fg={readContext:ln,use:ds,useCallback:function(t,n){return xn().memoizedState=[t,n===void 0?null:n],t},useContext:ln,useEffect:Kh,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,ps(4194308,4,Jh.bind(null,n,t),i)},useLayoutEffect:function(t,n){return ps(4194308,4,t,n)},useInsertionEffect:function(t,n){ps(4,2,t,n)},useMemo:function(t,n){var i=xn();n=n===void 0?null:n;var r=t();if(io){ft(!0);try{t()}finally{ft(!1)}}return i.memoizedState=[r,n],r},useReducer:function(t,n,i){var r=xn();if(i!==void 0){var u=i(n);if(io){ft(!0);try{i(n)}finally{ft(!1)}}}else u=n;return r.memoizedState=r.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},r.queue=t,t=t.dispatch=kv.bind(null,Le,t),[r.memoizedState,t]},useRef:function(t){var n=xn();return t={current:t},n.memoizedState=t},useState:function(t){t=Bu(t);var n=t.queue,i=cg.bind(null,Le,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:Iu,useDeferredValue:function(t,n){var i=xn();return Yu(i,t,n)},useTransition:function(){var t=Bu(!1);return t=lg.bind(null,Le,t.queue,!0,!1),xn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var r=Le,u=xn();if(Ke){if(i===void 0)throw Error(a(407));i=i()}else{if(i=n(),xt===null)throw Error(a(349));(qe&127)!==0||Nh(r,n,i)}u.memoizedState=i;var p={value:i,getSnapshot:n};return u.queue=p,Kh(Oh.bind(null,r,p,t),[t]),r.flags|=2048,Ho(9,{destroy:void 0},Dh.bind(null,r,p,i,n),null),i},useId:function(){var t=xn(),n=xt.identifierPrefix;if(Ke){var i=yi,r=xi;i=(r&~(1<<32-Qe(r)-1)).toString(32)+i,n="_"+n+"R_"+i,i=cs++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=Sv++,n="_"+n+"r_"+i.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Gu,useFormState:Wh,useActionState:Wh,useOptimistic:function(t){var n=xn();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Wu.bind(null,Le,!0,i),i.dispatch=n,[t,n]},useMemoCache:Du,useCacheRefresh:function(){return xn().memoizedState=_v.bind(null,Le)},useEffectEvent:function(t){var n=xn(),i={impl:t};return n.memoizedState=i,function(){if((lt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}},qu={readContext:ln,use:ds,useCallback:tg,useContext:ln,useEffect:Uu,useImperativeHandle:eg,useInsertionEffect:Qh,useLayoutEffect:Ph,useMemo:ng,useReducer:fs,useRef:Fh,useState:function(){return fs(Ui)},useDebugValue:Iu,useDeferredValue:function(t,n){var i=Lt();return ig(i,pt.memoizedState,t,n)},useTransition:function(){var t=fs(Ui)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:Ba(t),n]},useSyncExternalStore:Mh,useId:rg,useHostTransitionStatus:Gu,useFormState:qh,useActionState:qh,useOptimistic:function(t,n){var i=Lt();return Hh(i,pt,t,n)},useMemoCache:Du,useCacheRefresh:sg};qu.useEffectEvent=Zh;var pg={readContext:ln,use:ds,useCallback:tg,useContext:ln,useEffect:Uu,useImperativeHandle:eg,useInsertionEffect:Qh,useLayoutEffect:Ph,useMemo:ng,useReducer:Lu,useRef:Fh,useState:function(){return Lu(Ui)},useDebugValue:Iu,useDeferredValue:function(t,n){var i=Lt();return pt===null?Yu(i,t,n):ig(i,pt.memoizedState,t,n)},useTransition:function(){var t=Lu(Ui)[0],n=Lt().memoizedState;return[typeof t=="boolean"?t:Ba(t),n]},useSyncExternalStore:Mh,useId:rg,useHostTransitionStatus:Gu,useFormState:Xh,useActionState:Xh,useOptimistic:function(t,n){var i=Lt();return pt!==null?Hh(i,pt,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:Du,useCacheRefresh:sg};pg.useEffectEvent=Zh;function Vu(t,n,i,r){n=t.memoizedState,i=i(r,n),i=i==null?n:y({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Xu={enqueueSetState:function(t,n,i){t=t._reactInternals;var r=In(),u=xl(r);u.payload=n,i!=null&&(u.callback=i),n=yl(t,u,r),n!==null&&(jn(n,t,r),Na(n,t,r))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var r=In(),u=xl(r);u.tag=1,u.payload=n,i!=null&&(u.callback=i),n=yl(t,u,r),n!==null&&(jn(n,t,r),Na(n,t,r))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=In(),r=xl(i);r.tag=2,n!=null&&(r.callback=n),n=yl(t,r,i),n!==null&&(jn(n,t,i),Na(n,t,i))}};function hg(t,n,i,r,u,p,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,p,b):n.prototype&&n.prototype.isPureReactComponent?!Aa(i,r)||!Aa(u,p):!0}function gg(t,n,i,r){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,r),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,r),n.state!==t&&Xu.enqueueReplaceState(n,n.state,null)}function lo(t,n){var i=n;if("ref"in n){i={};for(var r in n)r!=="ref"&&(i[r]=n[r])}if(t=t.defaultProps){i===n&&(i=y({},i));for(var u in t)i[u]===void 0&&(i[u]=t[u])}return i}function mg(t){Xr(t)}function xg(t){console.error(t)}function yg(t){Xr(t)}function ms(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(r){setTimeout(function(){throw r})}}function bg(t,n,i){try{var r=t.onCaughtError;r(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Fu(t,n,i){return i=xl(i),i.tag=3,i.payload={element:null},i.callback=function(){ms(t,n)},i}function vg(t){return t=xl(t),t.tag=3,t}function Sg(t,n,i,r){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var p=r.value;t.payload=function(){return u(p)},t.callback=function(){bg(n,i,r)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){bg(n,i,r),typeof u!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})})}function jv(t,n,i,r,u){if(i.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(n=i.alternate,n!==null&&zo(n,i,u,!0),i=Ln.current,i!==null){switch(i.tag){case 31:case 13:return Pn===null?ks():i.alternate===null&&Rt===0&&(Rt=3),i.flags&=-257,i.flags|=65536,i.lanes=u,r===is?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([r]):n.add(r),bd(t,r,u)),!1;case 22:return i.flags|=65536,r===is?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([r])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([r]):i.add(r)),bd(t,r,u)),!1}throw Error(a(435,i.tag))}return bd(t,r,u),ks(),!1}if(Ke)return n=Ln.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,r!==pu&&(t=Error(a(422),{cause:r}),ka(Fn(t,i)))):(r!==pu&&(n=Error(a(423),{cause:r}),ka(Fn(n,i))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,r=Fn(r,i),u=Fu(t.stateNode,r,u),Cu(t,u),Rt!==4&&(Rt=2)),!1;var p=Error(a(520),{cause:r});if(p=Fn(p,i),Xa===null?Xa=[p]:Xa.push(p),Rt!==4&&(Rt=2),n===null)return!0;r=Fn(r,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=u&-u,i.lanes|=t,t=Fu(i.stateNode,r,t),Cu(i,t),!1;case 1:if(n=i.type,p=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Cl===null||!Cl.has(p))))return i.flags|=65536,u&=-u,i.lanes|=u,u=vg(u),Sg(u,t,i,r),Cu(i,u),!1}i=i.return}while(i!==null);return!1}var Ku=Error(a(461)),It=!1;function on(t,n,i,r){n.child=t===null?Ah(n,null,i,r):no(n,t.child,i,r)}function wg(t,n,i,r,u){i=i.render;var p=n.ref;if("ref"in r){var b={};for(var T in r)T!=="ref"&&(b[T]=r[T])}else b=r;return Pl(n),r=zu(t,n,i,b,p,u),T=Ru(),t!==null&&!It?(Mu(t,n,u),Ii(t,n,u)):(Ke&&T&&du(n),n.flags|=1,on(t,n,r,u),n.child)}function Eg(t,n,i,r,u){if(t===null){var p=i.type;return typeof p=="function"&&!su(p)&&p.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=p,Cg(t,n,p,r,u)):(t=Qr(i.type,null,r,n,n.mode,u),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!id(t,u)){var b=p.memoizedProps;if(i=i.compare,i=i!==null?i:Aa,i(b,r)&&t.ref===n.ref)return Ii(t,n,u)}return n.flags|=1,t=Di(p,r),t.ref=n.ref,t.return=n,n.child=t}function Cg(t,n,i,r,u){if(t!==null){var p=t.memoizedProps;if(Aa(p,r)&&t.ref===n.ref)if(It=!1,n.pendingProps=r=p,id(t,u))(t.flags&131072)!==0&&(It=!0);else return n.lanes=t.lanes,Ii(t,n,u)}return Zu(t,n,i,r,u)}function Ag(t,n,i,r){var u=r.children,p=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|i:i,t!==null){for(r=n.child=t.child,u=0;r!==null;)u=u|r.lanes|r.childLanes,r=r.sibling;r=u&~p}else r=0,n.child=null;return Tg(t,n,p,i,r)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&ts(n,p!==null?p.cachePool:null),p!==null?kh(n,p):Tu(),jh(n);else return r=n.lanes=536870912,Tg(t,n,p!==null?p.baseLanes|i:i,i,r)}else p!==null?(ts(n,p.cachePool),kh(n,p),vl(),n.memoizedState=null):(t!==null&&ts(n,null),Tu(),vl());return on(t,n,u,i),n.child}function Ia(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Tg(t,n,i,r,u){var p=vu();return p=p===null?null:{parent:Ht._currentValue,pool:p},n.memoizedState={baseLanes:i,cachePool:p},t!==null&&ts(n,null),Tu(),jh(n),t!==null&&zo(t,n,r,!0),n.childLanes=u,null}function xs(t,n){return n=bs({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function _g(t,n,i){return no(n,t.child,null,i),t=xs(n,n.pendingProps),t.flags|=2,Bn(n),n.memoizedState=null,t}function zv(t,n,i){var r=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ke){if(r.mode==="hidden")return t=xs(n,r),n.lanes=536870912,Ia(null,t);if(ku(n),(t=St)?(t=Um(t,Qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fl!==null?{id:xi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},i=uh(t),i.return=n,n.child=i,nn=n,St=null)):t=null,t===null)throw hl(n);return n.lanes=536870912,null}return xs(n,r)}var p=t.memoizedState;if(p!==null){var b=p.dehydrated;if(ku(n),u)if(n.flags&256)n.flags&=-257,n=_g(t,n,i);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(It||zo(t,n,i,!1),u=(i&t.childLanes)!==0,It||u){if(r=xt,r!==null&&(b=ol(r,i),b!==0&&b!==p.retryLane))throw p.retryLane=b,Fl(t,b),jn(r,t,b),Ku;ks(),n=_g(t,n,i)}else t=p.treeContext,St=Jn(b.nextSibling),nn=n,Ke=!0,pl=null,Qn=!1,t!==null&&ph(n,t),n=xs(n,r),n.flags|=4096;return n}return t=Di(t.child,{mode:r.mode,children:r.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ys(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(a(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function Zu(t,n,i,r,u){return Pl(n),i=zu(t,n,i,r,void 0,u),r=Ru(),t!==null&&!It?(Mu(t,n,u),Ii(t,n,u)):(Ke&&r&&du(n),n.flags|=1,on(t,n,i,u),n.child)}function kg(t,n,i,r,u,p){return Pl(n),n.updateQueue=null,i=Rh(n,r,i,u),zh(t),r=Ru(),t!==null&&!It?(Mu(t,n,p),Ii(t,n,p)):(Ke&&r&&du(n),n.flags|=1,on(t,n,i,p),n.child)}function jg(t,n,i,r,u){if(Pl(n),n.stateNode===null){var p=To,b=i.contextType;typeof b=="object"&&b!==null&&(p=ln(b)),p=new i(r,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Xu,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=r,p.state=n.memoizedState,p.refs={},wu(n),b=i.contextType,p.context=typeof b=="object"&&b!==null?ln(b):To,p.state=n.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Vu(n,i,b,r),p.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(b=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),b!==p.state&&Xu.enqueueReplaceState(p,p.state,null),Oa(n,r,p,u),Da(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),r=!0}else if(t===null){p=n.stateNode;var T=n.memoizedProps,L=lo(i,T);p.props=L;var Q=p.context,re=i.contextType;b=To,typeof re=="object"&&re!==null&&(b=ln(re));var ue=i.getDerivedStateFromProps;re=typeof ue=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,re||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||Q!==b)&&gg(n,p,r,b),ml=!1;var J=n.memoizedState;p.state=J,Oa(n,r,p,u),Da(),Q=n.memoizedState,T||J!==Q||ml?(typeof ue=="function"&&(Vu(n,i,ue,r),Q=n.memoizedState),(L=ml||hg(n,i,L,r,J,Q,b))?(re||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=r,n.memoizedState=Q),p.props=r,p.state=Q,p.context=b,r=L):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),r=!1)}else{p=n.stateNode,Eu(t,n),b=n.memoizedProps,re=lo(i,b),p.props=re,ue=n.pendingProps,J=p.context,Q=i.contextType,L=To,typeof Q=="object"&&Q!==null&&(L=ln(Q)),T=i.getDerivedStateFromProps,(Q=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==ue||J!==L)&&gg(n,p,r,L),ml=!1,J=n.memoizedState,p.state=J,Oa(n,r,p,u),Da();var ie=n.memoizedState;b!==ue||J!==ie||ml||t!==null&&t.dependencies!==null&&Jr(t.dependencies)?(typeof T=="function"&&(Vu(n,i,T,r),ie=n.memoizedState),(re=ml||hg(n,i,re,r,J,ie,L)||t!==null&&t.dependencies!==null&&Jr(t.dependencies))?(Q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(r,ie,L),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(r,ie,L)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&J===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&J===t.memoizedState||(n.flags|=1024),n.memoizedProps=r,n.memoizedState=ie),p.props=r,p.state=ie,p.context=L,r=re):(typeof p.componentDidUpdate!="function"||b===t.memoizedProps&&J===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&J===t.memoizedState||(n.flags|=1024),r=!1)}return p=r,ys(t,n),r=(n.flags&128)!==0,p||r?(p=n.stateNode,i=r&&typeof i.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&r?(n.child=no(n,t.child,null,u),n.child=no(n,null,i,u)):on(t,n,i,u),n.memoizedState=p.state,t=n.child):t=Ii(t,n,u),t}function zg(t,n,i,r){return Zl(),n.flags|=256,on(t,n,i,r),n.child}var Qu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pu(t){return{baseLanes:t,cachePool:bh()}}function Ju(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Un),t}function Rg(t,n,i){var r=n.pendingProps,u=!1,p=(n.flags&128)!==0,b;if((b=p)||(b=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),b&&(u=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ke){if(u?bl(n):vl(),(t=St)?(t=Um(t,Qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:fl!==null?{id:xi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},i=uh(t),i.return=n,n.child=i,nn=n,St=null)):t=null,t===null)throw hl(n);return Od(t)?n.lanes=32:n.lanes=536870912,null}var T=r.children;return r=r.fallback,u?(vl(),u=n.mode,T=bs({mode:"hidden",children:T},u),r=Kl(r,u,i,null),T.return=n,r.return=n,T.sibling=r,n.child=T,r=n.child,r.memoizedState=Pu(i),r.childLanes=Ju(t,b,i),n.memoizedState=Qu,Ia(null,r)):(bl(n),ed(n,T))}var L=t.memoizedState;if(L!==null&&(T=L.dehydrated,T!==null)){if(p)n.flags&256?(bl(n),n.flags&=-257,n=td(t,n,i)):n.memoizedState!==null?(vl(),n.child=t.child,n.flags|=128,n=null):(vl(),T=r.fallback,u=n.mode,r=bs({mode:"visible",children:r.children},u),T=Kl(T,u,i,null),T.flags|=2,r.return=n,T.return=n,r.sibling=T,n.child=r,no(n,t.child,null,i),r=n.child,r.memoizedState=Pu(i),r.childLanes=Ju(t,b,i),n.memoizedState=Qu,n=Ia(null,r));else if(bl(n),Od(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var Q=b.dgst;b=Q,r=Error(a(419)),r.stack="",r.digest=b,ka({value:r,source:null,stack:null}),n=td(t,n,i)}else if(It||zo(t,n,i,!1),b=(i&t.childLanes)!==0,It||b){if(b=xt,b!==null&&(r=ol(b,i),r!==0&&r!==L.retryLane))throw L.retryLane=r,Fl(t,r),jn(b,t,r),Ku;Dd(T)||ks(),n=td(t,n,i)}else Dd(T)?(n.flags|=192,n.child=t.child,n=null):(t=L.treeContext,St=Jn(T.nextSibling),nn=n,Ke=!0,pl=null,Qn=!1,t!==null&&ph(n,t),n=ed(n,r.children),n.flags|=4096);return n}return u?(vl(),T=r.fallback,u=n.mode,L=t.child,Q=L.sibling,r=Di(L,{mode:"hidden",children:r.children}),r.subtreeFlags=L.subtreeFlags&65011712,Q!==null?T=Di(Q,T):(T=Kl(T,u,i,null),T.flags|=2),T.return=n,r.return=n,r.sibling=T,n.child=r,Ia(null,r),r=n.child,T=t.child.memoizedState,T===null?T=Pu(i):(u=T.cachePool,u!==null?(L=Ht._currentValue,u=u.parent!==L?{parent:L,pool:L}:u):u=bh(),T={baseLanes:T.baseLanes|i,cachePool:u}),r.memoizedState=T,r.childLanes=Ju(t,b,i),n.memoizedState=Qu,Ia(t.child,r)):(bl(n),i=t.child,t=i.sibling,i=Di(i,{mode:"visible",children:r.children}),i.return=n,i.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=i,n.memoizedState=null,i)}function ed(t,n){return n=bs({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function bs(t,n){return t=On(22,t,null,n),t.lanes=0,t}function td(t,n,i){return no(n,t.child,null,i),t=ed(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Mg(t,n,i){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n),mu(t.return,n,i)}function nd(t,n,i,r,u,p){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:u,treeForkCount:p}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=r,b.tail=i,b.tailMode=u,b.treeForkCount=p)}function Ng(t,n,i){var r=n.pendingProps,u=r.revealOrder,p=r.tail;r=r.children;var b=Ot.current,T=(b&2)!==0;if(T?(b=b&1|2,n.flags|=128):b&=1,F(Ot,b),on(t,n,r,i),r=Ke?_a:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mg(t,i,n);else if(t.tag===19)Mg(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(u){case"forwards":for(i=n.child,u=null;i!==null;)t=i.alternate,t!==null&&rs(t)===null&&(u=i),i=i.sibling;i=u,i===null?(u=n.child,n.child=null):(u=i.sibling,i.sibling=null),nd(n,!1,u,i,p,r);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=n.child,n.child=null;u!==null;){if(t=u.alternate,t!==null&&rs(t)===null){n.child=u;break}t=u.sibling,u.sibling=i,i=u,u=t}nd(n,!0,i,null,p,r);break;case"together":nd(n,!1,null,null,void 0,r);break;default:n.memoizedState=null}return n.child}function Ii(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),El|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(zo(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,i=Di(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=Di(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function id(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jr(t)))}function Rv(t,n,i){switch(n.tag){case 3:Ce(n,n.stateNode.containerInfo),gl(n,Ht,t.memoizedState.cache),Zl();break;case 27:case 5:Re(n);break;case 4:Ce(n,n.stateNode.containerInfo);break;case 10:gl(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ku(n),null;break;case 13:var r=n.memoizedState;if(r!==null)return r.dehydrated!==null?(bl(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Rg(t,n,i):(bl(n),t=Ii(t,n,i),t!==null?t.sibling:null);bl(n);break;case 19:var u=(t.flags&128)!==0;if(r=(i&n.childLanes)!==0,r||(zo(t,n,i,!1),r=(i&n.childLanes)!==0),u){if(r)return Ng(t,n,i);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),F(Ot,Ot.current),r)break;return null;case 22:return n.lanes=0,Ag(t,n,i,n.pendingProps);case 24:gl(n,Ht,t.memoizedState.cache)}return Ii(t,n,i)}function Dg(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)It=!0;else{if(!id(t,i)&&(n.flags&128)===0)return It=!1,Rv(t,n,i);It=(t.flags&131072)!==0}else It=!1,Ke&&(n.flags&1048576)!==0&&fh(n,_a,n.index);switch(n.lanes=0,n.tag){case 16:e:{var r=n.pendingProps;if(t=eo(n.elementType),n.type=t,typeof t=="function")su(t)?(r=lo(t,r),n.tag=1,n=jg(null,n,t,r,i)):(n.tag=0,n=Zu(null,n,t,r,i));else{if(t!=null){var u=t.$$typeof;if(u===M){n.tag=11,n=wg(null,n,t,r,i);break e}else if(u===Y){n.tag=14,n=Eg(null,n,t,r,i);break e}}throw n=N(t)||t,Error(a(306,n,""))}}return n;case 0:return Zu(t,n,n.type,n.pendingProps,i);case 1:return r=n.type,u=lo(r,n.pendingProps),jg(t,n,r,u,i);case 3:e:{if(Ce(n,n.stateNode.containerInfo),t===null)throw Error(a(387));r=n.pendingProps;var p=n.memoizedState;u=p.element,Eu(t,n),Oa(n,r,null,i);var b=n.memoizedState;if(r=b.cache,gl(n,Ht,r),r!==p.cache&&xu(n,[Ht],i,!0),Da(),r=b.element,p.isDehydrated)if(p={element:r,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=zg(t,n,r,i);break e}else if(r!==u){u=Fn(Error(a(424)),n),ka(u),n=zg(t,n,r,i);break e}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,St=Jn(t.firstChild),nn=n,Ke=!0,pl=null,Qn=!0,i=Ah(n,null,r,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Zl(),r===u){n=Ii(t,n,i);break e}on(t,n,r,i)}n=n.child}return n;case 26:return ys(t,n),t===null?(i=qm(n.type,null,n.pendingProps,null))?n.memoizedState=i:Ke||(i=n.type,t=n.pendingProps,r=Os(me.current).createElement(i),r[At]=n,r[at]=t,an(r,i,t),De(r),n.stateNode=r):n.memoizedState=qm(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Re(n),t===null&&Ke&&(r=n.stateNode=$m(n.type,n.pendingProps,me.current),nn=n,Qn=!0,u=St,kl(n.type)?(Ld=u,St=Jn(r.firstChild)):St=u),on(t,n,n.pendingProps.children,i),ys(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ke&&((u=r=St)&&(r=rS(r,n.type,n.pendingProps,Qn),r!==null?(n.stateNode=r,nn=n,St=Jn(r.firstChild),Qn=!1,u=!0):u=!1),u||hl(n)),Re(n),u=n.type,p=n.pendingProps,b=t!==null?t.memoizedProps:null,r=p.children,Rd(u,p)?r=null:b!==null&&Rd(u,b)&&(n.flags|=32),n.memoizedState!==null&&(u=zu(t,n,wv,null,null,i),tr._currentValue=u),ys(t,n),on(t,n,r,i),n.child;case 6:return t===null&&Ke&&((t=i=St)&&(i=sS(i,n.pendingProps,Qn),i!==null?(n.stateNode=i,nn=n,St=null,t=!0):t=!1),t||hl(n)),null;case 13:return Rg(t,n,i);case 4:return Ce(n,n.stateNode.containerInfo),r=n.pendingProps,t===null?n.child=no(n,null,r,i):on(t,n,r,i),n.child;case 11:return wg(t,n,n.type,n.pendingProps,i);case 7:return on(t,n,n.pendingProps,i),n.child;case 8:return on(t,n,n.pendingProps.children,i),n.child;case 12:return on(t,n,n.pendingProps.children,i),n.child;case 10:return r=n.pendingProps,gl(n,n.type,r.value),on(t,n,r.children,i),n.child;case 9:return u=n.type._context,r=n.pendingProps.children,Pl(n),u=ln(u),r=r(u),n.flags|=1,on(t,n,r,i),n.child;case 14:return Eg(t,n,n.type,n.pendingProps,i);case 15:return Cg(t,n,n.type,n.pendingProps,i);case 19:return Ng(t,n,i);case 31:return zv(t,n,i);case 22:return Ag(t,n,i,n.pendingProps);case 24:return Pl(n),r=ln(Ht),t===null?(u=vu(),u===null&&(u=xt,p=yu(),u.pooledCache=p,p.refCount++,p!==null&&(u.pooledCacheLanes|=i),u=p),n.memoizedState={parent:r,cache:u},wu(n),gl(n,Ht,u)):((t.lanes&i)!==0&&(Eu(t,n),Oa(n,null,null,i),Da()),u=t.memoizedState,p=n.memoizedState,u.parent!==r?(u={parent:r,cache:r},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),gl(n,Ht,r)):(r=p.cache,gl(n,Ht,r),r!==u.cache&&xu(n,[Ht],i,!0))),on(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Yi(t){t.flags|=4}function ld(t,n,i,r,u){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(u&335544128)===u)if(t.stateNode.complete)t.flags|=8192;else if(rm())t.flags|=8192;else throw to=is,Su}else t.flags&=-16777217}function Og(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Zm(n))if(rm())t.flags|=8192;else throw to=is,Su}function vs(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Nn():536870912,t.lanes|=n,$o|=n)}function Ya(t,n){if(!Ke)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,r=0;if(n)for(var u=t.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)i|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=r,t.childLanes=i,n}function Mv(t,n,i){var r=n.pendingProps;switch(fu(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(n),null;case 1:return wt(n),null;case 3:return i=n.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Bi(Ht),we(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(jo(n)?Yi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hu())),wt(n),null;case 26:var u=n.type,p=n.memoizedState;return t===null?(Yi(n),p!==null?(wt(n),Og(n,p)):(wt(n),ld(n,u,null,r,i))):p?p!==t.memoizedState?(Yi(n),wt(n),Og(n,p)):(wt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==r&&Yi(n),wt(n),ld(n,u,t,r,i)),null;case 27:if(Pe(n),i=me.current,u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&Yi(n);else{if(!r){if(n.stateNode===null)throw Error(a(166));return wt(n),null}t=le.current,jo(n)?hh(n):(t=$m(u,r,i),n.stateNode=t,Yi(n))}return wt(n),null;case 5:if(Pe(n),u=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==r&&Yi(n);else{if(!r){if(n.stateNode===null)throw Error(a(166));return wt(n),null}if(p=le.current,jo(n))hh(n);else{var b=Os(me.current);switch(p){case 1:p=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:p=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":p=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":p=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":p=b.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof r.is=="string"?b.createElement("select",{is:r.is}):b.createElement("select"),r.multiple?p.multiple=!0:r.size&&(p.size=r.size);break;default:p=typeof r.is=="string"?b.createElement(u,{is:r.is}):b.createElement(u)}}p[At]=n,p[at]=r;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)p.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=p;e:switch(an(p,u,r),u){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Yi(n)}}return wt(n),ld(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,i),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==r&&Yi(n);else{if(typeof r!="string"&&n.stateNode===null)throw Error(a(166));if(t=me.current,jo(n)){if(t=n.stateNode,i=n.memoizedProps,r=null,u=nn,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}t[At]=n,t=!!(t.nodeValue===i||r!==null&&r.suppressHydrationWarning===!0||Rm(t.nodeValue,i)),t||hl(n,!0)}else t=Os(t).createTextNode(r),t[At]=n,n.stateNode=t}return wt(n),null;case 31:if(i=n.memoizedState,t===null||t.memoizedState!==null){if(r=jo(n),i!==null){if(t===null){if(!r)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[At]=n}else Zl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),t=!1}else i=hu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return n.flags&256?(Bn(n),n):(Bn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return wt(n),null;case 13:if(r=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=jo(n),r!==null&&r.dehydrated!==null){if(t===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[At]=n}else Zl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;wt(n),u=!1}else u=hu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Bn(n),n):(Bn(n),null)}return Bn(n),(n.flags&128)!==0?(n.lanes=i,n):(i=r!==null,t=t!==null&&t.memoizedState!==null,i&&(r=n.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool),p=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(p=r.memoizedState.cachePool.pool),p!==u&&(r.flags|=2048)),i!==t&&i&&(n.child.flags|=8192),vs(n,n.updateQueue),wt(n),null);case 4:return we(),t===null&&Td(n.stateNode.containerInfo),wt(n),null;case 10:return Bi(n.type),wt(n),null;case 19:if(I(Ot),r=n.memoizedState,r===null)return wt(n),null;if(u=(n.flags&128)!==0,p=r.rendering,p===null)if(u)Ya(r,!1);else{if(Rt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=rs(t),p!==null){for(n.flags|=128,Ya(r,!1),t=p.updateQueue,n.updateQueue=t,vs(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)ch(i,t),i=i.sibling;return F(Ot,Ot.current&1|2),Ke&&Oi(n,r.treeForkCount),n.child}t=t.sibling}r.tail!==null&&We()>As&&(n.flags|=128,u=!0,Ya(r,!1),n.lanes=4194304)}else{if(!u)if(t=rs(p),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,vs(n,t),Ya(r,!0),r.tail===null&&r.tailMode==="hidden"&&!p.alternate&&!Ke)return wt(n),null}else 2*We()-r.renderingStartTime>As&&i!==536870912&&(n.flags|=128,u=!0,Ya(r,!1),n.lanes=4194304);r.isBackwards?(p.sibling=n.child,n.child=p):(t=r.last,t!==null?t.sibling=p:n.child=p,r.last=p)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=We(),t.sibling=null,i=Ot.current,F(Ot,u?i&1|2:i&1),Ke&&Oi(n,r.treeForkCount),t):(wt(n),null);case 22:case 23:return Bn(n),_u(),r=n.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(n.flags|=8192):r&&(n.flags|=8192),r?(i&536870912)!==0&&(n.flags&128)===0&&(wt(n),n.subtreeFlags&6&&(n.flags|=8192)):wt(n),i=n.updateQueue,i!==null&&vs(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),r=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(r=n.memoizedState.cachePool.pool),r!==i&&(n.flags|=2048),t!==null&&I(Jl),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),Bi(Ht),wt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Nv(t,n){switch(fu(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Bi(Ht),we(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Pe(n),null;case 31:if(n.memoizedState!==null){if(Bn(n),n.alternate===null)throw Error(a(340));Zl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Bn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return I(Ot),null;case 4:return we(),null;case 10:return Bi(n.type),null;case 22:case 23:return Bn(n),_u(),t!==null&&I(Jl),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Bi(Ht),null;case 25:return null;default:return null}}function Lg(t,n){switch(fu(n),n.tag){case 3:Bi(Ht),we();break;case 26:case 27:case 5:Pe(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Bn(n);break;case 13:Bn(n);break;case 19:I(Ot);break;case 10:Bi(n.type);break;case 22:case 23:Bn(n),_u(),t!==null&&I(Jl);break;case 24:Bi(Ht)}}function $a(t,n){try{var i=n.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var u=r.next;i=u;do{if((i.tag&t)===t){r=void 0;var p=i.create,b=i.inst;r=p(),b.destroy=r}i=i.next}while(i!==u)}}catch(T){ct(n,n.return,T)}}function Sl(t,n,i){try{var r=n.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var p=u.next;r=p;do{if((r.tag&t)===t){var b=r.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,u=n;var L=i,Q=T;try{Q()}catch(re){ct(u,L,re)}}}r=r.next}while(r!==p)}}catch(re){ct(n,n.return,re)}}function Bg(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{_h(n,i)}catch(r){ct(t,t.return,r)}}}function Hg(t,n,i){i.props=lo(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(r){ct(t,n,r)}}function Ga(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof i=="function"?t.refCleanup=i(r):i.current=r}}catch(u){ct(t,n,u)}}function bi(t,n){var i=t.ref,r=t.refCleanup;if(i!==null)if(typeof r=="function")try{r()}catch(u){ct(t,n,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){ct(t,n,u)}else i.current=null}function Ug(t){var n=t.type,i=t.memoizedProps,r=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&r.focus();break e;case"img":i.src?r.src=i.src:i.srcSet&&(r.srcset=i.srcSet)}}catch(u){ct(t,t.return,u)}}function od(t,n,i){try{var r=t.stateNode;tS(r,t.type,i,n),r[at]=n}catch(u){ct(t,t.return,u)}}function Ig(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&kl(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ig(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&kl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rd(t,n,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=Mi));else if(r!==4&&(r===27&&kl(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for(rd(t,n,i),t=t.sibling;t!==null;)rd(t,n,i),t=t.sibling}function Ss(t,n,i){var r=t.tag;if(r===5||r===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(r!==4&&(r===27&&kl(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Ss(t,n,i),t=t.sibling;t!==null;)Ss(t,n,i),t=t.sibling}function Yg(t){var n=t.stateNode,i=t.memoizedProps;try{for(var r=t.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);an(n,r,i),n[At]=t,n[at]=i}catch(p){ct(t,t.return,p)}}var $i=!1,Yt=!1,sd=!1,$g=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function Dv(t,n){if(t=t.containerInfo,jd=$s,t=eh(t),tu(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var r=i.getSelection&&i.getSelection();if(r&&r.rangeCount!==0){i=r.anchorNode;var u=r.anchorOffset,p=r.focusNode;r=r.focusOffset;try{i.nodeType,p.nodeType}catch{i=null;break e}var b=0,T=-1,L=-1,Q=0,re=0,ue=t,J=null;t:for(;;){for(var ie;ue!==i||u!==0&&ue.nodeType!==3||(T=b+u),ue!==p||r!==0&&ue.nodeType!==3||(L=b+r),ue.nodeType===3&&(b+=ue.nodeValue.length),(ie=ue.firstChild)!==null;)J=ue,ue=ie;for(;;){if(ue===t)break t;if(J===i&&++Q===u&&(T=b),J===p&&++re===r&&(L=b),(ie=ue.nextSibling)!==null)break;ue=J,J=ue.parentNode}ue=ie}i=T===-1||L===-1?null:{start:T,end:L}}else i=null}i=i||{start:0,end:0}}else i=null;for(zd={focusedElem:t,selectionRange:i},$s=!1,Qt=n;Qt!==null;)if(n=Qt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Qt=t;else for(;Qt!==null;){switch(n=Qt,p=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)u=t[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,i=n,u=p.memoizedProps,p=p.memoizedState,r=i.stateNode;try{var Se=lo(i.type,u);t=r.getSnapshotBeforeUpdate(Se,p),r.__reactInternalSnapshotBeforeUpdate=t}catch(je){ct(i,i.return,je)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)Nd(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Qt=t;break}Qt=n.return}}function Gg(t,n,i){var r=i.flags;switch(i.tag){case 0:case 11:case 15:Wi(t,i),r&4&&$a(5,i);break;case 1:if(Wi(t,i),r&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(b){ct(i,i.return,b)}else{var u=lo(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(u,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ct(i,i.return,b)}}r&64&&Bg(i),r&512&&Ga(i,i.return);break;case 3:if(Wi(t,i),r&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{_h(t,n)}catch(b){ct(i,i.return,b)}}break;case 27:n===null&&r&4&&Yg(i);case 26:case 5:Wi(t,i),n===null&&r&4&&Ug(i),r&512&&Ga(i,i.return);break;case 12:Wi(t,i);break;case 31:Wi(t,i),r&4&&Vg(t,i);break;case 13:Wi(t,i),r&4&&Xg(t,i),r&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Gv.bind(null,i),cS(t,i))));break;case 22:if(r=i.memoizedState!==null||$i,!r){n=n!==null&&n.memoizedState!==null||Yt,u=$i;var p=Yt;$i=r,(Yt=n)&&!p?qi(t,i,(i.subtreeFlags&8772)!==0):Wi(t,i),$i=u,Yt=p}break;case 30:break;default:Wi(t,i)}}function Wg(t){var n=t.alternate;n!==null&&(t.alternate=null,Wg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&U(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var _t=null,An=!1;function Gi(t,n,i){for(i=i.child;i!==null;)qg(t,n,i),i=i.sibling}function qg(t,n,i){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Et,i)}catch{}switch(i.tag){case 26:Yt||bi(i,n),Gi(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Yt||bi(i,n);var r=_t,u=An;kl(i.type)&&(_t=i.stateNode,An=!1),Gi(t,n,i),Pa(i.stateNode),_t=r,An=u;break;case 5:Yt||bi(i,n);case 6:if(r=_t,u=An,_t=null,Gi(t,n,i),_t=r,An=u,_t!==null)if(An)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(i.stateNode)}catch(p){ct(i,n,p)}else try{_t.removeChild(i.stateNode)}catch(p){ct(i,n,p)}break;case 18:_t!==null&&(An?(t=_t,Bm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Zo(t)):Bm(_t,i.stateNode));break;case 4:r=_t,u=An,_t=i.stateNode.containerInfo,An=!0,Gi(t,n,i),_t=r,An=u;break;case 0:case 11:case 14:case 15:Sl(2,i,n),Yt||Sl(4,i,n),Gi(t,n,i);break;case 1:Yt||(bi(i,n),r=i.stateNode,typeof r.componentWillUnmount=="function"&&Hg(i,n,r)),Gi(t,n,i);break;case 21:Gi(t,n,i);break;case 22:Yt=(r=Yt)||i.memoizedState!==null,Gi(t,n,i),Yt=r;break;default:Gi(t,n,i)}}function Vg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zo(t)}catch(i){ct(n,n.return,i)}}}function Xg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zo(t)}catch(i){ct(n,n.return,i)}}function Ov(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new $g),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new $g),n;default:throw Error(a(435,t.tag))}}function ws(t,n){var i=Ov(t);n.forEach(function(r){if(!i.has(r)){i.add(r);var u=Wv.bind(null,t,r);r.then(u,u)}})}function Tn(t,n){var i=n.deletions;if(i!==null)for(var r=0;r<i.length;r++){var u=i[r],p=t,b=n,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(kl(T.type)){_t=T.stateNode,An=!1;break e}break;case 5:_t=T.stateNode,An=!1;break e;case 3:case 4:_t=T.stateNode.containerInfo,An=!0;break e}T=T.return}if(_t===null)throw Error(a(160));qg(p,b,u),_t=null,An=!1,p=u.alternate,p!==null&&(p.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Fg(n,t),n=n.sibling}var ri=null;function Fg(t,n){var i=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(n,t),_n(t),r&4&&(Sl(3,t,t.return),$a(3,t),Sl(5,t,t.return));break;case 1:Tn(n,t),_n(t),r&512&&(Yt||i===null||bi(i,i.return)),r&64&&$i&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?r:i.concat(r))));break;case 26:var u=ri;if(Tn(n,t),_n(t),r&512&&(Yt||i===null||bi(i,i.return)),r&4){var p=i!==null?i.memoizedState:null;if(r=t.memoizedState,i===null)if(r===null)if(t.stateNode===null){e:{r=t.type,i=t.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":p=u.getElementsByTagName("title")[0],(!p||p[ve]||p[At]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=u.createElement(r),u.head.insertBefore(p,u.querySelector("head > title"))),an(p,r,i),p[At]=t,De(p),r=p;break e;case"link":var b=Fm("link","href",u).get(r+(i.href||""));if(b){for(var T=0;T<b.length;T++)if(p=b[T],p.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&p.getAttribute("rel")===(i.rel==null?null:i.rel)&&p.getAttribute("title")===(i.title==null?null:i.title)&&p.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(T,1);break t}}p=u.createElement(r),an(p,r,i),u.head.appendChild(p);break;case"meta":if(b=Fm("meta","content",u).get(r+(i.content||""))){for(T=0;T<b.length;T++)if(p=b[T],p.getAttribute("content")===(i.content==null?null:""+i.content)&&p.getAttribute("name")===(i.name==null?null:i.name)&&p.getAttribute("property")===(i.property==null?null:i.property)&&p.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&p.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(T,1);break t}}p=u.createElement(r),an(p,r,i),u.head.appendChild(p);break;default:throw Error(a(468,r))}p[At]=t,De(p),r=p}t.stateNode=r}else Km(u,t.type,t.stateNode);else t.stateNode=Xm(u,r,t.memoizedProps);else p!==r?(p===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):p.count--,r===null?Km(u,t.type,t.stateNode):Xm(u,r,t.memoizedProps)):r===null&&t.stateNode!==null&&od(t,t.memoizedProps,i.memoizedProps)}break;case 27:Tn(n,t),_n(t),r&512&&(Yt||i===null||bi(i,i.return)),i!==null&&r&4&&od(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Tn(n,t),_n(t),r&512&&(Yt||i===null||bi(i,i.return)),t.flags&32){u=t.stateNode;try{bo(u,"")}catch(Se){ct(t,t.return,Se)}}r&4&&t.stateNode!=null&&(u=t.memoizedProps,od(t,u,i!==null?i.memoizedProps:u)),r&1024&&(sd=!0);break;case 6:if(Tn(n,t),_n(t),r&4){if(t.stateNode===null)throw Error(a(162));r=t.memoizedProps,i=t.stateNode;try{i.nodeValue=r}catch(Se){ct(t,t.return,Se)}}break;case 3:if(Hs=null,u=ri,ri=Ls(n.containerInfo),Tn(n,t),ri=u,_n(t),r&4&&i!==null&&i.memoizedState.isDehydrated)try{Zo(n.containerInfo)}catch(Se){ct(t,t.return,Se)}sd&&(sd=!1,Kg(t));break;case 4:r=ri,ri=Ls(t.stateNode.containerInfo),Tn(n,t),_n(t),ri=r;break;case 12:Tn(n,t),_n(t);break;case 31:Tn(n,t),_n(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ws(t,r)));break;case 13:Tn(n,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Cs=We()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ws(t,r)));break;case 22:u=t.memoizedState!==null;var L=i!==null&&i.memoizedState!==null,Q=$i,re=Yt;if($i=Q||u,Yt=re||L,Tn(n,t),Yt=re,$i=Q,_n(t),r&8192)e:for(n=t.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(i===null||L||$i||Yt||oo(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){L=i=n;try{if(p=L.stateNode,u)b=p.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=L.stateNode;var ue=L.memoizedProps.style,J=ue!=null&&ue.hasOwnProperty("display")?ue.display:null;T.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(Se){ct(L,L.return,Se)}}}else if(n.tag===6){if(i===null){L=n;try{L.stateNode.nodeValue=u?"":L.memoizedProps}catch(Se){ct(L,L.return,Se)}}}else if(n.tag===18){if(i===null){L=n;try{var ie=L.stateNode;u?Hm(ie,!0):Hm(L.stateNode,!1)}catch(Se){ct(L,L.return,Se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}r&4&&(r=t.updateQueue,r!==null&&(i=r.retryQueue,i!==null&&(r.retryQueue=null,ws(t,i))));break;case 19:Tn(n,t),_n(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,ws(t,r)));break;case 30:break;case 21:break;default:Tn(n,t),_n(t)}}function _n(t){var n=t.flags;if(n&2){try{for(var i,r=t.return;r!==null;){if(Ig(r)){i=r;break}r=r.return}if(i==null)throw Error(a(160));switch(i.tag){case 27:var u=i.stateNode,p=ad(t);Ss(t,p,u);break;case 5:var b=i.stateNode;i.flags&32&&(bo(b,""),i.flags&=-33);var T=ad(t);Ss(t,T,b);break;case 3:case 4:var L=i.stateNode.containerInfo,Q=ad(t);rd(t,Q,L);break;default:throw Error(a(161))}}catch(re){ct(t,t.return,re)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Kg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Kg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gg(t,n.alternate,n),n=n.sibling}function oo(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Sl(4,n,n.return),oo(n);break;case 1:bi(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Hg(n,n.return,i),oo(n);break;case 27:Pa(n.stateNode);case 26:case 5:bi(n,n.return),oo(n);break;case 22:n.memoizedState===null&&oo(n);break;case 30:oo(n);break;default:oo(n)}t=t.sibling}}function qi(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var r=n.alternate,u=t,p=n,b=p.flags;switch(p.tag){case 0:case 11:case 15:qi(u,p,i),$a(4,p);break;case 1:if(qi(u,p,i),r=p,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Q){ct(r,r.return,Q)}if(r=p,u=r.updateQueue,u!==null){var T=r.stateNode;try{var L=u.shared.hiddenCallbacks;if(L!==null)for(u.shared.hiddenCallbacks=null,u=0;u<L.length;u++)Th(L[u],T)}catch(Q){ct(r,r.return,Q)}}i&&b&64&&Bg(p),Ga(p,p.return);break;case 27:Yg(p);case 26:case 5:qi(u,p,i),i&&r===null&&b&4&&Ug(p),Ga(p,p.return);break;case 12:qi(u,p,i);break;case 31:qi(u,p,i),i&&b&4&&Vg(u,p);break;case 13:qi(u,p,i),i&&b&4&&Xg(u,p);break;case 22:p.memoizedState===null&&qi(u,p,i),Ga(p,p.return);break;case 30:break;default:qi(u,p,i)}n=n.sibling}}function cd(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ja(i))}function ud(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ja(t))}function si(t,n,i,r){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zg(t,n,i,r),n=n.sibling}function Zg(t,n,i,r){var u=n.flags;switch(n.tag){case 0:case 11:case 15:si(t,n,i,r),u&2048&&$a(9,n);break;case 1:si(t,n,i,r);break;case 3:si(t,n,i,r),u&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ja(t)));break;case 12:if(u&2048){si(t,n,i,r),t=n.stateNode;try{var p=n.memoizedProps,b=p.id,T=p.onPostCommit;typeof T=="function"&&T(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){ct(n,n.return,L)}}else si(t,n,i,r);break;case 31:si(t,n,i,r);break;case 13:si(t,n,i,r);break;case 23:break;case 22:p=n.stateNode,b=n.alternate,n.memoizedState!==null?p._visibility&2?si(t,n,i,r):Wa(t,n):p._visibility&2?si(t,n,i,r):(p._visibility|=2,Uo(t,n,i,r,(n.subtreeFlags&10256)!==0||!1)),u&2048&&cd(b,n);break;case 24:si(t,n,i,r),u&2048&&ud(n.alternate,n);break;default:si(t,n,i,r)}}function Uo(t,n,i,r,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=t,b=n,T=i,L=r,Q=b.flags;switch(b.tag){case 0:case 11:case 15:Uo(p,b,T,L,u),$a(8,b);break;case 23:break;case 22:var re=b.stateNode;b.memoizedState!==null?re._visibility&2?Uo(p,b,T,L,u):Wa(p,b):(re._visibility|=2,Uo(p,b,T,L,u)),u&&Q&2048&&cd(b.alternate,b);break;case 24:Uo(p,b,T,L,u),u&&Q&2048&&ud(b.alternate,b);break;default:Uo(p,b,T,L,u)}n=n.sibling}}function Wa(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,r=n,u=r.flags;switch(r.tag){case 22:Wa(i,r),u&2048&&cd(r.alternate,r);break;case 24:Wa(i,r),u&2048&&ud(r.alternate,r);break;default:Wa(i,r)}n=n.sibling}}var qa=8192;function Io(t,n,i){if(t.subtreeFlags&qa)for(t=t.child;t!==null;)Qg(t,n,i),t=t.sibling}function Qg(t,n,i){switch(t.tag){case 26:Io(t,n,i),t.flags&qa&&t.memoizedState!==null&&SS(i,ri,t.memoizedState,t.memoizedProps);break;case 5:Io(t,n,i);break;case 3:case 4:var r=ri;ri=Ls(t.stateNode.containerInfo),Io(t,n,i),ri=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=qa,qa=16777216,Io(t,n,i),qa=r):Io(t,n,i));break;default:Io(t,n,i)}}function Pg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Va(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];Qt=r,em(r,t)}Pg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jg(t),t=t.sibling}function Jg(t){switch(t.tag){case 0:case 11:case 15:Va(t),t.flags&2048&&Sl(9,t,t.return);break;case 3:Va(t);break;case 12:Va(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Es(t)):Va(t);break;default:Va(t)}}function Es(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];Qt=r,em(r,t)}Pg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Sl(8,n,n.return),Es(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Es(n));break;default:Es(n)}t=t.sibling}}function em(t,n){for(;Qt!==null;){var i=Qt;switch(i.tag){case 0:case 11:case 15:Sl(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var r=i.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ja(i.memoizedState.cache)}if(r=i.child,r!==null)r.return=i,Qt=r;else e:for(i=t;Qt!==null;){r=Qt;var u=r.sibling,p=r.return;if(Wg(r),r===i){Qt=null;break e}if(u!==null){u.return=p,Qt=u;break e}Qt=p}}}var Lv={getCacheForType:function(t){var n=ln(Ht),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i},cacheSignal:function(){return ln(Ht).controller.signal}},Bv=typeof WeakMap=="function"?WeakMap:Map,lt=0,xt=null,$e=null,qe=0,st=0,Hn=null,wl=!1,Yo=!1,dd=!1,Vi=0,Rt=0,El=0,ao=0,fd=0,Un=0,$o=0,Xa=null,kn=null,pd=!1,Cs=0,tm=0,As=1/0,Ts=null,Cl=null,Vt=0,Al=null,Go=null,Xi=0,hd=0,gd=null,nm=null,Fa=0,md=null;function In(){return(lt&2)!==0&&qe!==0?qe&-qe:z.T!==null?wd():qn()}function im(){if(Un===0)if((qe&536870912)===0||Ke){var t=Ct;Ct<<=1,(Ct&3932160)===0&&(Ct=262144),Un=t}else Un=536870912;return t=Ln.current,t!==null&&(t.flags|=32),Un}function jn(t,n,i){(t===xt&&(st===2||st===9)||t.cancelPendingCommit!==null)&&(Wo(t,0),Tl(t,qe,Un,!1)),Gn(t,i),((lt&2)===0||t!==xt)&&(t===xt&&((lt&2)===0&&(ao|=i),Rt===4&&Tl(t,qe,Un,!1)),vi(t))}function lm(t,n,i){if((lt&6)!==0)throw Error(a(327));var r=!i&&(n&127)===0&&(n&t.expiredLanes)===0||tn(t,n),u=r?Iv(t,n):yd(t,n,!0),p=r;do{if(u===0){Yo&&!r&&Tl(t,n,0,!1);break}else{if(i=t.current.alternate,p&&!Hv(i)){u=yd(t,n,!1),p=!1;continue}if(u===2){if(p=n,t.errorRecoveryDisabledLanes&p)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var T=t;u=Xa;var L=T.current.memoizedState.isDehydrated;if(L&&(Wo(T,b).flags|=256),b=yd(T,b,!1),b!==2){if(dd&&!L){T.errorRecoveryDisabledLanes|=p,ao|=p,u=4;break e}p=kn,kn=u,p!==null&&(kn===null?kn=p:kn.push.apply(kn,p))}u=b}if(p=!1,u!==2)continue}}if(u===1){Wo(t,0),Tl(t,n,0,!0);break}e:{switch(r=t,p=u,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Tl(r,n,Un,!wl);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=Cs+300-We(),10<u)){if(Tl(r,n,Un,!wl),gi(r,0,!0)!==0)break e;Xi=n,r.timeoutHandle=Om(om.bind(null,r,i,kn,Ts,pd,n,Un,ao,$o,wl,p,"Throttled",-0,0),u);break e}om(r,i,kn,Ts,pd,n,Un,ao,$o,wl,p,null,-0,0)}}break}while(!0);vi(t)}function om(t,n,i,r,u,p,b,T,L,Q,re,ue,J,ie){if(t.timeoutHandle=-1,ue=n.subtreeFlags,ue&8192||(ue&16785408)===16785408){ue={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},Qg(n,p,ue);var Se=(p&62914560)===p?Cs-We():(p&4194048)===p?tm-We():0;if(Se=wS(ue,Se),Se!==null){Xi=p,t.cancelPendingCommit=Se(pm.bind(null,t,n,p,i,r,u,b,T,L,re,ue,null,J,ie)),Tl(t,p,b,!Q);return}}pm(t,n,p,i,r,u,b,T,L)}function Hv(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var r=0;r<i.length;r++){var u=i[r],p=u.getSnapshot;u=u.value;try{if(!Dn(p(),u))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Tl(t,n,i,r){n&=~fd,n&=~ao,t.suspendedLanes|=n,t.pingedLanes&=~n,r&&(t.warmLanes|=n),r=t.expirationTimes;for(var u=n;0<u;){var p=31-Qe(u),b=1<<p;r[p]=-1,u&=~b}i!==0&&Wn(t,i,n)}function _s(){return(lt&6)===0?(Ka(0),!1):!0}function xd(){if($e!==null){if(st===0)var t=$e.return;else t=$e,Li=Ql=null,Nu(t),Do=null,Ra=0,t=$e;for(;t!==null;)Lg(t.alternate,t),t=t.return;$e=null}}function Wo(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,lS(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Xi=0,xd(),xt=t,$e=i=Di(t.current,null),qe=n,st=0,Hn=null,wl=!1,Yo=tn(t,n),dd=!1,$o=Un=fd=ao=El=Rt=0,kn=Xa=null,pd=!1,(n&8)!==0&&(n|=n&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=n;0<r;){var u=31-Qe(r),p=1<<u;n|=t[u],r&=~p}return Vi=n,Fr(),i}function am(t,n){Le=null,z.H=Ua,n===No||n===ns?(n=wh(),st=3):n===Su?(n=wh(),st=4):st=n===Ku?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Hn=n,$e===null&&(Rt=1,ms(t,Fn(n,t.current)))}function rm(){var t=Ln.current;return t===null?!0:(qe&4194048)===qe?Pn===null:(qe&62914560)===qe||(qe&536870912)!==0?t===Pn:!1}function sm(){var t=z.H;return z.H=Ua,t===null?Ua:t}function cm(){var t=z.A;return z.A=Lv,t}function ks(){Rt=4,wl||(qe&4194048)!==qe&&Ln.current!==null||(Yo=!0),(El&134217727)===0&&(ao&134217727)===0||xt===null||Tl(xt,qe,Un,!1)}function yd(t,n,i){var r=lt;lt|=2;var u=sm(),p=cm();(xt!==t||qe!==n)&&(Ts=null,Wo(t,n)),n=!1;var b=Rt;e:do try{if(st!==0&&$e!==null){var T=$e,L=Hn;switch(st){case 8:xd(),b=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(n=!0);var Q=st;if(st=0,Hn=null,qo(t,T,L,Q),i&&Yo){b=0;break e}break;default:Q=st,st=0,Hn=null,qo(t,T,L,Q)}}Uv(),b=Rt;break}catch(re){am(t,re)}while(!0);return n&&t.shellSuspendCounter++,Li=Ql=null,lt=r,z.H=u,z.A=p,$e===null&&(xt=null,qe=0,Fr()),b}function Uv(){for(;$e!==null;)um($e)}function Iv(t,n){var i=lt;lt|=2;var r=sm(),u=cm();xt!==t||qe!==n?(Ts=null,As=We()+500,Wo(t,n)):Yo=tn(t,n);e:do try{if(st!==0&&$e!==null){n=$e;var p=Hn;t:switch(st){case 1:st=0,Hn=null,qo(t,n,p,1);break;case 2:case 9:if(vh(p)){st=0,Hn=null,dm(n);break}n=function(){st!==2&&st!==9||xt!==t||(st=7),vi(t)},p.then(n,n);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:vh(p)?(st=0,Hn=null,dm(n)):(st=0,Hn=null,qo(t,n,p,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var T=$e;if(b?Zm(b):T.stateNode.complete){st=0,Hn=null;var L=T.sibling;if(L!==null)$e=L;else{var Q=T.return;Q!==null?($e=Q,js(Q)):$e=null}break t}}st=0,Hn=null,qo(t,n,p,5);break;case 6:st=0,Hn=null,qo(t,n,p,6);break;case 8:xd(),Rt=6;break e;default:throw Error(a(462))}}Yv();break}catch(re){am(t,re)}while(!0);return Li=Ql=null,z.H=r,z.A=u,lt=i,$e!==null?0:(xt=null,qe=0,Fr(),Rt)}function Yv(){for(;$e!==null&&!Bt();)um($e)}function um(t){var n=Dg(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,n===null?js(t):$e=n}function dm(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=kg(i,n,n.pendingProps,n.type,void 0,qe);break;case 11:n=kg(i,n,n.pendingProps,n.type.render,n.ref,qe);break;case 5:Nu(n);default:Lg(i,n),n=$e=ch(n,Vi),n=Dg(i,n,Vi)}t.memoizedProps=t.pendingProps,n===null?js(t):$e=n}function qo(t,n,i,r){Li=Ql=null,Nu(n),Do=null,Ra=0;var u=n.return;try{if(jv(t,u,n,i,qe)){Rt=1,ms(t,Fn(i,t.current)),$e=null;return}}catch(p){if(u!==null)throw $e=u,p;Rt=1,ms(t,Fn(i,t.current)),$e=null;return}n.flags&32768?(Ke||r===1?t=!0:Yo||(qe&536870912)!==0?t=!1:(wl=t=!0,(r===2||r===9||r===3||r===6)&&(r=Ln.current,r!==null&&r.tag===13&&(r.flags|=16384))),fm(n,t)):js(n)}function js(t){var n=t;do{if((n.flags&32768)!==0){fm(n,wl);return}t=n.return;var i=Mv(n.alternate,n,Vi);if(i!==null){$e=i;return}if(n=n.sibling,n!==null){$e=n;return}$e=n=t}while(n!==null);Rt===0&&(Rt=5)}function fm(t,n){do{var i=Nv(t.alternate,t);if(i!==null){i.flags&=32767,$e=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){$e=t;return}$e=t=i}while(t!==null);Rt=6,$e=null}function pm(t,n,i,r,u,p,b,T,L){t.cancelPendingCommit=null;do zs();while(Vt!==0);if((lt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=au,_i(t,i,p,b,T,L),t===xt&&($e=xt=null,qe=0),Go=n,Al=t,Xi=i,hd=p,gd=u,nm=r,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qv(K,function(){return ym(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||r){r=z.T,z.T=null,u=W.p,W.p=2,b=lt,lt|=4;try{Dv(t,n,i)}finally{lt=b,W.p=u,z.T=r}}Vt=1,hm(),gm(),mm()}}function hm(){if(Vt===1){Vt=0;var t=Al,n=Go,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=z.T,z.T=null;var r=W.p;W.p=2;var u=lt;lt|=4;try{Fg(n,t);var p=zd,b=eh(t.containerInfo),T=p.focusedElem,L=p.selectionRange;if(b!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(L!==null&&tu(T)){var Q=L.start,re=L.end;if(re===void 0&&(re=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(re,T.value.length);else{var ue=T.ownerDocument||document,J=ue&&ue.defaultView||window;if(J.getSelection){var ie=J.getSelection(),Se=T.textContent.length,je=Math.min(L.start,Se),gt=L.end===void 0?je:Math.min(L.end,Se);!ie.extend&&je>gt&&(b=gt,gt=je,je=b);var X=Pp(T,je),$=Pp(T,gt);if(X&&$&&(ie.rangeCount!==1||ie.anchorNode!==X.node||ie.anchorOffset!==X.offset||ie.focusNode!==$.node||ie.focusOffset!==$.offset)){var Z=ue.createRange();Z.setStart(X.node,X.offset),ie.removeAllRanges(),je>gt?(ie.addRange(Z),ie.extend($.node,$.offset)):(Z.setEnd($.node,$.offset),ie.addRange(Z))}}}}for(ue=[],ie=T;ie=ie.parentNode;)ie.nodeType===1&&ue.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ue.length;T++){var ce=ue[T];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}$s=!!jd,zd=jd=null}finally{lt=u,W.p=r,z.T=i}}t.current=n,Vt=2}}function gm(){if(Vt===2){Vt=0;var t=Al,n=Go,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=z.T,z.T=null;var r=W.p;W.p=2;var u=lt;lt|=4;try{Gg(t,n.alternate,n)}finally{lt=u,W.p=r,z.T=i}}Vt=3}}function mm(){if(Vt===4||Vt===3){Vt=0,Jt();var t=Al,n=Go,i=Xi,r=nm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Vt=5:(Vt=0,Go=Al=null,xm(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Cl=null),gn(i),n=n.stateNode,rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Et,n,void 0,(n.current.flags&128)===128)}catch{}if(r!==null){n=z.T,u=W.p,W.p=2,z.T=null;try{for(var p=t.onRecoverableError,b=0;b<r.length;b++){var T=r[b];p(T.value,{componentStack:T.stack})}}finally{z.T=n,W.p=u}}(Xi&3)!==0&&zs(),vi(t),u=t.pendingLanes,(i&261930)!==0&&(u&42)!==0?t===md?Fa++:(Fa=0,md=t):Fa=0,Ka(0)}}function xm(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ja(n)))}function zs(){return hm(),gm(),mm(),ym()}function ym(){if(Vt!==5)return!1;var t=Al,n=hd;hd=0;var i=gn(Xi),r=z.T,u=W.p;try{W.p=32>i?32:i,z.T=null,i=gd,gd=null;var p=Al,b=Xi;if(Vt=0,Go=Al=null,Xi=0,(lt&6)!==0)throw Error(a(331));var T=lt;if(lt|=4,Jg(p.current),Zg(p,p.current,b,i),lt=T,Ka(0,!1),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Et,p)}catch{}return!0}finally{W.p=u,z.T=r,xm(t,n)}}function bm(t,n,i){n=Fn(i,n),n=Fu(t.stateNode,n,2),t=yl(t,n,2),t!==null&&(Gn(t,2),vi(t))}function ct(t,n,i){if(t.tag===3)bm(t,t,i);else for(;n!==null;){if(n.tag===3){bm(n,t,i);break}else if(n.tag===1){var r=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cl===null||!Cl.has(r))){t=Fn(i,t),i=vg(2),r=yl(n,i,2),r!==null&&(Sg(i,r,n,t),Gn(r,2),vi(r));break}}n=n.return}}function bd(t,n,i){var r=t.pingCache;if(r===null){r=t.pingCache=new Bv;var u=new Set;r.set(n,u)}else u=r.get(n),u===void 0&&(u=new Set,r.set(n,u));u.has(i)||(dd=!0,u.add(i),t=$v.bind(null,t,n,i),n.then(t,t))}function $v(t,n,i){var r=t.pingCache;r!==null&&r.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,xt===t&&(qe&i)===i&&(Rt===4||Rt===3&&(qe&62914560)===qe&&300>We()-Cs?(lt&2)===0&&Wo(t,0):fd|=i,$o===qe&&($o=0)),vi(t)}function vm(t,n){n===0&&(n=Nn()),t=Fl(t,n),t!==null&&(Gn(t,n),vi(t))}function Gv(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),vm(t,i)}function Wv(t,n){var i=0;switch(t.tag){case 31:case 13:var r=t.stateNode,u=t.memoizedState;u!==null&&(i=u.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(n),vm(t,i)}function qv(t,n){return ut(t,n)}var Rs=null,Vo=null,vd=!1,Ms=!1,Sd=!1,_l=0;function vi(t){t!==Vo&&t.next===null&&(Vo===null?Rs=Vo=t:Vo=Vo.next=t),Ms=!0,vd||(vd=!0,Xv())}function Ka(t,n){if(!Sd&&Ms){Sd=!0;do for(var i=!1,r=Rs;r!==null;){if(t!==0){var u=r.pendingLanes;if(u===0)var p=0;else{var b=r.suspendedLanes,T=r.pingedLanes;p=(1<<31-Qe(42|t)+1)-1,p&=u&~(b&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(i=!0,Cm(r,p))}else p=qe,p=gi(r,r===xt?p:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(p&3)===0||tn(r,p)||(i=!0,Cm(r,p));r=r.next}while(i);Sd=!1}}function Vv(){Sm()}function Sm(){Ms=vd=!1;var t=0;_l!==0&&iS()&&(t=_l);for(var n=We(),i=null,r=Rs;r!==null;){var u=r.next,p=wm(r,n);p===0?(r.next=null,i===null?Rs=u:i.next=u,u===null&&(Vo=i)):(i=r,(t!==0||(p&3)!==0)&&(Ms=!0)),r=u}Vt!==0&&Vt!==5||Ka(t),_l!==0&&(_l=0)}function wm(t,n){for(var i=t.suspendedLanes,r=t.pingedLanes,u=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var b=31-Qe(p),T=1<<b,L=u[b];L===-1?((T&i)===0||(T&r)!==0)&&(u[b]=it(T,n)):L<=n&&(t.expiredLanes|=T),p&=~T}if(n=xt,i=qe,i=gi(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,i===0||t===n&&(st===2||st===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Gt(r),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||tn(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(r!==null&&Gt(r),gn(i)){case 2:case 8:i=dt;break;case 32:i=K;break;case 268435456:i=Wt;break;default:i=K}return r=Em.bind(null,t),i=ut(i,r),t.callbackPriority=n,t.callbackNode=i,n}return r!==null&&r!==null&&Gt(r),t.callbackPriority=2,t.callbackNode=null,2}function Em(t,n){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(zs()&&t.callbackNode!==i)return null;var r=qe;return r=gi(t,t===xt?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(lm(t,r,n),wm(t,We()),t.callbackNode!=null&&t.callbackNode===i?Em.bind(null,t):null)}function Cm(t,n){if(zs())return null;lm(t,n,!0)}function Xv(){oS(function(){(lt&6)!==0?ut(vt,Vv):Sm()})}function wd(){if(_l===0){var t=Ro;t===0&&(t=en,en<<=1,(en&261888)===0&&(en=256)),_l=t}return _l}function Am(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ir(""+t)}function Tm(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function Fv(t,n,i,r,u){if(n==="submit"&&i&&i.stateNode===u){var p=Am((u[at]||null).action),b=r.submitter;b&&(n=(n=b[at]||null)?Am(n.formAction):b.getAttribute("formAction"),n!==null&&(p=n,b=null));var T=new Wr("action","action",null,r,u);t.push({event:T,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(_l!==0){var L=b?Tm(u,b):new FormData(u);$u(i,{pending:!0,data:L,method:u.method,action:p},null,L)}}else typeof p=="function"&&(T.preventDefault(),L=b?Tm(u,b):new FormData(u),$u(i,{pending:!0,data:L,method:u.method,action:p},p,L))},currentTarget:u}]})}}for(var Ed=0;Ed<ou.length;Ed++){var Cd=ou[Ed],Kv=Cd.toLowerCase(),Zv=Cd[0].toUpperCase()+Cd.slice(1);ai(Kv,"on"+Zv)}ai(ih,"onAnimationEnd"),ai(lh,"onAnimationIteration"),ai(oh,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(fv,"onTransitionRun"),ai(pv,"onTransitionStart"),ai(hv,"onTransitionCancel"),ai(ah,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Za));function _m(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],u=r.event;r=r.listeners;e:{var p=void 0;if(n)for(var b=r.length-1;0<=b;b--){var T=r[b],L=T.instance,Q=T.currentTarget;if(T=T.listener,L!==p&&u.isPropagationStopped())break e;p=T,u.currentTarget=Q;try{p(u)}catch(re){Xr(re)}u.currentTarget=null,p=L}else for(b=0;b<r.length;b++){if(T=r[b],L=T.instance,Q=T.currentTarget,T=T.listener,L!==p&&u.isPropagationStopped())break e;p=T,u.currentTarget=Q;try{p(u)}catch(re){Xr(re)}u.currentTarget=null,p=L}}}}function Ge(t,n){var i=n[oi];i===void 0&&(i=n[oi]=new Set);var r=t+"__bubble";i.has(r)||(km(n,t,2,!1),i.add(r))}function Ad(t,n,i){var r=0;n&&(r|=4),km(i,t,r,n)}var Ns="_reactListening"+Math.random().toString(36).slice(2);function Td(t){if(!t[Ns]){t[Ns]=!0,Dt.forEach(function(i){i!=="selectionchange"&&(Qv.has(i)||Ad(i,!1,t),Ad(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ns]||(n[Ns]=!0,Ad("selectionchange",!1,n))}}function km(t,n,i,r){switch(ix(n)){case 2:var u=AS;break;case 8:u=TS;break;default:u=Yd}i=u.bind(null,n,i,t),u=void 0,!Vc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),r?u!==void 0?t.addEventListener(n,i,{capture:!0,passive:u}):t.addEventListener(n,i,!0):u!==void 0?t.addEventListener(n,i,{passive:u}):t.addEventListener(n,i,!1)}function _d(t,n,i,r,u){var p=r;if((n&1)===0&&(n&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var T=r.stateNode.containerInfo;if(T===u)break;if(b===4)for(b=r.return;b!==null;){var L=b.tag;if((L===3||L===4)&&b.stateNode.containerInfo===u)return;b=b.return}for(;T!==null;){if(b=ge(T),b===null)return;if(L=b.tag,L===5||L===6||L===26||L===27){r=p=b;continue e}T=T.parentNode}}r=r.return}Np(function(){var Q=p,re=Wc(i),ue=[];e:{var J=rh.get(t);if(J!==void 0){var ie=Wr,Se=t;switch(t){case"keypress":if($r(i)===0)break e;case"keydown":case"keyup":ie=W1;break;case"focusin":Se="focus",ie=Zc;break;case"focusout":Se="blur",ie=Zc;break;case"beforeblur":case"afterblur":ie=Zc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Lp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=M1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=X1;break;case ih:case lh:case oh:ie=O1;break;case ah:ie=K1;break;case"scroll":case"scrollend":ie=z1;break;case"wheel":ie=Q1;break;case"copy":case"cut":case"paste":ie=B1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Hp;break;case"toggle":case"beforetoggle":ie=J1}var je=(n&4)!==0,gt=!je&&(t==="scroll"||t==="scrollend"),X=je?J!==null?J+"Capture":null:J;je=[];for(var $=Q,Z;$!==null;){var ce=$;if(Z=ce.stateNode,ce=ce.tag,ce!==5&&ce!==26&&ce!==27||Z===null||X===null||(ce=ya($,X),ce!=null&&je.push(Qa($,ce,Z))),gt)break;$=$.return}0<je.length&&(J=new ie(J,Se,null,i,re),ue.push({event:J,listeners:je}))}}if((n&7)===0){e:{if(J=t==="mouseover"||t==="pointerover",ie=t==="mouseout"||t==="pointerout",J&&i!==Gc&&(Se=i.relatedTarget||i.fromElement)&&(ge(Se)||Se[En]))break e;if((ie||J)&&(J=re.window===re?re:(J=re.ownerDocument)?J.defaultView||J.parentWindow:window,ie?(Se=i.relatedTarget||i.toElement,ie=Q,Se=Se?ge(Se):null,Se!==null&&(gt=c(Se),je=Se.tag,Se!==gt||je!==5&&je!==27&&je!==6)&&(Se=null)):(ie=null,Se=Q),ie!==Se)){if(je=Lp,ce="onMouseLeave",X="onMouseEnter",$="mouse",(t==="pointerout"||t==="pointerover")&&(je=Hp,ce="onPointerLeave",X="onPointerEnter",$="pointer"),gt=ie==null?J:Ze(ie),Z=Se==null?J:Ze(Se),J=new je(ce,$+"leave",ie,i,re),J.target=gt,J.relatedTarget=Z,ce=null,ge(re)===Q&&(je=new je(X,$+"enter",Se,i,re),je.target=Z,je.relatedTarget=gt,ce=je),gt=ce,ie&&Se)t:{for(je=Pv,X=ie,$=Se,Z=0,ce=X;ce;ce=je(ce))Z++;ce=0;for(var ke=$;ke;ke=je(ke))ce++;for(;0<Z-ce;)X=je(X),Z--;for(;0<ce-Z;)$=je($),ce--;for(;Z--;){if(X===$||$!==null&&X===$.alternate){je=X;break t}X=je(X),$=je($)}je=null}else je=null;ie!==null&&jm(ue,J,ie,je,!1),Se!==null&&gt!==null&&jm(ue,gt,Se,je,!0)}}e:{if(J=Q?Ze(Q):window,ie=J.nodeName&&J.nodeName.toLowerCase(),ie==="select"||ie==="input"&&J.type==="file")var et=Vp;else if(Wp(J))if(Xp)et=cv;else{et=rv;var Ee=av}else ie=J.nodeName,!ie||ie.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&$c(Q.elementType)&&(et=Vp):et=sv;if(et&&(et=et(t,Q))){qp(ue,et,i,re);break e}Ee&&Ee(t,J,Q),t==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&xa(J,"number",J.value)}switch(Ee=Q?Ze(Q):window,t){case"focusin":(Wp(Ee)||Ee.contentEditable==="true")&&(Eo=Ee,nu=Q,Ta=null);break;case"focusout":Ta=nu=Eo=null;break;case"mousedown":iu=!0;break;case"contextmenu":case"mouseup":case"dragend":iu=!1,th(ue,i,re);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":th(ue,i,re)}var Be;if(Pc)e:{switch(t){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else wo?$p(t,i)&&(Ve="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Ve="onCompositionStart");Ve&&(Up&&i.locale!=="ko"&&(wo||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&wo&&(Be=Dp()):(dl=re,Xc="value"in dl?dl.value:dl.textContent,wo=!0)),Ee=Ds(Q,Ve),0<Ee.length&&(Ve=new Bp(Ve,t,null,i,re),ue.push({event:Ve,listeners:Ee}),Be?Ve.data=Be:(Be=Gp(i),Be!==null&&(Ve.data=Be)))),(Be=tv?nv(t,i):iv(t,i))&&(Ve=Ds(Q,"onBeforeInput"),0<Ve.length&&(Ee=new Bp("onBeforeInput","beforeinput",null,i,re),ue.push({event:Ee,listeners:Ve}),Ee.data=Be)),Fv(ue,t,Q,i,re)}_m(ue,n)})}function Qa(t,n,i){return{instance:t,listener:n,currentTarget:i}}function Ds(t,n){for(var i=n+"Capture",r=[];t!==null;){var u=t,p=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||p===null||(u=ya(t,i),u!=null&&r.unshift(Qa(t,u,p)),u=ya(t,n),u!=null&&r.push(Qa(t,u,p))),t.tag===3)return r;t=t.return}return[]}function Pv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jm(t,n,i,r,u){for(var p=n._reactName,b=[];i!==null&&i!==r;){var T=i,L=T.alternate,Q=T.stateNode;if(T=T.tag,L!==null&&L===r)break;T!==5&&T!==26&&T!==27||Q===null||(L=Q,u?(Q=ya(i,p),Q!=null&&b.unshift(Qa(i,Q,L))):u||(Q=ya(i,p),Q!=null&&b.push(Qa(i,Q,L)))),i=i.return}b.length!==0&&t.push({event:n,listeners:b})}var Jv=/\r\n?/g,eS=/\u0000|\uFFFD/g;function zm(t){return(typeof t=="string"?t:""+t).replace(Jv,`
`).replace(eS,"")}function Rm(t,n){return n=zm(n),zm(t)===n}function ht(t,n,i,r,u,p){switch(i){case"children":typeof r=="string"?n==="body"||n==="textarea"&&r===""||bo(t,r):(typeof r=="number"||typeof r=="bigint")&&n!=="body"&&bo(t,""+r);break;case"className":yo(t,"class",r);break;case"tabIndex":yo(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":yo(t,i,r);break;case"style":Rp(t,r,p);break;case"data":if(n!=="object"){yo(t,"data",r);break}case"src":case"href":if(r===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Ir(""+r),t.setAttribute(i,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(i==="formAction"?(n!=="input"&&ht(t,n,"name",u.name,u,null),ht(t,n,"formEncType",u.formEncType,u,null),ht(t,n,"formMethod",u.formMethod,u,null),ht(t,n,"formTarget",u.formTarget,u,null)):(ht(t,n,"encType",u.encType,u,null),ht(t,n,"method",u.method,u,null),ht(t,n,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(i);break}r=Ir(""+r),t.setAttribute(i,r);break;case"onClick":r!=null&&(t.onclick=Mi);break;case"onScroll":r!=null&&Ge("scroll",t);break;case"onScrollEnd":r!=null&&Ge("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}i=Ir(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""+r):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":r===!0?t.setAttribute(i,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(i,r):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(i,r):t.removeAttribute(i);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(i):t.setAttribute(i,r);break;case"popover":Ge("beforetoggle",t),Ge("toggle",t),xo(t,"popover",r);break;case"xlinkActuate":ne(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ne(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ne(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ne(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ne(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ne(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ne(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ne(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ne(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":xo(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=k1.get(i)||i,xo(t,i,r))}}function kd(t,n,i,r,u,p){switch(i){case"style":Rp(t,r,p);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(i=r.__html,i!=null){if(u.children!=null)throw Error(a(60));t.innerHTML=i}}break;case"children":typeof r=="string"?bo(t,r):(typeof r=="number"||typeof r=="bigint")&&bo(t,""+r);break;case"onScroll":r!=null&&Ge("scroll",t);break;case"onScrollEnd":r!=null&&Ge("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dn.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),n=i.slice(2,u?i.length-7:void 0),p=t[at]||null,p=p!=null?p[i]:null,typeof p=="function"&&t.removeEventListener(n,p,u),typeof r=="function")){typeof p!="function"&&p!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,r,u);break e}i in t?t[i]=r:r===!0?t.setAttribute(i,""):xo(t,i,r)}}}function an(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",t),Ge("load",t);var r=!1,u=!1,p;for(p in i)if(i.hasOwnProperty(p)){var b=i[p];if(b!=null)switch(p){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,p,b,i,null)}}u&&ht(t,n,"srcSet",i.srcSet,i,null),r&&ht(t,n,"src",i.src,i,null);return;case"input":Ge("invalid",t);var T=p=b=u=null,L=null,Q=null;for(r in i)if(i.hasOwnProperty(r)){var re=i[r];if(re!=null)switch(r){case"name":u=re;break;case"type":b=re;break;case"checked":L=re;break;case"defaultChecked":Q=re;break;case"value":p=re;break;case"defaultValue":T=re;break;case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(a(137,n));break;default:ht(t,n,r,re,i,null)}}Ri(t,p,T,L,Q,b,u,!1);return;case"select":Ge("invalid",t),r=b=p=null;for(u in i)if(i.hasOwnProperty(u)&&(T=i[u],T!=null))switch(u){case"value":p=T;break;case"defaultValue":b=T;break;case"multiple":r=T;default:ht(t,n,u,T,i,null)}n=p,i=b,t.multiple=!!r,n!=null?ul(t,!!r,n,!1):i!=null&&ul(t,!!r,i,!0);return;case"textarea":Ge("invalid",t),p=u=r=null;for(b in i)if(i.hasOwnProperty(b)&&(T=i[b],T!=null))switch(b){case"value":r=T;break;case"defaultValue":u=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ht(t,n,b,T,i,null)}jp(t,r,u,p);return;case"option":for(L in i)i.hasOwnProperty(L)&&(r=i[L],r!=null)&&(L==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":ht(t,n,L,r,i,null));return;case"dialog":Ge("beforetoggle",t),Ge("toggle",t),Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":Ge("load",t);break;case"video":case"audio":for(r=0;r<Za.length;r++)Ge(Za[r],t);break;case"image":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"embed":case"source":case"link":Ge("error",t),Ge("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in i)if(i.hasOwnProperty(Q)&&(r=i[Q],r!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ht(t,n,Q,r,i,null)}return;default:if($c(n)){for(re in i)i.hasOwnProperty(re)&&(r=i[re],r!==void 0&&kd(t,n,re,r,i,void 0));return}}for(T in i)i.hasOwnProperty(T)&&(r=i[T],r!=null&&ht(t,n,T,r,i,null))}function tS(t,n,i,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,p=null,b=null,T=null,L=null,Q=null,re=null;for(ie in i){var ue=i[ie];if(i.hasOwnProperty(ie)&&ue!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":L=ue;default:r.hasOwnProperty(ie)||ht(t,n,ie,null,r,ue)}}for(var J in r){var ie=r[J];if(ue=i[J],r.hasOwnProperty(J)&&(ie!=null||ue!=null))switch(J){case"type":p=ie;break;case"name":u=ie;break;case"checked":Q=ie;break;case"defaultChecked":re=ie;break;case"value":b=ie;break;case"defaultValue":T=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(a(137,n));break;default:ie!==ue&&ht(t,n,J,ie,r,ue)}}mi(t,b,T,L,Q,re,p,u);return;case"select":ie=b=T=J=null;for(p in i)if(L=i[p],i.hasOwnProperty(p)&&L!=null)switch(p){case"value":break;case"multiple":ie=L;default:r.hasOwnProperty(p)||ht(t,n,p,null,r,L)}for(u in r)if(p=r[u],L=i[u],r.hasOwnProperty(u)&&(p!=null||L!=null))switch(u){case"value":J=p;break;case"defaultValue":T=p;break;case"multiple":b=p;default:p!==L&&ht(t,n,u,p,r,L)}n=T,i=b,r=ie,J!=null?ul(t,!!i,J,!1):!!r!=!!i&&(n!=null?ul(t,!!i,n,!0):ul(t,!!i,i?[]:"",!1));return;case"textarea":ie=J=null;for(T in i)if(u=i[T],i.hasOwnProperty(T)&&u!=null&&!r.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ht(t,n,T,null,r,u)}for(b in r)if(u=r[b],p=i[b],r.hasOwnProperty(b)&&(u!=null||p!=null))switch(b){case"value":J=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==p&&ht(t,n,b,u,r,p)}kp(t,J,ie);return;case"option":for(var Se in i)J=i[Se],i.hasOwnProperty(Se)&&J!=null&&!r.hasOwnProperty(Se)&&(Se==="selected"?t.selected=!1:ht(t,n,Se,null,r,J));for(L in r)J=r[L],ie=i[L],r.hasOwnProperty(L)&&J!==ie&&(J!=null||ie!=null)&&(L==="selected"?t.selected=J&&typeof J!="function"&&typeof J!="symbol":ht(t,n,L,J,r,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in i)J=i[je],i.hasOwnProperty(je)&&J!=null&&!r.hasOwnProperty(je)&&ht(t,n,je,null,r,J);for(Q in r)if(J=r[Q],ie=i[Q],r.hasOwnProperty(Q)&&J!==ie&&(J!=null||ie!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(a(137,n));break;default:ht(t,n,Q,J,r,ie)}return;default:if($c(n)){for(var gt in i)J=i[gt],i.hasOwnProperty(gt)&&J!==void 0&&!r.hasOwnProperty(gt)&&kd(t,n,gt,void 0,r,J);for(re in r)J=r[re],ie=i[re],!r.hasOwnProperty(re)||J===ie||J===void 0&&ie===void 0||kd(t,n,re,J,r,ie);return}}for(var X in i)J=i[X],i.hasOwnProperty(X)&&J!=null&&!r.hasOwnProperty(X)&&ht(t,n,X,null,r,J);for(ue in r)J=r[ue],ie=i[ue],!r.hasOwnProperty(ue)||J===ie||J==null&&ie==null||ht(t,n,ue,J,r,ie)}function Mm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,i=performance.getEntriesByType("resource"),r=0;r<i.length;r++){var u=i[r],p=u.transferSize,b=u.initiatorType,T=u.duration;if(p&&T&&Mm(b)){for(b=0,T=u.responseEnd,r+=1;r<i.length;r++){var L=i[r],Q=L.startTime;if(Q>T)break;var re=L.transferSize,ue=L.initiatorType;re&&Mm(ue)&&(L=L.responseEnd,b+=re*(L<T?1:(T-Q)/(L-Q)))}if(--r,n+=8*(p+b)/(u.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var jd=null,zd=null;function Os(t){return t.nodeType===9?t:t.ownerDocument}function Nm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dm(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Md=null;function iS(){var t=window.event;return t&&t.type==="popstate"?t===Md?!1:(Md=t,!0):(Md=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,Lm=typeof Promise=="function"?Promise:void 0,oS=typeof queueMicrotask=="function"?queueMicrotask:typeof Lm<"u"?function(t){return Lm.resolve(null).then(t).catch(aS)}:Om;function aS(t){setTimeout(function(){throw t})}function kl(t){return t==="head"}function Bm(t,n){var i=n,r=0;do{var u=i.nextSibling;if(t.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(r===0){t.removeChild(u),Zo(n);return}r--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")r++;else if(i==="html")Pa(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Pa(i);for(var p=i.firstChild;p;){var b=p.nextSibling,T=p.nodeName;p[ve]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||i.removeChild(p),p=b}}else i==="body"&&Pa(t.ownerDocument.body);i=u}while(i);Zo(n)}function Hm(t,n){var i=t;t=0;do{var r=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),r&&r.nodeType===8)if(i=r.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=r}while(i)}function Nd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Nd(i),U(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function rS(t,n,i,r){for(;t.nodeType===1;){var u=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[ve])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function sS(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Jn(t.nextSibling),t===null))return null;return t}function Um(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function Dd(t){return t.data==="$?"||t.data==="$~"}function Od(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function cS(t,n){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||i.readyState!=="loading")n();else{var r=function(){n(),i.removeEventListener("DOMContentLoaded",r)};i.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var Ld=null;function Im(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(n===0)return Jn(t.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}t=t.nextSibling}return null}function Ym(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return t;n--}else i!=="/$"&&i!=="/&"||n++}t=t.previousSibling}return null}function $m(t,n,i){switch(n=Os(i),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Pa(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);U(t)}var ei=new Map,Gm=new Set;function Ls(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=W.d;W.d={f:uS,r:dS,D:fS,C:pS,L:hS,m:gS,X:xS,S:mS,M:yS};function uS(){var t=Fi.f(),n=_s();return t||n}function dS(t){var n=be(t);n!==null&&n.tag===5&&n.type==="form"?ag(n):Fi.r(t)}var Xo=typeof document>"u"?null:document;function Wm(t,n,i){var r=Xo;if(r&&typeof n=="string"&&n){var u=Tt(n);u='link[rel="'+t+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Gm.has(u)||(Gm.add(u),t={rel:t,crossOrigin:i,href:n},r.querySelector(u)===null&&(n=r.createElement("link"),an(n,"link",t),De(n),r.head.appendChild(n)))}}function fS(t){Fi.D(t),Wm("dns-prefetch",t,null)}function pS(t,n){Fi.C(t,n),Wm("preconnect",t,n)}function hS(t,n,i){Fi.L(t,n,i);var r=Xo;if(r&&t&&n){var u='link[rel="preload"][as="'+Tt(n)+'"]';n==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+Tt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+Tt(i.imageSizes)+'"]')):u+='[href="'+Tt(t)+'"]';var p=u;switch(n){case"style":p=Fo(t);break;case"script":p=Ko(t)}ei.has(p)||(t=y({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),ei.set(p,t),r.querySelector(u)!==null||n==="style"&&r.querySelector(Ja(p))||n==="script"&&r.querySelector(er(p))||(n=r.createElement("link"),an(n,"link",t),De(n),r.head.appendChild(n)))}}function gS(t,n){Fi.m(t,n);var i=Xo;if(i&&t){var r=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Tt(r)+'"][href="'+Tt(t)+'"]',p=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Ko(t)}if(!ei.has(p)&&(t=y({rel:"modulepreload",href:t},n),ei.set(p,t),i.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(er(p)))return}r=i.createElement("link"),an(r,"link",t),De(r),i.head.appendChild(r)}}}function mS(t,n,i){Fi.S(t,n,i);var r=Xo;if(r&&t){var u=mt(r).hoistableStyles,p=Fo(t);n=n||"default";var b=u.get(p);if(!b){var T={loading:0,preload:null};if(b=r.querySelector(Ja(p)))T.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},i),(i=ei.get(p))&&Bd(t,i);var L=b=r.createElement("link");De(L),an(L,"link",t),L._p=new Promise(function(Q,re){L.onload=Q,L.onerror=re}),L.addEventListener("load",function(){T.loading|=1}),L.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Bs(b,n,r)}b={type:"stylesheet",instance:b,count:1,state:T},u.set(p,b)}}}function xS(t,n){Fi.X(t,n);var i=Xo;if(i&&t){var r=mt(i).hoistableScripts,u=Ko(t),p=r.get(u);p||(p=i.querySelector(er(u)),p||(t=y({src:t,async:!0},n),(n=ei.get(u))&&Hd(t,n),p=i.createElement("script"),De(p),an(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(u,p))}}function yS(t,n){Fi.M(t,n);var i=Xo;if(i&&t){var r=mt(i).hoistableScripts,u=Ko(t),p=r.get(u);p||(p=i.querySelector(er(u)),p||(t=y({src:t,async:!0,type:"module"},n),(n=ei.get(u))&&Hd(t,n),p=i.createElement("script"),De(p),an(p,"link",t),i.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},r.set(u,p))}}function qm(t,n,i,r){var u=(u=me.current)?Ls(u):null;if(!u)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=Fo(i.href),i=mt(u).hoistableStyles,r=i.get(n),r||(r={type:"style",instance:null,count:0,state:null},i.set(n,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=Fo(i.href);var p=mt(u).hoistableStyles,b=p.get(t);if(b||(u=u.ownerDocument||u,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,b),(p=u.querySelector(Ja(t)))&&!p._p&&(b.instance=p,b.state.loading=5),ei.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ei.set(t,i),p||bS(u,t,i,b.state))),n&&r===null)throw Error(a(528,""));return b}if(n&&r!==null)throw Error(a(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ko(i),i=mt(u).hoistableScripts,r=i.get(n),r||(r={type:"script",instance:null,count:0,state:null},i.set(n,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Fo(t){return'href="'+Tt(t)+'"'}function Ja(t){return'link[rel="stylesheet"]['+t+"]"}function Vm(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function bS(t,n,i,r){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?r.loading=1:(n=t.createElement("link"),r.preload=n,n.addEventListener("load",function(){return r.loading|=1}),n.addEventListener("error",function(){return r.loading|=2}),an(n,"link",i),De(n),t.head.appendChild(n))}function Ko(t){return'[src="'+Tt(t)+'"]'}function er(t){return"script[async]"+t}function Xm(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var r=t.querySelector('style[data-href~="'+Tt(i.href)+'"]');if(r)return n.instance=r,De(r),r;var u=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),De(r),an(r,"style",u),Bs(r,i.precedence,t),n.instance=r;case"stylesheet":u=Fo(i.href);var p=t.querySelector(Ja(u));if(p)return n.state.loading|=4,n.instance=p,De(p),p;r=Vm(i),(u=ei.get(u))&&Bd(r,u),p=(t.ownerDocument||t).createElement("link"),De(p);var b=p;return b._p=new Promise(function(T,L){b.onload=T,b.onerror=L}),an(p,"link",r),n.state.loading|=4,Bs(p,i.precedence,t),n.instance=p;case"script":return p=Ko(i.src),(u=t.querySelector(er(p)))?(n.instance=u,De(u),u):(r=i,(u=ei.get(p))&&(r=y({},i),Hd(r,u)),t=t.ownerDocument||t,u=t.createElement("script"),De(u),an(u,"link",r),t.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(r=n.instance,n.state.loading|=4,Bs(r,i.precedence,t));return n.instance}function Bs(t,n,i){for(var r=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,p=u,b=0;b<r.length;b++){var T=r[b];if(T.dataset.precedence===n)p=T;else if(p!==u)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function Bd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Hd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Hs=null;function Fm(t,n,i){if(Hs===null){var r=new Map,u=Hs=new Map;u.set(i,r)}else u=Hs,r=u.get(i),r||(r=new Map,u.set(i,r));if(r.has(t))return r;for(r.set(t,null),i=i.getElementsByTagName(t),u=0;u<i.length;u++){var p=i[u];if(!(p[ve]||p[At]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var b=p.getAttribute(n)||"";b=t+b;var T=r.get(b);T?T.push(p):r.set(b,[p])}}return r}function Km(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function vS(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Zm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function SS(t,n,i,r){if(i.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Fo(r.href),p=n.querySelector(Ja(u));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Us.bind(t),n.then(t,t)),i.state.loading|=4,i.instance=p,De(p);return}p=n.ownerDocument||n,r=Vm(r),(u=ei.get(u))&&Bd(r,u),p=p.createElement("link"),De(p);var b=p;b._p=new Promise(function(T,L){b.onload=T,b.onerror=L}),an(p,"link",r),i.instance=p}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=Us.bind(t),n.addEventListener("load",i),n.addEventListener("error",i))}}var Ud=0;function wS(t,n){return t.stylesheets&&t.count===0&&Ys(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var r=setTimeout(function(){if(t.stylesheets&&Ys(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4+n);0<t.imgBytes&&Ud===0&&(Ud=62500*nS());var u=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ys(t,t.stylesheets),t.unsuspend)){var p=t.unsuspend;t.unsuspend=null,p()}},(t.imgBytes>Ud?50:800)+n);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(u)}}:null}function Us(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ys(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Is=null;function Ys(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Is=new Map,n.forEach(ES,t),Is=null,Us.call(t))}function ES(t,n){if(!(n.state.loading&4)){var i=Is.get(t);if(i)var r=i.get(null);else{i=new Map,Is.set(t,i);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<u.length;p++){var b=u[p];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),r=b)}r&&i.set(null,r)}u=n.instance,b=u.getAttribute("data-precedence"),p=i.get(b)||r,p===r&&i.set(null,u),i.set(b,u),this.count++,r=Us.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),p?p.parentNode.insertBefore(u,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),n.state.loading|=4}}var tr={$$typeof:k,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function CS(t,n,i,r,u,p,b,T,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ti(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.hiddenUpdates=Ti(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=p,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Qm(t,n,i,r,u,p,b,T,L,Q,re,ue){return t=new CS(t,n,i,b,L,Q,re,ue,T),n=1,p===!0&&(n|=24),p=On(3,null,null,n),t.current=p,p.stateNode=t,n=yu(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:r,isDehydrated:i,cache:n},wu(p),t}function Pm(t){return t?(t=To,t):To}function Jm(t,n,i,r,u,p){u=Pm(u),r.context===null?r.context=u:r.pendingContext=u,r=xl(n),r.payload={element:i},p=p===void 0?null:p,p!==null&&(r.callback=p),i=yl(t,r,n),i!==null&&(jn(i,t,n),Na(i,t,n))}function ex(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function Id(t,n){ex(t,n),(t=t.alternate)&&ex(t,n)}function tx(t){if(t.tag===13||t.tag===31){var n=Fl(t,67108864);n!==null&&jn(n,t,67108864),Id(t,67108864)}}function nx(t){if(t.tag===13||t.tag===31){var n=In();n=Kt(n);var i=Fl(t,n);i!==null&&jn(i,t,n),Id(t,n)}}var $s=!0;function AS(t,n,i,r){var u=z.T;z.T=null;var p=W.p;try{W.p=2,Yd(t,n,i,r)}finally{W.p=p,z.T=u}}function TS(t,n,i,r){var u=z.T;z.T=null;var p=W.p;try{W.p=8,Yd(t,n,i,r)}finally{W.p=p,z.T=u}}function Yd(t,n,i,r){if($s){var u=$d(r);if(u===null)_d(t,n,r,Gs,i),lx(t,r);else if(kS(u,t,n,i,r))r.stopPropagation();else if(lx(t,r),n&4&&-1<_S.indexOf(t)){for(;u!==null;){var p=be(u);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var b=kt(p.pendingLanes);if(b!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var L=1<<31-Qe(b);T.entanglements[1]|=L,b&=~L}vi(p),(lt&6)===0&&(As=We()+500,Ka(0))}}break;case 31:case 13:T=Fl(p,2),T!==null&&jn(T,p,2),_s(),Id(p,2)}if(p=$d(r),p===null&&_d(t,n,r,Gs,i),p===u)break;u=p}u!==null&&r.stopPropagation()}else _d(t,n,r,null,i)}}function $d(t){return t=Wc(t),Gd(t)}var Gs=null;function Gd(t){if(Gs=null,t=ge(t),t!==null){var n=c(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=d(n),t!==null)return t;t=null}else if(i===31){if(t=h(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Gs=t,null}function ix(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nt()){case vt:return 2;case dt:return 8;case K:case Mn:return 32;case Wt:return 268435456;default:return 32}default:return 32}}var Wd=!1,jl=null,zl=null,Rl=null,nr=new Map,ir=new Map,Ml=[],_S="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lx(t,n){switch(t){case"focusin":case"focusout":jl=null;break;case"dragenter":case"dragleave":zl=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":nr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ir.delete(n.pointerId)}}function lr(t,n,i,r,u,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:i,eventSystemFlags:r,nativeEvent:p,targetContainers:[u]},n!==null&&(n=be(n),n!==null&&tx(n)),t):(t.eventSystemFlags|=r,n=t.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),t)}function kS(t,n,i,r,u){switch(n){case"focusin":return jl=lr(jl,t,n,i,r,u),!0;case"dragenter":return zl=lr(zl,t,n,i,r,u),!0;case"mouseover":return Rl=lr(Rl,t,n,i,r,u),!0;case"pointerover":var p=u.pointerId;return nr.set(p,lr(nr.get(p)||null,t,n,i,r,u)),!0;case"gotpointercapture":return p=u.pointerId,ir.set(p,lr(ir.get(p)||null,t,n,i,r,u)),!0}return!1}function ox(t){var n=ge(t.target);if(n!==null){var i=c(n);if(i!==null){if(n=i.tag,n===13){if(n=d(i),n!==null){t.blockedOn=n,Vn(t.priority,function(){nx(i)});return}}else if(n===31){if(n=h(i),n!==null){t.blockedOn=n,Vn(t.priority,function(){nx(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ws(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=$d(t.nativeEvent);if(i===null){i=t.nativeEvent;var r=new i.constructor(i.type,i);Gc=r,i.target.dispatchEvent(r),Gc=null}else return n=be(i),n!==null&&tx(n),t.blockedOn=i,!1;n.shift()}return!0}function ax(t,n,i){Ws(t)&&i.delete(n)}function jS(){Wd=!1,jl!==null&&Ws(jl)&&(jl=null),zl!==null&&Ws(zl)&&(zl=null),Rl!==null&&Ws(Rl)&&(Rl=null),nr.forEach(ax),ir.forEach(ax)}function qs(t,n){t.blockedOn===n&&(t.blockedOn=null,Wd||(Wd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jS)))}var Vs=null;function rx(t){Vs!==t&&(Vs=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Vs===t&&(Vs=null);for(var n=0;n<t.length;n+=3){var i=t[n],r=t[n+1],u=t[n+2];if(typeof r!="function"){if(Gd(r||i)===null)continue;break}var p=be(i);p!==null&&(t.splice(n,3),n-=3,$u(p,{pending:!0,data:u,method:i.method,action:r},r,u))}}))}function Zo(t){function n(L){return qs(L,t)}jl!==null&&qs(jl,t),zl!==null&&qs(zl,t),Rl!==null&&qs(Rl,t),nr.forEach(n),ir.forEach(n);for(var i=0;i<Ml.length;i++){var r=Ml[i];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ml.length&&(i=Ml[0],i.blockedOn===null);)ox(i),i.blockedOn===null&&Ml.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(r=0;r<i.length;r+=3){var u=i[r],p=i[r+1],b=u[at]||null;if(typeof p=="function")b||rx(i);else if(b){var T=null;if(p&&p.hasAttribute("formAction")){if(u=p,b=p[at]||null)T=b.formAction;else if(Gd(u)!==null)continue}else T=b.action;typeof T=="function"?i[r+1]=T:(i.splice(r,3),r-=3),rx(i)}}}function sx(){function t(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(b){return u=b})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),r||setTimeout(i,20)}function i(){if(!r&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,u=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function qd(t){this._internalRoot=t}Xs.prototype.render=qd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var i=n.current,r=In();Jm(i,r,t,n,null,null)},Xs.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Jm(t.current,2,null,t,null,null),_s(),n[En]=null}};function Xs(t){this._internalRoot=t}Xs.prototype.unstable_scheduleHydration=function(t){if(t){var n=qn();t={blockedOn:null,target:t,priority:n};for(var i=0;i<Ml.length&&n!==0&&n<Ml[i].priority;i++);Ml.splice(i,0,t),i===0&&ox(t)}};var cx=l.version;if(cx!=="19.2.3")throw Error(a(527,cx,"19.2.3"));W.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=m(n),t=t!==null?x(t):null,t=t===null?null:t.stateNode,t};var zS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{Et=Fs.inject(zS),rt=Fs}catch{}}return ar.createRoot=function(t,n){if(!s(t))throw Error(a(299));var i=!1,r="",u=mg,p=xg,b=yg;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=Qm(t,1,!1,null,null,i,r,null,u,p,b,sx),t[En]=n.current,Td(t),new qd(n)},ar.hydrateRoot=function(t,n,i){if(!s(t))throw Error(a(299));var r=!1,u="",p=mg,b=xg,T=yg,L=null;return i!=null&&(i.unstable_strictMode===!0&&(r=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.formState!==void 0&&(L=i.formState)),n=Qm(t,1,!0,n,i??null,r,u,L,p,b,T,sx),n.context=Pm(null),i=n.current,r=In(),r=Kt(r),u=xl(r),u.callback=null,yl(i,u,r),i=r,n.current.lanes=i,Gn(n,i),vi(n),t[En]=n.current,Td(t),new Xs(n)},ar.version="19.2.3",ar}var bx;function US(){if(bx)return Fd.exports;bx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(l){console.error(l)}}return e(),Fd.exports=HS(),Fd.exports}var IS=US();const YS="modulepreload",$S=function(e,l){return new URL(e,l).href},vx={},ll=function(l,o,a){let s=Promise.resolve();if(o&&o.length>0){let m=function(x){return Promise.all(x.map(y=>Promise.resolve(y).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),g=h?.nonce||h?.getAttribute("nonce");s=m(o.map(x=>{if(x=$S(x,a),x in vx)return;vx[x]=!0;const y=x.endsWith(".css"),v=y?'[rel="stylesheet"]':"";if(a)for(let E=d.length-1;E>=0;E--){const w=d[E];if(w.href===x&&(!y||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${x}"]${v}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":YS,y||(S.as="script"),S.crossOrigin="",S.href=x,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((E,w)=>{S.addEventListener("load",E),S.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${x}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return s.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return l().catch(c)})};function sn(e){if(typeof e=="string"||typeof e=="number")return""+e;let l="";if(Array.isArray(e))for(let o=0,a;o<e.length;o++)(a=sn(e[o]))!==""&&(l+=(l&&" ")+a);else for(let o in e)e[o]&&(l+=(l&&" ")+o);return l}var Pd={exports:{}},Jd={},ef={exports:{}},tf={};var Sx;function GS(){if(Sx)return tf;Sx=1;var e=Or();function l(y,v){return y===v&&(y!==0||1/y===1/v)||y!==y&&v!==v}var o=typeof Object.is=="function"?Object.is:l,a=e.useState,s=e.useEffect,c=e.useLayoutEffect,d=e.useDebugValue;function h(y,v){var S=v(),E=a({inst:{value:S,getSnapshot:v}}),w=E[0].inst,_=E[1];return c(function(){w.value=S,w.getSnapshot=v,g(w)&&_({inst:w})},[y,S,v]),s(function(){return g(w)&&_({inst:w}),y(function(){g(w)&&_({inst:w})})},[y]),d(S),S}function g(y){var v=y.getSnapshot;y=y.value;try{var S=v();return!o(y,S)}catch{return!0}}function m(y,v){return v()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return tf.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:x,tf}var wx;function WS(){return wx||(wx=1,ef.exports=GS()),ef.exports}var Ex;function qS(){if(Ex)return Jd;Ex=1;var e=Or(),l=WS();function o(m,x){return m===x&&(m!==0||1/m===1/x)||m!==m&&x!==x}var a=typeof Object.is=="function"?Object.is:o,s=l.useSyncExternalStore,c=e.useRef,d=e.useEffect,h=e.useMemo,g=e.useDebugValue;return Jd.useSyncExternalStoreWithSelector=function(m,x,y,v,S){var E=c(null);if(E.current===null){var w={hasValue:!1,value:null};E.current=w}else w=E.current;E=h(function(){function C(O){if(!R){if(R=!0,k=O,O=v(O),S!==void 0&&w.hasValue){var Y=w.value;if(S(Y,O))return M=Y}return M=O}if(Y=M,a(k,O))return Y;var H=v(O);return S!==void 0&&S(Y,H)?(k=O,Y):(k=O,M=H)}var R=!1,k,M,B=y===void 0?null:y;return[function(){return C(x())},B===null?void 0:function(){return C(B())}]},[x,y,v,S]);var _=s(m,E[0],E[1]);return d(function(){w.hasValue=!0,w.value=_},[_]),g(_),_},Jd}var Cx;function VS(){return Cx||(Cx=1,Pd.exports=qS()),Pd.exports}var XS=VS();const FS=q0(XS),KS={},Ax=e=>{let l;const o=new Set,a=(x,y)=>{const v=typeof x=="function"?x(l):x;if(!Object.is(v,l)){const S=l;l=y??(typeof v!="object"||v===null)?v:Object.assign({},l,v),o.forEach(E=>E(l,S))}},s=()=>l,g={setState:a,getState:s,getInitialState:()=>m,subscribe:x=>(o.add(x),()=>o.delete(x)),destroy:()=>{(KS?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),o.clear()}},m=l=e(a,s,g);return g},ZS=e=>e?Ax(e):Ax,{useDebugValue:QS}=ae,{useSyncExternalStoreWithSelector:PS}=FS,JS=e=>e;function X0(e,l=JS,o){const a=PS(e.subscribe,e.getState,e.getServerState||e.getInitialState,l,o);return QS(a),a}const Tx=(e,l)=>{const o=ZS(e),a=(s,c=l)=>X0(o,s,c);return Object.assign(a,o),a},e2=(e,l)=>e?Tx(e,l):Tx;function Pt(e,l){if(Object.is(e,l))return!0;if(typeof e!="object"||e===null||typeof l!="object"||l===null)return!1;if(e instanceof Map&&l instanceof Map){if(e.size!==l.size)return!1;for(const[a,s]of e)if(!Object.is(s,l.get(a)))return!1;return!0}if(e instanceof Set&&l instanceof Set){if(e.size!==l.size)return!1;for(const a of e)if(!l.has(a))return!1;return!0}const o=Object.keys(e);if(o.length!==Object.keys(l).length)return!1;for(const a of o)if(!Object.prototype.hasOwnProperty.call(l,a)||!Object.is(e[a],l[a]))return!1;return!0}var t2={value:()=>{}};function Nc(){for(var e=0,l=arguments.length,o={},a;e<l;++e){if(!(a=arguments[e]+"")||a in o||/[\s.]/.test(a))throw new Error("illegal type: "+a);o[a]=[]}return new cc(o)}function cc(e){this._=e}function n2(e,l){return e.trim().split(/^|\s+/).map(function(o){var a="",s=o.indexOf(".");if(s>=0&&(a=o.slice(s+1),o=o.slice(0,s)),o&&!l.hasOwnProperty(o))throw new Error("unknown type: "+o);return{type:o,name:a}})}cc.prototype=Nc.prototype={constructor:cc,on:function(e,l){var o=this._,a=n2(e+"",o),s,c=-1,d=a.length;if(arguments.length<2){for(;++c<d;)if((s=(e=a[c]).type)&&(s=i2(o[s],e.name)))return s;return}if(l!=null&&typeof l!="function")throw new Error("invalid callback: "+l);for(;++c<d;)if(s=(e=a[c]).type)o[s]=_x(o[s],e.name,l);else if(l==null)for(s in o)o[s]=_x(o[s],e.name,null);return this},copy:function(){var e={},l=this._;for(var o in l)e[o]=l[o].slice();return new cc(e)},call:function(e,l){if((s=arguments.length-2)>0)for(var o=new Array(s),a=0,s,c;a<s;++a)o[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(c=this._[e],a=0,s=c.length;a<s;++a)c[a].value.apply(l,o)},apply:function(e,l,o){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],s=0,c=a.length;s<c;++s)a[s].value.apply(l,o)}};function i2(e,l){for(var o=0,a=e.length,s;o<a;++o)if((s=e[o]).name===l)return s.value}function _x(e,l,o){for(var a=0,s=e.length;a<s;++a)if(e[a].name===l){e[a]=t2,e=e.slice(0,a).concat(e.slice(a+1));break}return o!=null&&e.push({name:l,value:o}),e}var Tf="http://www.w3.org/1999/xhtml";const kx={svg:"http://www.w3.org/2000/svg",xhtml:Tf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Dc(e){var l=e+="",o=l.indexOf(":");return o>=0&&(l=e.slice(0,o))!=="xmlns"&&(e=e.slice(o+1)),kx.hasOwnProperty(l)?{space:kx[l],local:e}:e}function l2(e){return function(){var l=this.ownerDocument,o=this.namespaceURI;return o===Tf&&l.documentElement.namespaceURI===Tf?l.createElement(e):l.createElementNS(o,e)}}function o2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function F0(e){var l=Dc(e);return(l.local?o2:l2)(l)}function a2(){}function ip(e){return e==null?a2:function(){return this.querySelector(e)}}function r2(e){typeof e!="function"&&(e=ip(e));for(var l=this._groups,o=l.length,a=new Array(o),s=0;s<o;++s)for(var c=l[s],d=c.length,h=a[s]=new Array(d),g,m,x=0;x<d;++x)(g=c[x])&&(m=e.call(g,g.__data__,x,c))&&("__data__"in g&&(m.__data__=g.__data__),h[x]=m);return new Yn(a,this._parents)}function s2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function c2(){return[]}function K0(e){return e==null?c2:function(){return this.querySelectorAll(e)}}function u2(e){return function(){return s2(e.apply(this,arguments))}}function d2(e){typeof e=="function"?e=u2(e):e=K0(e);for(var l=this._groups,o=l.length,a=[],s=[],c=0;c<o;++c)for(var d=l[c],h=d.length,g,m=0;m<h;++m)(g=d[m])&&(a.push(e.call(g,g.__data__,m,d)),s.push(g));return new Yn(a,s)}function Z0(e){return function(){return this.matches(e)}}function Q0(e){return function(l){return l.matches(e)}}var f2=Array.prototype.find;function p2(e){return function(){return f2.call(this.children,e)}}function h2(){return this.firstElementChild}function g2(e){return this.select(e==null?h2:p2(typeof e=="function"?e:Q0(e)))}var m2=Array.prototype.filter;function x2(){return Array.from(this.children)}function y2(e){return function(){return m2.call(this.children,e)}}function b2(e){return this.selectAll(e==null?x2:y2(typeof e=="function"?e:Q0(e)))}function v2(e){typeof e!="function"&&(e=Z0(e));for(var l=this._groups,o=l.length,a=new Array(o),s=0;s<o;++s)for(var c=l[s],d=c.length,h=a[s]=[],g,m=0;m<d;++m)(g=c[m])&&e.call(g,g.__data__,m,c)&&h.push(g);return new Yn(a,this._parents)}function P0(e){return new Array(e.length)}function S2(){return new Yn(this._enter||this._groups.map(P0),this._parents)}function gc(e,l){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=l}gc.prototype={constructor:gc,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,l){return this._parent.insertBefore(e,l)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function w2(e){return function(){return e}}function E2(e,l,o,a,s,c){for(var d=0,h,g=l.length,m=c.length;d<m;++d)(h=l[d])?(h.__data__=c[d],a[d]=h):o[d]=new gc(e,c[d]);for(;d<g;++d)(h=l[d])&&(s[d]=h)}function C2(e,l,o,a,s,c,d){var h,g,m=new Map,x=l.length,y=c.length,v=new Array(x),S;for(h=0;h<x;++h)(g=l[h])&&(v[h]=S=d.call(g,g.__data__,h,l)+"",m.has(S)?s[h]=g:m.set(S,g));for(h=0;h<y;++h)S=d.call(e,c[h],h,c)+"",(g=m.get(S))?(a[h]=g,g.__data__=c[h],m.delete(S)):o[h]=new gc(e,c[h]);for(h=0;h<x;++h)(g=l[h])&&m.get(v[h])===g&&(s[h]=g)}function A2(e){return e.__data__}function T2(e,l){if(!arguments.length)return Array.from(this,A2);var o=l?C2:E2,a=this._parents,s=this._groups;typeof e!="function"&&(e=w2(e));for(var c=s.length,d=new Array(c),h=new Array(c),g=new Array(c),m=0;m<c;++m){var x=a[m],y=s[m],v=y.length,S=_2(e.call(x,x&&x.__data__,m,a)),E=S.length,w=h[m]=new Array(E),_=d[m]=new Array(E),C=g[m]=new Array(v);o(x,y,w,_,C,S,l);for(var R=0,k=0,M,B;R<E;++R)if(M=w[R]){for(R>=k&&(k=R+1);!(B=_[k])&&++k<E;);M._next=B||null}}return d=new Yn(d,a),d._enter=h,d._exit=g,d}function _2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function k2(){return new Yn(this._exit||this._groups.map(P0),this._parents)}function j2(e,l,o){var a=this.enter(),s=this,c=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),l!=null&&(s=l(s),s&&(s=s.selection())),o==null?c.remove():o(c),a&&s?a.merge(s).order():s}function z2(e){for(var l=e.selection?e.selection():e,o=this._groups,a=l._groups,s=o.length,c=a.length,d=Math.min(s,c),h=new Array(s),g=0;g<d;++g)for(var m=o[g],x=a[g],y=m.length,v=h[g]=new Array(y),S,E=0;E<y;++E)(S=m[E]||x[E])&&(v[E]=S);for(;g<s;++g)h[g]=o[g];return new Yn(h,this._parents)}function R2(){for(var e=this._groups,l=-1,o=e.length;++l<o;)for(var a=e[l],s=a.length-1,c=a[s],d;--s>=0;)(d=a[s])&&(c&&d.compareDocumentPosition(c)^4&&c.parentNode.insertBefore(d,c),c=d);return this}function M2(e){e||(e=N2);function l(y,v){return y&&v?e(y.__data__,v.__data__):!y-!v}for(var o=this._groups,a=o.length,s=new Array(a),c=0;c<a;++c){for(var d=o[c],h=d.length,g=s[c]=new Array(h),m,x=0;x<h;++x)(m=d[x])&&(g[x]=m);g.sort(l)}return new Yn(s,this._parents).order()}function N2(e,l){return e<l?-1:e>l?1:e>=l?0:NaN}function D2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function O2(){return Array.from(this)}function L2(){for(var e=this._groups,l=0,o=e.length;l<o;++l)for(var a=e[l],s=0,c=a.length;s<c;++s){var d=a[s];if(d)return d}return null}function B2(){let e=0;for(const l of this)++e;return e}function H2(){return!this.node()}function U2(e){for(var l=this._groups,o=0,a=l.length;o<a;++o)for(var s=l[o],c=0,d=s.length,h;c<d;++c)(h=s[c])&&e.call(h,h.__data__,c,s);return this}function I2(e){return function(){this.removeAttribute(e)}}function Y2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function $2(e,l){return function(){this.setAttribute(e,l)}}function G2(e,l){return function(){this.setAttributeNS(e.space,e.local,l)}}function W2(e,l){return function(){var o=l.apply(this,arguments);o==null?this.removeAttribute(e):this.setAttribute(e,o)}}function q2(e,l){return function(){var o=l.apply(this,arguments);o==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,o)}}function V2(e,l){var o=Dc(e);if(arguments.length<2){var a=this.node();return o.local?a.getAttributeNS(o.space,o.local):a.getAttribute(o)}return this.each((l==null?o.local?Y2:I2:typeof l=="function"?o.local?q2:W2:o.local?G2:$2)(o,l))}function J0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function X2(e){return function(){this.style.removeProperty(e)}}function F2(e,l,o){return function(){this.style.setProperty(e,l,o)}}function K2(e,l,o){return function(){var a=l.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,o)}}function Z2(e,l,o){return arguments.length>1?this.each((l==null?X2:typeof l=="function"?K2:F2)(e,l,o??"")):da(this.node(),e)}function da(e,l){return e.style.getPropertyValue(l)||J0(e).getComputedStyle(e,null).getPropertyValue(l)}function Q2(e){return function(){delete this[e]}}function P2(e,l){return function(){this[e]=l}}function J2(e,l){return function(){var o=l.apply(this,arguments);o==null?delete this[e]:this[e]=o}}function ew(e,l){return arguments.length>1?this.each((l==null?Q2:typeof l=="function"?J2:P2)(e,l)):this.node()[e]}function ey(e){return e.trim().split(/^|\s+/)}function lp(e){return e.classList||new ty(e)}function ty(e){this._node=e,this._names=ey(e.getAttribute("class")||"")}ty.prototype={add:function(e){var l=this._names.indexOf(e);l<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var l=this._names.indexOf(e);l>=0&&(this._names.splice(l,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ny(e,l){for(var o=lp(e),a=-1,s=l.length;++a<s;)o.add(l[a])}function iy(e,l){for(var o=lp(e),a=-1,s=l.length;++a<s;)o.remove(l[a])}function tw(e){return function(){ny(this,e)}}function nw(e){return function(){iy(this,e)}}function iw(e,l){return function(){(l.apply(this,arguments)?ny:iy)(this,e)}}function lw(e,l){var o=ey(e+"");if(arguments.length<2){for(var a=lp(this.node()),s=-1,c=o.length;++s<c;)if(!a.contains(o[s]))return!1;return!0}return this.each((typeof l=="function"?iw:l?tw:nw)(o,l))}function ow(){this.textContent=""}function aw(e){return function(){this.textContent=e}}function rw(e){return function(){var l=e.apply(this,arguments);this.textContent=l??""}}function sw(e){return arguments.length?this.each(e==null?ow:(typeof e=="function"?rw:aw)(e)):this.node().textContent}function cw(){this.innerHTML=""}function uw(e){return function(){this.innerHTML=e}}function dw(e){return function(){var l=e.apply(this,arguments);this.innerHTML=l??""}}function fw(e){return arguments.length?this.each(e==null?cw:(typeof e=="function"?dw:uw)(e)):this.node().innerHTML}function pw(){this.nextSibling&&this.parentNode.appendChild(this)}function hw(){return this.each(pw)}function gw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mw(){return this.each(gw)}function xw(e){var l=typeof e=="function"?e:F0(e);return this.select(function(){return this.appendChild(l.apply(this,arguments))})}function yw(){return null}function bw(e,l){var o=typeof e=="function"?e:F0(e),a=l==null?yw:typeof l=="function"?l:ip(l);return this.select(function(){return this.insertBefore(o.apply(this,arguments),a.apply(this,arguments)||null)})}function vw(){var e=this.parentNode;e&&e.removeChild(this)}function Sw(){return this.each(vw)}function ww(){var e=this.cloneNode(!1),l=this.parentNode;return l?l.insertBefore(e,this.nextSibling):e}function Ew(){var e=this.cloneNode(!0),l=this.parentNode;return l?l.insertBefore(e,this.nextSibling):e}function Cw(e){return this.select(e?Ew:ww)}function Aw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Tw(e){return function(l){e.call(this,l,this.__data__)}}function _w(e){return e.trim().split(/^|\s+/).map(function(l){var o="",a=l.indexOf(".");return a>=0&&(o=l.slice(a+1),l=l.slice(0,a)),{type:l,name:o}})}function kw(e){return function(){var l=this.__on;if(l){for(var o=0,a=-1,s=l.length,c;o<s;++o)c=l[o],(!e.type||c.type===e.type)&&c.name===e.name?this.removeEventListener(c.type,c.listener,c.options):l[++a]=c;++a?l.length=a:delete this.__on}}}function jw(e,l,o){return function(){var a=this.__on,s,c=Tw(l);if(a){for(var d=0,h=a.length;d<h;++d)if((s=a[d]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=c,s.options=o),s.value=l;return}}this.addEventListener(e.type,c,o),s={type:e.type,name:e.name,value:l,listener:c,options:o},a?a.push(s):this.__on=[s]}}function zw(e,l,o){var a=_w(e+""),s,c=a.length,d;if(arguments.length<2){var h=this.node().__on;if(h){for(var g=0,m=h.length,x;g<m;++g)for(s=0,x=h[g];s<c;++s)if((d=a[s]).type===x.type&&d.name===x.name)return x.value}return}for(h=l?jw:kw,s=0;s<c;++s)this.each(h(a[s],l,o));return this}function ly(e,l,o){var a=J0(e),s=a.CustomEvent;typeof s=="function"?s=new s(l,o):(s=a.document.createEvent("Event"),o?(s.initEvent(l,o.bubbles,o.cancelable),s.detail=o.detail):s.initEvent(l,!1,!1)),e.dispatchEvent(s)}function Rw(e,l){return function(){return ly(this,e,l)}}function Mw(e,l){return function(){return ly(this,e,l.apply(this,arguments))}}function Nw(e,l){return this.each((typeof l=="function"?Mw:Rw)(e,l))}function*Dw(){for(var e=this._groups,l=0,o=e.length;l<o;++l)for(var a=e[l],s=0,c=a.length,d;s<c;++s)(d=a[s])&&(yield d)}var oy=[null];function Yn(e,l){this._groups=e,this._parents=l}function Lr(){return new Yn([[document.documentElement]],oy)}function Ow(){return this}Yn.prototype=Lr.prototype={constructor:Yn,select:r2,selectAll:d2,selectChild:g2,selectChildren:b2,filter:v2,data:T2,enter:S2,exit:k2,join:j2,merge:z2,selection:Ow,order:R2,sort:M2,call:D2,nodes:O2,node:L2,size:B2,empty:H2,each:U2,attr:V2,style:Z2,property:ew,classed:lw,text:sw,html:fw,raise:hw,lower:mw,append:xw,insert:bw,remove:Sw,clone:Cw,datum:Aw,on:zw,dispatch:Nw,[Symbol.iterator]:Dw};function ni(e){return typeof e=="string"?new Yn([[document.querySelector(e)]],[document.documentElement]):new Yn([[e]],oy)}function Lw(e){let l;for(;l=e.sourceEvent;)e=l;return e}function ui(e,l){if(e=Lw(e),l===void 0&&(l=e.currentTarget),l){var o=l.ownerSVGElement||l;if(o.createSVGPoint){var a=o.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(l.getScreenCTM().inverse()),[a.x,a.y]}if(l.getBoundingClientRect){var s=l.getBoundingClientRect();return[e.clientX-s.left-l.clientLeft,e.clientY-s.top-l.clientTop]}}return[e.pageX,e.pageY]}const Bw={passive:!1},Er={capture:!0,passive:!1};function nf(e){e.stopImmediatePropagation()}function sa(e){e.preventDefault(),e.stopImmediatePropagation()}function ay(e){var l=e.document.documentElement,o=ni(e).on("dragstart.drag",sa,Er);"onselectstart"in l?o.on("selectstart.drag",sa,Er):(l.__noselect=l.style.MozUserSelect,l.style.MozUserSelect="none")}function ry(e,l){var o=e.document.documentElement,a=ni(e).on("dragstart.drag",null);l&&(a.on("click.drag",sa,Er),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in o?a.on("selectstart.drag",null):(o.style.MozUserSelect=o.__noselect,delete o.__noselect)}const Ks=e=>()=>e;function _f(e,{sourceEvent:l,subject:o,target:a,identifier:s,active:c,x:d,y:h,dx:g,dy:m,dispatch:x}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},subject:{value:o,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:c,enumerable:!0,configurable:!0},x:{value:d,enumerable:!0,configurable:!0},y:{value:h,enumerable:!0,configurable:!0},dx:{value:g,enumerable:!0,configurable:!0},dy:{value:m,enumerable:!0,configurable:!0},_:{value:x}})}_f.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Hw(e){return!e.ctrlKey&&!e.button}function Uw(){return this.parentNode}function Iw(e,l){return l??{x:e.x,y:e.y}}function Yw(){return navigator.maxTouchPoints||"ontouchstart"in this}function $w(){var e=Hw,l=Uw,o=Iw,a=Yw,s={},c=Nc("start","drag","end"),d=0,h,g,m,x,y=0;function v(M){M.on("mousedown.drag",S).filter(a).on("touchstart.drag",_).on("touchmove.drag",C,Bw).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function S(M,B){if(!(x||!e.call(this,M,B))){var O=k(this,l.call(this,M,B),M,B,"mouse");O&&(ni(M.view).on("mousemove.drag",E,Er).on("mouseup.drag",w,Er),ay(M.view),nf(M),m=!1,h=M.clientX,g=M.clientY,O("start",M))}}function E(M){if(sa(M),!m){var B=M.clientX-h,O=M.clientY-g;m=B*B+O*O>y}s.mouse("drag",M)}function w(M){ni(M.view).on("mousemove.drag mouseup.drag",null),ry(M.view,m),sa(M),s.mouse("end",M)}function _(M,B){if(e.call(this,M,B)){var O=M.changedTouches,Y=l.call(this,M,B),H=O.length,V,ee;for(V=0;V<H;++V)(ee=k(this,Y,M,B,O[V].identifier,O[V]))&&(nf(M),ee("start",M,O[V]))}}function C(M){var B=M.changedTouches,O=B.length,Y,H;for(Y=0;Y<O;++Y)(H=s[B[Y].identifier])&&(sa(M),H("drag",M,B[Y]))}function R(M){var B=M.changedTouches,O=B.length,Y,H;for(x&&clearTimeout(x),x=setTimeout(function(){x=null},500),Y=0;Y<O;++Y)(H=s[B[Y].identifier])&&(nf(M),H("end",M,B[Y]))}function k(M,B,O,Y,H,V){var ee=c.copy(),oe=ui(V||O,B),de,pe,N;if((N=o.call(M,new _f("beforestart",{sourceEvent:O,target:v,identifier:H,active:d,x:oe[0],y:oe[1],dx:0,dy:0,dispatch:ee}),Y))!=null)return de=N.x-oe[0]||0,pe=N.y-oe[1]||0,function P(z,W,q){var G=oe,te;switch(z){case"start":s[H]=P,te=d++;break;case"end":delete s[H],--d;case"drag":oe=ui(q||W,B),te=d;break}ee.call(z,M,new _f(z,{sourceEvent:W,subject:N,target:v,identifier:H,active:te,x:oe[0]+de,y:oe[1]+pe,dx:oe[0]-G[0],dy:oe[1]-G[1],dispatch:ee}),Y)}}return v.filter=function(M){return arguments.length?(e=typeof M=="function"?M:Ks(!!M),v):e},v.container=function(M){return arguments.length?(l=typeof M=="function"?M:Ks(M),v):l},v.subject=function(M){return arguments.length?(o=typeof M=="function"?M:Ks(M),v):o},v.touchable=function(M){return arguments.length?(a=typeof M=="function"?M:Ks(!!M),v):a},v.on=function(){var M=c.on.apply(c,arguments);return M===c?v:M},v.clickDistance=function(M){return arguments.length?(y=(M=+M)*M,v):Math.sqrt(y)},v}function op(e,l,o){e.prototype=l.prototype=o,o.constructor=e}function sy(e,l){var o=Object.create(e.prototype);for(var a in l)o[a]=l[a];return o}function Br(){}var Cr=.7,mc=1/Cr,ca="\\s*([+-]?\\d+)\\s*",Ar="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wi="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gw=/^#([0-9a-f]{3,8})$/,Ww=new RegExp(`^rgb\\(${ca},${ca},${ca}\\)$`),qw=new RegExp(`^rgb\\(${wi},${wi},${wi}\\)$`),Vw=new RegExp(`^rgba\\(${ca},${ca},${ca},${Ar}\\)$`),Xw=new RegExp(`^rgba\\(${wi},${wi},${wi},${Ar}\\)$`),Fw=new RegExp(`^hsl\\(${Ar},${wi},${wi}\\)$`),Kw=new RegExp(`^hsla\\(${Ar},${wi},${wi},${Ar}\\)$`),jx={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};op(Br,Tr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zx,formatHex:zx,formatHex8:Zw,formatHsl:Qw,formatRgb:Rx,toString:Rx});function zx(){return this.rgb().formatHex()}function Zw(){return this.rgb().formatHex8()}function Qw(){return cy(this).formatHsl()}function Rx(){return this.rgb().formatRgb()}function Tr(e){var l,o;return e=(e+"").trim().toLowerCase(),(l=Gw.exec(e))?(o=l[1].length,l=parseInt(l[1],16),o===6?Mx(l):o===3?new zn(l>>8&15|l>>4&240,l>>4&15|l&240,(l&15)<<4|l&15,1):o===8?Zs(l>>24&255,l>>16&255,l>>8&255,(l&255)/255):o===4?Zs(l>>12&15|l>>8&240,l>>8&15|l>>4&240,l>>4&15|l&240,((l&15)<<4|l&15)/255):null):(l=Ww.exec(e))?new zn(l[1],l[2],l[3],1):(l=qw.exec(e))?new zn(l[1]*255/100,l[2]*255/100,l[3]*255/100,1):(l=Vw.exec(e))?Zs(l[1],l[2],l[3],l[4]):(l=Xw.exec(e))?Zs(l[1]*255/100,l[2]*255/100,l[3]*255/100,l[4]):(l=Fw.exec(e))?Ox(l[1],l[2]/100,l[3]/100,1):(l=Kw.exec(e))?Ox(l[1],l[2]/100,l[3]/100,l[4]):jx.hasOwnProperty(e)?Mx(jx[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function Mx(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function Zs(e,l,o,a){return a<=0&&(e=l=o=NaN),new zn(e,l,o,a)}function Pw(e){return e instanceof Br||(e=Tr(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function kf(e,l,o,a){return arguments.length===1?Pw(e):new zn(e,l,o,a??1)}function zn(e,l,o,a){this.r=+e,this.g=+l,this.b=+o,this.opacity=+a}op(zn,kf,sy(Br,{brighter(e){return e=e==null?mc:Math.pow(mc,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cr:Math.pow(Cr,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(uo(this.r),uo(this.g),uo(this.b),xc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Nx,formatHex:Nx,formatHex8:Jw,formatRgb:Dx,toString:Dx}));function Nx(){return`#${so(this.r)}${so(this.g)}${so(this.b)}`}function Jw(){return`#${so(this.r)}${so(this.g)}${so(this.b)}${so((isNaN(this.opacity)?1:this.opacity)*255)}`}function Dx(){const e=xc(this.opacity);return`${e===1?"rgb(":"rgba("}${uo(this.r)}, ${uo(this.g)}, ${uo(this.b)}${e===1?")":`, ${e})`}`}function xc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function uo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function so(e){return e=uo(e),(e<16?"0":"")+e.toString(16)}function Ox(e,l,o,a){return a<=0?e=l=o=NaN:o<=0||o>=1?e=l=NaN:l<=0&&(e=NaN),new fi(e,l,o,a)}function cy(e){if(e instanceof fi)return new fi(e.h,e.s,e.l,e.opacity);if(e instanceof Br||(e=Tr(e)),!e)return new fi;if(e instanceof fi)return e;e=e.rgb();var l=e.r/255,o=e.g/255,a=e.b/255,s=Math.min(l,o,a),c=Math.max(l,o,a),d=NaN,h=c-s,g=(c+s)/2;return h?(l===c?d=(o-a)/h+(o<a)*6:o===c?d=(a-l)/h+2:d=(l-o)/h+4,h/=g<.5?c+s:2-c-s,d*=60):h=g>0&&g<1?0:d,new fi(d,h,g,e.opacity)}function eE(e,l,o,a){return arguments.length===1?cy(e):new fi(e,l,o,a??1)}function fi(e,l,o,a){this.h=+e,this.s=+l,this.l=+o,this.opacity=+a}op(fi,eE,sy(Br,{brighter(e){return e=e==null?mc:Math.pow(mc,e),new fi(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cr:Math.pow(Cr,e),new fi(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,l=isNaN(e)||isNaN(this.s)?0:this.s,o=this.l,a=o+(o<.5?o:1-o)*l,s=2*o-a;return new zn(lf(e>=240?e-240:e+120,s,a),lf(e,s,a),lf(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new fi(Lx(this.h),Qs(this.s),Qs(this.l),xc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xc(this.opacity);return`${e===1?"hsl(":"hsla("}${Lx(this.h)}, ${Qs(this.s)*100}%, ${Qs(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Lx(e){return e=(e||0)%360,e<0?e+360:e}function Qs(e){return Math.max(0,Math.min(1,e||0))}function lf(e,l,o){return(e<60?l+(o-l)*e/60:e<180?o:e<240?l+(o-l)*(240-e)/60:l)*255}const uy=e=>()=>e;function tE(e,l){return function(o){return e+o*l}}function nE(e,l,o){return e=Math.pow(e,o),l=Math.pow(l,o)-e,o=1/o,function(a){return Math.pow(e+a*l,o)}}function iE(e){return(e=+e)==1?dy:function(l,o){return o-l?nE(l,o,e):uy(isNaN(l)?o:l)}}function dy(e,l){var o=l-e;return o?tE(e,o):uy(isNaN(e)?l:e)}const Bx=(function e(l){var o=iE(l);function a(s,c){var d=o((s=kf(s)).r,(c=kf(c)).r),h=o(s.g,c.g),g=o(s.b,c.b),m=dy(s.opacity,c.opacity);return function(x){return s.r=d(x),s.g=h(x),s.b=g(x),s.opacity=m(x),s+""}}return a.gamma=e,a})(1);function Ll(e,l){return e=+e,l=+l,function(o){return e*(1-o)+l*o}}var jf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,of=new RegExp(jf.source,"g");function lE(e){return function(){return e}}function oE(e){return function(l){return e(l)+""}}function aE(e,l){var o=jf.lastIndex=of.lastIndex=0,a,s,c,d=-1,h=[],g=[];for(e=e+"",l=l+"";(a=jf.exec(e))&&(s=of.exec(l));)(c=s.index)>o&&(c=l.slice(o,c),h[d]?h[d]+=c:h[++d]=c),(a=a[0])===(s=s[0])?h[d]?h[d]+=s:h[++d]=s:(h[++d]=null,g.push({i:d,x:Ll(a,s)})),o=of.lastIndex;return o<l.length&&(c=l.slice(o),h[d]?h[d]+=c:h[++d]=c),h.length<2?g[0]?oE(g[0].x):lE(l):(l=g.length,function(m){for(var x=0,y;x<l;++x)h[(y=g[x]).i]=y.x(m);return h.join("")})}var Hx=180/Math.PI,zf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fy(e,l,o,a,s,c){var d,h,g;return(d=Math.sqrt(e*e+l*l))&&(e/=d,l/=d),(g=e*o+l*a)&&(o-=e*g,a-=l*g),(h=Math.sqrt(o*o+a*a))&&(o/=h,a/=h,g/=h),e*a<l*o&&(e=-e,l=-l,g=-g,d=-d),{translateX:s,translateY:c,rotate:Math.atan2(l,e)*Hx,skewX:Math.atan(g)*Hx,scaleX:d,scaleY:h}}var Ps;function rE(e){const l=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return l.isIdentity?zf:fy(l.a,l.b,l.c,l.d,l.e,l.f)}function sE(e){return e==null||(Ps||(Ps=document.createElementNS("http://www.w3.org/2000/svg","g")),Ps.setAttribute("transform",e),!(e=Ps.transform.baseVal.consolidate()))?zf:(e=e.matrix,fy(e.a,e.b,e.c,e.d,e.e,e.f))}function py(e,l,o,a){function s(m){return m.length?m.pop()+" ":""}function c(m,x,y,v,S,E){if(m!==y||x!==v){var w=S.push("translate(",null,l,null,o);E.push({i:w-4,x:Ll(m,y)},{i:w-2,x:Ll(x,v)})}else(y||v)&&S.push("translate("+y+l+v+o)}function d(m,x,y,v){m!==x?(m-x>180?x+=360:x-m>180&&(m+=360),v.push({i:y.push(s(y)+"rotate(",null,a)-2,x:Ll(m,x)})):x&&y.push(s(y)+"rotate("+x+a)}function h(m,x,y,v){m!==x?v.push({i:y.push(s(y)+"skewX(",null,a)-2,x:Ll(m,x)}):x&&y.push(s(y)+"skewX("+x+a)}function g(m,x,y,v,S,E){if(m!==y||x!==v){var w=S.push(s(S)+"scale(",null,",",null,")");E.push({i:w-4,x:Ll(m,y)},{i:w-2,x:Ll(x,v)})}else(y!==1||v!==1)&&S.push(s(S)+"scale("+y+","+v+")")}return function(m,x){var y=[],v=[];return m=e(m),x=e(x),c(m.translateX,m.translateY,x.translateX,x.translateY,y,v),d(m.rotate,x.rotate,y,v),h(m.skewX,x.skewX,y,v),g(m.scaleX,m.scaleY,x.scaleX,x.scaleY,y,v),m=x=null,function(S){for(var E=-1,w=v.length,_;++E<w;)y[(_=v[E]).i]=_.x(S);return y.join("")}}}var cE=py(rE,"px, ","px)","deg)"),uE=py(sE,", ",")",")"),dE=1e-12;function Ux(e){return((e=Math.exp(e))+1/e)/2}function fE(e){return((e=Math.exp(e))-1/e)/2}function pE(e){return((e=Math.exp(2*e))-1)/(e+1)}const hE=(function e(l,o,a){function s(c,d){var h=c[0],g=c[1],m=c[2],x=d[0],y=d[1],v=d[2],S=x-h,E=y-g,w=S*S+E*E,_,C;if(w<dE)C=Math.log(v/m)/l,_=function(Y){return[h+Y*S,g+Y*E,m*Math.exp(l*Y*C)]};else{var R=Math.sqrt(w),k=(v*v-m*m+a*w)/(2*m*o*R),M=(v*v-m*m-a*w)/(2*v*o*R),B=Math.log(Math.sqrt(k*k+1)-k),O=Math.log(Math.sqrt(M*M+1)-M);C=(O-B)/l,_=function(Y){var H=Y*C,V=Ux(B),ee=m/(o*R)*(V*pE(l*H+B)-fE(B));return[h+ee*S,g+ee*E,m*V/Ux(l*H+B)]}}return _.duration=C*1e3*l/Math.SQRT2,_}return s.rho=function(c){var d=Math.max(.001,+c),h=d*d,g=h*h;return e(d,h,g)},s})(Math.SQRT2,2,4);var fa=0,yr=0,rr=0,hy=1e3,yc,br,bc=0,go=0,Oc=0,_r=typeof performance=="object"&&performance.now?performance:Date,gy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ap(){return go||(gy(gE),go=_r.now()+Oc)}function gE(){go=0}function vc(){this._call=this._time=this._next=null}vc.prototype=my.prototype={constructor:vc,restart:function(e,l,o){if(typeof e!="function")throw new TypeError("callback is not a function");o=(o==null?ap():+o)+(l==null?0:+l),!this._next&&br!==this&&(br?br._next=this:yc=this,br=this),this._call=e,this._time=o,Rf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rf())}};function my(e,l,o){var a=new vc;return a.restart(e,l,o),a}function mE(){ap(),++fa;for(var e=yc,l;e;)(l=go-e._time)>=0&&e._call.call(void 0,l),e=e._next;--fa}function Ix(){go=(bc=_r.now())+Oc,fa=yr=0;try{mE()}finally{fa=0,yE(),go=0}}function xE(){var e=_r.now(),l=e-bc;l>hy&&(Oc-=l,bc=e)}function yE(){for(var e,l=yc,o,a=1/0;l;)l._call?(a>l._time&&(a=l._time),e=l,l=l._next):(o=l._next,l._next=null,l=e?e._next=o:yc=o);br=e,Rf(a)}function Rf(e){if(!fa){yr&&(yr=clearTimeout(yr));var l=e-go;l>24?(e<1/0&&(yr=setTimeout(Ix,e-_r.now()-Oc)),rr&&(rr=clearInterval(rr))):(rr||(bc=_r.now(),rr=setInterval(xE,hy)),fa=1,gy(Ix))}}function Yx(e,l,o){var a=new vc;return l=l==null?0:+l,a.restart(s=>{a.stop(),e(s+l)},l,o),a}var bE=Nc("start","end","cancel","interrupt"),vE=[],xy=0,$x=1,Mf=2,uc=3,Gx=4,Nf=5,dc=6;function Lc(e,l,o,a,s,c){var d=e.__transition;if(!d)e.__transition={};else if(o in d)return;SE(e,o,{name:l,index:a,group:s,on:bE,tween:vE,time:c.time,delay:c.delay,duration:c.duration,ease:c.ease,timer:null,state:xy})}function rp(e,l){var o=hi(e,l);if(o.state>xy)throw new Error("too late; already scheduled");return o}function Ci(e,l){var o=hi(e,l);if(o.state>uc)throw new Error("too late; already running");return o}function hi(e,l){var o=e.__transition;if(!o||!(o=o[l]))throw new Error("transition not found");return o}function SE(e,l,o){var a=e.__transition,s;a[l]=o,o.timer=my(c,0,o.time);function c(m){o.state=$x,o.timer.restart(d,o.delay,o.time),o.delay<=m&&d(m-o.delay)}function d(m){var x,y,v,S;if(o.state!==$x)return g();for(x in a)if(S=a[x],S.name===o.name){if(S.state===uc)return Yx(d);S.state===Gx?(S.state=dc,S.timer.stop(),S.on.call("interrupt",e,e.__data__,S.index,S.group),delete a[x]):+x<l&&(S.state=dc,S.timer.stop(),S.on.call("cancel",e,e.__data__,S.index,S.group),delete a[x])}if(Yx(function(){o.state===uc&&(o.state=Gx,o.timer.restart(h,o.delay,o.time),h(m))}),o.state=Mf,o.on.call("start",e,e.__data__,o.index,o.group),o.state===Mf){for(o.state=uc,s=new Array(v=o.tween.length),x=0,y=-1;x<v;++x)(S=o.tween[x].value.call(e,e.__data__,o.index,o.group))&&(s[++y]=S);s.length=y+1}}function h(m){for(var x=m<o.duration?o.ease.call(null,m/o.duration):(o.timer.restart(g),o.state=Nf,1),y=-1,v=s.length;++y<v;)s[y].call(e,x);o.state===Nf&&(o.on.call("end",e,e.__data__,o.index,o.group),g())}function g(){o.state=dc,o.timer.stop(),delete a[l];for(var m in a)return;delete e.__transition}}function fc(e,l){var o=e.__transition,a,s,c=!0,d;if(o){l=l==null?null:l+"";for(d in o){if((a=o[d]).name!==l){c=!1;continue}s=a.state>Mf&&a.state<Nf,a.state=dc,a.timer.stop(),a.on.call(s?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete o[d]}c&&delete e.__transition}}function wE(e){return this.each(function(){fc(this,e)})}function EE(e,l){var o,a;return function(){var s=Ci(this,e),c=s.tween;if(c!==o){a=o=c;for(var d=0,h=a.length;d<h;++d)if(a[d].name===l){a=a.slice(),a.splice(d,1);break}}s.tween=a}}function CE(e,l,o){var a,s;if(typeof o!="function")throw new Error;return function(){var c=Ci(this,e),d=c.tween;if(d!==a){s=(a=d).slice();for(var h={name:l,value:o},g=0,m=s.length;g<m;++g)if(s[g].name===l){s[g]=h;break}g===m&&s.push(h)}c.tween=s}}function AE(e,l){var o=this._id;if(e+="",arguments.length<2){for(var a=hi(this.node(),o).tween,s=0,c=a.length,d;s<c;++s)if((d=a[s]).name===e)return d.value;return null}return this.each((l==null?EE:CE)(o,e,l))}function sp(e,l,o){var a=e._id;return e.each(function(){var s=Ci(this,a);(s.value||(s.value={}))[l]=o.apply(this,arguments)}),function(s){return hi(s,a).value[l]}}function yy(e,l){var o;return(typeof l=="number"?Ll:l instanceof Tr?Bx:(o=Tr(l))?(l=o,Bx):aE)(e,l)}function TE(e){return function(){this.removeAttribute(e)}}function _E(e){return function(){this.removeAttributeNS(e.space,e.local)}}function kE(e,l,o){var a,s=o+"",c;return function(){var d=this.getAttribute(e);return d===s?null:d===a?c:c=l(a=d,o)}}function jE(e,l,o){var a,s=o+"",c;return function(){var d=this.getAttributeNS(e.space,e.local);return d===s?null:d===a?c:c=l(a=d,o)}}function zE(e,l,o){var a,s,c;return function(){var d,h=o(this),g;return h==null?void this.removeAttribute(e):(d=this.getAttribute(e),g=h+"",d===g?null:d===a&&g===s?c:(s=g,c=l(a=d,h)))}}function RE(e,l,o){var a,s,c;return function(){var d,h=o(this),g;return h==null?void this.removeAttributeNS(e.space,e.local):(d=this.getAttributeNS(e.space,e.local),g=h+"",d===g?null:d===a&&g===s?c:(s=g,c=l(a=d,h)))}}function ME(e,l){var o=Dc(e),a=o==="transform"?uE:yy;return this.attrTween(e,typeof l=="function"?(o.local?RE:zE)(o,a,sp(this,"attr."+e,l)):l==null?(o.local?_E:TE)(o):(o.local?jE:kE)(o,a,l))}function NE(e,l){return function(o){this.setAttribute(e,l.call(this,o))}}function DE(e,l){return function(o){this.setAttributeNS(e.space,e.local,l.call(this,o))}}function OE(e,l){var o,a;function s(){var c=l.apply(this,arguments);return c!==a&&(o=(a=c)&&DE(e,c)),o}return s._value=l,s}function LE(e,l){var o,a;function s(){var c=l.apply(this,arguments);return c!==a&&(o=(a=c)&&NE(e,c)),o}return s._value=l,s}function BE(e,l){var o="attr."+e;if(arguments.length<2)return(o=this.tween(o))&&o._value;if(l==null)return this.tween(o,null);if(typeof l!="function")throw new Error;var a=Dc(e);return this.tween(o,(a.local?OE:LE)(a,l))}function HE(e,l){return function(){rp(this,e).delay=+l.apply(this,arguments)}}function UE(e,l){return l=+l,function(){rp(this,e).delay=l}}function IE(e){var l=this._id;return arguments.length?this.each((typeof e=="function"?HE:UE)(l,e)):hi(this.node(),l).delay}function YE(e,l){return function(){Ci(this,e).duration=+l.apply(this,arguments)}}function $E(e,l){return l=+l,function(){Ci(this,e).duration=l}}function GE(e){var l=this._id;return arguments.length?this.each((typeof e=="function"?YE:$E)(l,e)):hi(this.node(),l).duration}function WE(e,l){if(typeof l!="function")throw new Error;return function(){Ci(this,e).ease=l}}function qE(e){var l=this._id;return arguments.length?this.each(WE(l,e)):hi(this.node(),l).ease}function VE(e,l){return function(){var o=l.apply(this,arguments);if(typeof o!="function")throw new Error;Ci(this,e).ease=o}}function XE(e){if(typeof e!="function")throw new Error;return this.each(VE(this._id,e))}function FE(e){typeof e!="function"&&(e=Z0(e));for(var l=this._groups,o=l.length,a=new Array(o),s=0;s<o;++s)for(var c=l[s],d=c.length,h=a[s]=[],g,m=0;m<d;++m)(g=c[m])&&e.call(g,g.__data__,m,c)&&h.push(g);return new tl(a,this._parents,this._name,this._id)}function KE(e){if(e._id!==this._id)throw new Error;for(var l=this._groups,o=e._groups,a=l.length,s=o.length,c=Math.min(a,s),d=new Array(a),h=0;h<c;++h)for(var g=l[h],m=o[h],x=g.length,y=d[h]=new Array(x),v,S=0;S<x;++S)(v=g[S]||m[S])&&(y[S]=v);for(;h<a;++h)d[h]=l[h];return new tl(d,this._parents,this._name,this._id)}function ZE(e){return(e+"").trim().split(/^|\s+/).every(function(l){var o=l.indexOf(".");return o>=0&&(l=l.slice(0,o)),!l||l==="start"})}function QE(e,l,o){var a,s,c=ZE(l)?rp:Ci;return function(){var d=c(this,e),h=d.on;h!==a&&(s=(a=h).copy()).on(l,o),d.on=s}}function PE(e,l){var o=this._id;return arguments.length<2?hi(this.node(),o).on.on(e):this.each(QE(o,e,l))}function JE(e){return function(){var l=this.parentNode;for(var o in this.__transition)if(+o!==e)return;l&&l.removeChild(this)}}function eC(){return this.on("end.remove",JE(this._id))}function tC(e){var l=this._name,o=this._id;typeof e!="function"&&(e=ip(e));for(var a=this._groups,s=a.length,c=new Array(s),d=0;d<s;++d)for(var h=a[d],g=h.length,m=c[d]=new Array(g),x,y,v=0;v<g;++v)(x=h[v])&&(y=e.call(x,x.__data__,v,h))&&("__data__"in x&&(y.__data__=x.__data__),m[v]=y,Lc(m[v],l,o,v,m,hi(x,o)));return new tl(c,this._parents,l,o)}function nC(e){var l=this._name,o=this._id;typeof e!="function"&&(e=K0(e));for(var a=this._groups,s=a.length,c=[],d=[],h=0;h<s;++h)for(var g=a[h],m=g.length,x,y=0;y<m;++y)if(x=g[y]){for(var v=e.call(x,x.__data__,y,g),S,E=hi(x,o),w=0,_=v.length;w<_;++w)(S=v[w])&&Lc(S,l,o,w,v,E);c.push(v),d.push(x)}return new tl(c,d,l,o)}var iC=Lr.prototype.constructor;function lC(){return new iC(this._groups,this._parents)}function oC(e,l){var o,a,s;return function(){var c=da(this,e),d=(this.style.removeProperty(e),da(this,e));return c===d?null:c===o&&d===a?s:s=l(o=c,a=d)}}function by(e){return function(){this.style.removeProperty(e)}}function aC(e,l,o){var a,s=o+"",c;return function(){var d=da(this,e);return d===s?null:d===a?c:c=l(a=d,o)}}function rC(e,l,o){var a,s,c;return function(){var d=da(this,e),h=o(this),g=h+"";return h==null&&(g=h=(this.style.removeProperty(e),da(this,e))),d===g?null:d===a&&g===s?c:(s=g,c=l(a=d,h))}}function sC(e,l){var o,a,s,c="style."+l,d="end."+c,h;return function(){var g=Ci(this,e),m=g.on,x=g.value[c]==null?h||(h=by(l)):void 0;(m!==o||s!==x)&&(a=(o=m).copy()).on(d,s=x),g.on=a}}function cC(e,l,o){var a=(e+="")=="transform"?cE:yy;return l==null?this.styleTween(e,oC(e,a)).on("end.style."+e,by(e)):typeof l=="function"?this.styleTween(e,rC(e,a,sp(this,"style."+e,l))).each(sC(this._id,e)):this.styleTween(e,aC(e,a,l),o).on("end.style."+e,null)}function uC(e,l,o){return function(a){this.style.setProperty(e,l.call(this,a),o)}}function dC(e,l,o){var a,s;function c(){var d=l.apply(this,arguments);return d!==s&&(a=(s=d)&&uC(e,d,o)),a}return c._value=l,c}function fC(e,l,o){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(l==null)return this.tween(a,null);if(typeof l!="function")throw new Error;return this.tween(a,dC(e,l,o??""))}function pC(e){return function(){this.textContent=e}}function hC(e){return function(){var l=e(this);this.textContent=l??""}}function gC(e){return this.tween("text",typeof e=="function"?hC(sp(this,"text",e)):pC(e==null?"":e+""))}function mC(e){return function(l){this.textContent=e.call(this,l)}}function xC(e){var l,o;function a(){var s=e.apply(this,arguments);return s!==o&&(l=(o=s)&&mC(s)),l}return a._value=e,a}function yC(e){var l="text";if(arguments.length<1)return(l=this.tween(l))&&l._value;if(e==null)return this.tween(l,null);if(typeof e!="function")throw new Error;return this.tween(l,xC(e))}function bC(){for(var e=this._name,l=this._id,o=vy(),a=this._groups,s=a.length,c=0;c<s;++c)for(var d=a[c],h=d.length,g,m=0;m<h;++m)if(g=d[m]){var x=hi(g,l);Lc(g,e,o,m,d,{time:x.time+x.delay+x.duration,delay:0,duration:x.duration,ease:x.ease})}return new tl(a,this._parents,e,o)}function vC(){var e,l,o=this,a=o._id,s=o.size();return new Promise(function(c,d){var h={value:d},g={value:function(){--s===0&&c()}};o.each(function(){var m=Ci(this,a),x=m.on;x!==e&&(l=(e=x).copy(),l._.cancel.push(h),l._.interrupt.push(h),l._.end.push(g)),m.on=l}),s===0&&c()})}var SC=0;function tl(e,l,o,a){this._groups=e,this._parents=l,this._name=o,this._id=a}function vy(){return++SC}var Ki=Lr.prototype;tl.prototype={constructor:tl,select:tC,selectAll:nC,selectChild:Ki.selectChild,selectChildren:Ki.selectChildren,filter:FE,merge:KE,selection:lC,transition:bC,call:Ki.call,nodes:Ki.nodes,node:Ki.node,size:Ki.size,empty:Ki.empty,each:Ki.each,on:PE,attr:ME,attrTween:BE,style:cC,styleTween:fC,text:gC,textTween:yC,remove:eC,tween:AE,delay:IE,duration:GE,ease:qE,easeVarying:XE,end:vC,[Symbol.iterator]:Ki[Symbol.iterator]};function wC(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var EC={time:null,delay:0,duration:250,ease:wC};function CC(e,l){for(var o;!(o=e.__transition)||!(o=o[l]);)if(!(e=e.parentNode))throw new Error(`transition ${l} not found`);return o}function AC(e){var l,o;e instanceof tl?(l=e._id,e=e._name):(l=vy(),(o=EC).time=ap(),e=e==null?null:e+"");for(var a=this._groups,s=a.length,c=0;c<s;++c)for(var d=a[c],h=d.length,g,m=0;m<h;++m)(g=d[m])&&Lc(g,e,l,m,d,o||CC(g,l));return new tl(a,this._parents,e,l)}Lr.prototype.interrupt=wE;Lr.prototype.transition=AC;const Js=e=>()=>e;function TC(e,{sourceEvent:l,target:o,transform:a,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},target:{value:o,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:s}})}function Ji(e,l,o){this.k=e,this.x=l,this.y=o}Ji.prototype={constructor:Ji,scale:function(e){return e===1?this:new Ji(this.k*e,this.x,this.y)},translate:function(e,l){return e===0&l===0?this:new Ji(this.k,this.x+this.k*e,this.y+this.k*l)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var el=new Ji(1,0,0);Ji.prototype;function af(e){e.stopImmediatePropagation()}function sr(e){e.preventDefault(),e.stopImmediatePropagation()}function _C(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function kC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Wx(){return this.__zoom||el}function jC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function zC(){return navigator.maxTouchPoints||"ontouchstart"in this}function RC(e,l,o){var a=e.invertX(l[0][0])-o[0][0],s=e.invertX(l[1][0])-o[1][0],c=e.invertY(l[0][1])-o[0][1],d=e.invertY(l[1][1])-o[1][1];return e.translate(s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s),d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d))}function Sy(){var e=_C,l=kC,o=RC,a=jC,s=zC,c=[0,1/0],d=[[-1/0,-1/0],[1/0,1/0]],h=250,g=hE,m=Nc("start","zoom","end"),x,y,v,S=500,E=150,w=0,_=10;function C(N){N.property("__zoom",Wx).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",V).on("dblclick.zoom",ee).filter(s).on("touchstart.zoom",oe).on("touchmove.zoom",de).on("touchend.zoom touchcancel.zoom",pe).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}C.transform=function(N,P,z,W){var q=N.selection?N.selection():N;q.property("__zoom",Wx),N!==q?B(N,P,z,W):q.interrupt().each(function(){O(this,arguments).event(W).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},C.scaleBy=function(N,P,z,W){C.scaleTo(N,function(){var q=this.__zoom.k,G=typeof P=="function"?P.apply(this,arguments):P;return q*G},z,W)},C.scaleTo=function(N,P,z,W){C.transform(N,function(){var q=l.apply(this,arguments),G=this.__zoom,te=z==null?M(q):typeof z=="function"?z.apply(this,arguments):z,j=G.invert(te),I=typeof P=="function"?P.apply(this,arguments):P;return o(k(R(G,I),te,j),q,d)},z,W)},C.translateBy=function(N,P,z,W){C.transform(N,function(){return o(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof z=="function"?z.apply(this,arguments):z),l.apply(this,arguments),d)},null,W)},C.translateTo=function(N,P,z,W,q){C.transform(N,function(){var G=l.apply(this,arguments),te=this.__zoom,j=W==null?M(G):typeof W=="function"?W.apply(this,arguments):W;return o(el.translate(j[0],j[1]).scale(te.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof z=="function"?-z.apply(this,arguments):-z),G,d)},W,q)};function R(N,P){return P=Math.max(c[0],Math.min(c[1],P)),P===N.k?N:new Ji(P,N.x,N.y)}function k(N,P,z){var W=P[0]-z[0]*N.k,q=P[1]-z[1]*N.k;return W===N.x&&q===N.y?N:new Ji(N.k,W,q)}function M(N){return[(+N[0][0]+ +N[1][0])/2,(+N[0][1]+ +N[1][1])/2]}function B(N,P,z,W){N.on("start.zoom",function(){O(this,arguments).event(W).start()}).on("interrupt.zoom end.zoom",function(){O(this,arguments).event(W).end()}).tween("zoom",function(){var q=this,G=arguments,te=O(q,G).event(W),j=l.apply(q,G),I=z==null?M(j):typeof z=="function"?z.apply(q,G):z,F=Math.max(j[1][0]-j[0][0],j[1][1]-j[0][1]),le=q.__zoom,se=typeof P=="function"?P.apply(q,G):P,me=g(le.invert(I).concat(F/le.k),se.invert(I).concat(F/se.k));return function(xe){if(xe===1)xe=se;else{var Ce=me(xe),we=F/Ce[2];xe=new Ji(we,I[0]-Ce[0]*we,I[1]-Ce[1]*we)}te.zoom(null,xe)}})}function O(N,P,z){return!z&&N.__zooming||new Y(N,P)}function Y(N,P){this.that=N,this.args=P,this.active=0,this.sourceEvent=null,this.extent=l.apply(N,P),this.taps=0}Y.prototype={event:function(N){return N&&(this.sourceEvent=N),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(N,P){return this.mouse&&N!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&N!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&N!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(N){var P=ni(this.that).datum();m.call(N,this.that,new TC(N,{sourceEvent:this.sourceEvent,target:C,transform:this.that.__zoom,dispatch:m}),P)}};function H(N,...P){if(!e.apply(this,arguments))return;var z=O(this,P).event(N),W=this.__zoom,q=Math.max(c[0],Math.min(c[1],W.k*Math.pow(2,a.apply(this,arguments)))),G=ui(N);if(z.wheel)(z.mouse[0][0]!==G[0]||z.mouse[0][1]!==G[1])&&(z.mouse[1]=W.invert(z.mouse[0]=G)),clearTimeout(z.wheel);else{if(W.k===q)return;z.mouse=[G,W.invert(G)],fc(this),z.start()}sr(N),z.wheel=setTimeout(te,E),z.zoom("mouse",o(k(R(W,q),z.mouse[0],z.mouse[1]),z.extent,d));function te(){z.wheel=null,z.end()}}function V(N,...P){if(v||!e.apply(this,arguments))return;var z=N.currentTarget,W=O(this,P,!0).event(N),q=ni(N.view).on("mousemove.zoom",I,!0).on("mouseup.zoom",F,!0),G=ui(N,z),te=N.clientX,j=N.clientY;ay(N.view),af(N),W.mouse=[G,this.__zoom.invert(G)],fc(this),W.start();function I(le){if(sr(le),!W.moved){var se=le.clientX-te,me=le.clientY-j;W.moved=se*se+me*me>w}W.event(le).zoom("mouse",o(k(W.that.__zoom,W.mouse[0]=ui(le,z),W.mouse[1]),W.extent,d))}function F(le){q.on("mousemove.zoom mouseup.zoom",null),ry(le.view,W.moved),sr(le),W.event(le).end()}}function ee(N,...P){if(e.apply(this,arguments)){var z=this.__zoom,W=ui(N.changedTouches?N.changedTouches[0]:N,this),q=z.invert(W),G=z.k*(N.shiftKey?.5:2),te=o(k(R(z,G),W,q),l.apply(this,P),d);sr(N),h>0?ni(this).transition().duration(h).call(B,te,W,N):ni(this).call(C.transform,te,W,N)}}function oe(N,...P){if(e.apply(this,arguments)){var z=N.touches,W=z.length,q=O(this,P,N.changedTouches.length===W).event(N),G,te,j,I;for(af(N),te=0;te<W;++te)j=z[te],I=ui(j,this),I=[I,this.__zoom.invert(I),j.identifier],q.touch0?!q.touch1&&q.touch0[2]!==I[2]&&(q.touch1=I,q.taps=0):(q.touch0=I,G=!0,q.taps=1+!!x);x&&(x=clearTimeout(x)),G&&(q.taps<2&&(y=I[0],x=setTimeout(function(){x=null},S)),fc(this),q.start())}}function de(N,...P){if(this.__zooming){var z=O(this,P).event(N),W=N.changedTouches,q=W.length,G,te,j,I;for(sr(N),G=0;G<q;++G)te=W[G],j=ui(te,this),z.touch0&&z.touch0[2]===te.identifier?z.touch0[0]=j:z.touch1&&z.touch1[2]===te.identifier&&(z.touch1[0]=j);if(te=z.that.__zoom,z.touch1){var F=z.touch0[0],le=z.touch0[1],se=z.touch1[0],me=z.touch1[1],xe=(xe=se[0]-F[0])*xe+(xe=se[1]-F[1])*xe,Ce=(Ce=me[0]-le[0])*Ce+(Ce=me[1]-le[1])*Ce;te=R(te,Math.sqrt(xe/Ce)),j=[(F[0]+se[0])/2,(F[1]+se[1])/2],I=[(le[0]+me[0])/2,(le[1]+me[1])/2]}else if(z.touch0)j=z.touch0[0],I=z.touch0[1];else return;z.zoom("touch",o(k(te,j,I),z.extent,d))}}function pe(N,...P){if(this.__zooming){var z=O(this,P).event(N),W=N.changedTouches,q=W.length,G,te;for(af(N),v&&clearTimeout(v),v=setTimeout(function(){v=null},S),G=0;G<q;++G)te=W[G],z.touch0&&z.touch0[2]===te.identifier?delete z.touch0:z.touch1&&z.touch1[2]===te.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(te=ui(te,this),Math.hypot(y[0]-te[0],y[1]-te[1])<_)){var j=ni(this).on("dblclick.zoom");j&&j.apply(this,arguments)}}}return C.wheelDelta=function(N){return arguments.length?(a=typeof N=="function"?N:Js(+N),C):a},C.filter=function(N){return arguments.length?(e=typeof N=="function"?N:Js(!!N),C):e},C.touchable=function(N){return arguments.length?(s=typeof N=="function"?N:Js(!!N),C):s},C.extent=function(N){return arguments.length?(l=typeof N=="function"?N:Js([[+N[0][0],+N[0][1]],[+N[1][0],+N[1][1]]]),C):l},C.scaleExtent=function(N){return arguments.length?(c[0]=+N[0],c[1]=+N[1],C):[c[0],c[1]]},C.translateExtent=function(N){return arguments.length?(d[0][0]=+N[0][0],d[1][0]=+N[1][0],d[0][1]=+N[0][1],d[1][1]=+N[1][1],C):[[d[0][0],d[0][1]],[d[1][0],d[1][1]]]},C.constrain=function(N){return arguments.length?(o=N,C):o},C.duration=function(N){return arguments.length?(h=+N,C):h},C.interpolate=function(N){return arguments.length?(g=N,C):g},C.on=function(){var N=m.on.apply(m,arguments);return N===m?C:N},C.clickDistance=function(N){return arguments.length?(w=(N=+N)*N,C):Math.sqrt(w)},C.tapDistance=function(N){return arguments.length?(_=+N,C):_},C}var MC=V0();const Bc=A.createContext(null),NC=Bc.Provider,nl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,l)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?l.targetHandle:l.sourceHandle}", edge id: ${l.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},wy=nl.error001();function yt(e,l){const o=A.useContext(Bc);if(o===null)throw new Error(wy);return X0(o,e,l)}const Ft=()=>{const e=A.useContext(Bc);if(e===null)throw new Error(wy);return A.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},DC=e=>e.userSelectionActive?"none":"all";function Qi({position:e,children:l,className:o,style:a,...s}){const c=yt(DC),d=`${e}`.split("-");return ae.createElement("div",{className:sn(["react-flow__panel",o,...d]),style:{...a,pointerEvents:c},...s},l)}function OC({proOptions:e,position:l="bottom-right"}){return e?.hideAttribution?null:ae.createElement(Qi,{position:l,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},ae.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const LC=({x:e,y:l,label:o,labelStyle:a={},labelShowBg:s=!0,labelBgStyle:c={},labelBgPadding:d=[2,4],labelBgBorderRadius:h=2,children:g,className:m,...x})=>{const y=A.useRef(null),[v,S]=A.useState({x:0,y:0,width:0,height:0}),E=sn(["react-flow__edge-textwrapper",m]);return A.useEffect(()=>{if(y.current){const w=y.current.getBBox();S({x:w.x,y:w.y,width:w.width,height:w.height})}},[o]),typeof o>"u"||!o?null:ae.createElement("g",{transform:`translate(${e-v.width/2} ${l-v.height/2})`,className:E,visibility:v.width?"visible":"hidden",...x},s&&ae.createElement("rect",{width:v.width+2*d[0],x:-d[0],y:-d[1],height:v.height+2*d[1],className:"react-flow__edge-textbg",style:c,rx:h,ry:h}),ae.createElement("text",{className:"react-flow__edge-text",y:v.height/2,dy:"0.3em",ref:y,style:a},o),g)};var BC=A.memo(LC);const cp=e=>({width:e.offsetWidth,height:e.offsetHeight}),pa=(e,l=0,o=1)=>Math.min(Math.max(e,l),o),up=(e={x:0,y:0},l)=>({x:pa(e.x,l[0][0],l[1][0]),y:pa(e.y,l[0][1],l[1][1])}),qx=(e,l,o)=>e<l?pa(Math.abs(e-l),1,50)/50:e>o?-pa(Math.abs(e-o),1,50)/50:0,Ey=(e,l)=>{const o=qx(e.x,35,l.width-35)*20,a=qx(e.y,35,l.height-35)*20;return[o,a]},Cy=e=>e.getRootNode?.()||window?.document,Ay=(e,l)=>({x:Math.min(e.x,l.x),y:Math.min(e.y,l.y),x2:Math.max(e.x2,l.x2),y2:Math.max(e.y2,l.y2)}),kr=({x:e,y:l,width:o,height:a})=>({x:e,y:l,x2:e+o,y2:l+a}),Ty=({x:e,y:l,x2:o,y2:a})=>({x:e,y:l,width:o-e,height:a-l}),Vx=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),HC=(e,l)=>Ty(Ay(kr(e),kr(l))),Df=(e,l)=>{const o=Math.max(0,Math.min(e.x+e.width,l.x+l.width)-Math.max(e.x,l.x)),a=Math.max(0,Math.min(e.y+e.height,l.y+l.height)-Math.max(e.y,l.y));return Math.ceil(o*a)},UC=e=>ii(e.width)&&ii(e.height)&&ii(e.x)&&ii(e.y),ii=e=>!isNaN(e)&&isFinite(e),Mt=Symbol.for("internals"),_y=["Enter"," ","Escape"],IC=(e,l)=>{},YC=e=>"nativeEvent"in e;function Of(e){const o=(YC(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(o?.nodeName)||o?.hasAttribute("contenteditable")||!!o?.closest(".nokey")}const ky=e=>"clientX"in e,Il=(e,l)=>{const o=ky(e),a=o?e.clientX:e.touches?.[0].clientX,s=o?e.clientY:e.touches?.[0].clientY;return{x:a-(l?.left??0),y:s-(l?.top??0)}},Sc=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,ma=({id:e,path:l,labelX:o,labelY:a,label:s,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:m,style:x,markerEnd:y,markerStart:v,interactionWidth:S=20})=>ae.createElement(ae.Fragment,null,ae.createElement("path",{id:e,style:x,d:l,fill:"none",className:"react-flow__edge-path",markerEnd:y,markerStart:v}),S&&ae.createElement("path",{d:l,fill:"none",strokeOpacity:0,strokeWidth:S,className:"react-flow__edge-interaction"}),s&&ii(o)&&ii(a)?ae.createElement(BC,{x:o,y:a,label:s,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:m}):null);ma.displayName="BaseEdge";function cr(e,l,o){return o===void 0?o:a=>{const s=l().edges.find(c=>c.id===e);s&&o(a,{...s})}}function jy({sourceX:e,sourceY:l,targetX:o,targetY:a}){const s=Math.abs(o-e)/2,c=o<e?o+s:o-s,d=Math.abs(a-l)/2,h=a<l?a+d:a-d;return[c,h,s,d]}function zy({sourceX:e,sourceY:l,targetX:o,targetY:a,sourceControlX:s,sourceControlY:c,targetControlX:d,targetControlY:h}){const g=e*.125+s*.375+d*.375+o*.125,m=l*.125+c*.375+h*.375+a*.125,x=Math.abs(g-e),y=Math.abs(m-l);return[g,m,x,y]}var mo;(function(e){e.Strict="strict",e.Loose="loose"})(mo||(mo={}));var co;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(co||(co={}));var jr;(function(e){e.Partial="partial",e.Full="full"})(jr||(jr={}));var Hl;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Hl||(Hl={}));var wc;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(wc||(wc={}));var _e;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(_e||(_e={}));function Xx({pos:e,x1:l,y1:o,x2:a,y2:s}){return e===_e.Left||e===_e.Right?[.5*(l+a),o]:[l,.5*(o+s)]}function Ry({sourceX:e,sourceY:l,sourcePosition:o=_e.Bottom,targetX:a,targetY:s,targetPosition:c=_e.Top}){const[d,h]=Xx({pos:o,x1:e,y1:l,x2:a,y2:s}),[g,m]=Xx({pos:c,x1:a,y1:s,x2:e,y2:l}),[x,y,v,S]=zy({sourceX:e,sourceY:l,targetX:a,targetY:s,sourceControlX:d,sourceControlY:h,targetControlX:g,targetControlY:m});return[`M${e},${l} C${d},${h} ${g},${m} ${a},${s}`,x,y,v,S]}const dp=A.memo(({sourceX:e,sourceY:l,targetX:o,targetY:a,sourcePosition:s=_e.Bottom,targetPosition:c=_e.Top,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,interactionWidth:w})=>{const[_,C,R]=Ry({sourceX:e,sourceY:l,sourcePosition:s,targetX:o,targetY:a,targetPosition:c});return ae.createElement(ma,{path:_,labelX:C,labelY:R,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,interactionWidth:w})});dp.displayName="SimpleBezierEdge";const Fx={[_e.Left]:{x:-1,y:0},[_e.Right]:{x:1,y:0},[_e.Top]:{x:0,y:-1},[_e.Bottom]:{x:0,y:1}},$C=({source:e,sourcePosition:l=_e.Bottom,target:o})=>l===_e.Left||l===_e.Right?e.x<o.x?{x:1,y:0}:{x:-1,y:0}:e.y<o.y?{x:0,y:1}:{x:0,y:-1},Kx=(e,l)=>Math.sqrt(Math.pow(l.x-e.x,2)+Math.pow(l.y-e.y,2));function GC({source:e,sourcePosition:l=_e.Bottom,target:o,targetPosition:a=_e.Top,center:s,offset:c}){const d=Fx[l],h=Fx[a],g={x:e.x+d.x*c,y:e.y+d.y*c},m={x:o.x+h.x*c,y:o.y+h.y*c},x=$C({source:g,sourcePosition:l,target:m}),y=x.x!==0?"x":"y",v=x[y];let S=[],E,w;const _={x:0,y:0},C={x:0,y:0},[R,k,M,B]=jy({sourceX:e.x,sourceY:e.y,targetX:o.x,targetY:o.y});if(d[y]*h[y]===-1){E=s.x??R,w=s.y??k;const Y=[{x:E,y:g.y},{x:E,y:m.y}],H=[{x:g.x,y:w},{x:m.x,y:w}];d[y]===v?S=y==="x"?Y:H:S=y==="x"?H:Y}else{const Y=[{x:g.x,y:m.y}],H=[{x:m.x,y:g.y}];if(y==="x"?S=d.x===v?H:Y:S=d.y===v?Y:H,l===a){const pe=Math.abs(e[y]-o[y]);if(pe<=c){const N=Math.min(c-1,c-pe);d[y]===v?_[y]=(g[y]>e[y]?-1:1)*N:C[y]=(m[y]>o[y]?-1:1)*N}}if(l!==a){const pe=y==="x"?"y":"x",N=d[y]===h[pe],P=g[pe]>m[pe],z=g[pe]<m[pe];(d[y]===1&&(!N&&P||N&&z)||d[y]!==1&&(!N&&z||N&&P))&&(S=y==="x"?Y:H)}const V={x:g.x+_.x,y:g.y+_.y},ee={x:m.x+C.x,y:m.y+C.y},oe=Math.max(Math.abs(V.x-S[0].x),Math.abs(ee.x-S[0].x)),de=Math.max(Math.abs(V.y-S[0].y),Math.abs(ee.y-S[0].y));oe>=de?(E=(V.x+ee.x)/2,w=S[0].y):(E=S[0].x,w=(V.y+ee.y)/2)}return[[e,{x:g.x+_.x,y:g.y+_.y},...S,{x:m.x+C.x,y:m.y+C.y},o],E,w,M,B]}function WC(e,l,o,a){const s=Math.min(Kx(e,l)/2,Kx(l,o)/2,a),{x:c,y:d}=l;if(e.x===c&&c===o.x||e.y===d&&d===o.y)return`L${c} ${d}`;if(e.y===d){const m=e.x<o.x?-1:1,x=e.y<o.y?1:-1;return`L ${c+s*m},${d}Q ${c},${d} ${c},${d+s*x}`}const h=e.x<o.x?1:-1,g=e.y<o.y?-1:1;return`L ${c},${d+s*g}Q ${c},${d} ${c+s*h},${d}`}function Lf({sourceX:e,sourceY:l,sourcePosition:o=_e.Bottom,targetX:a,targetY:s,targetPosition:c=_e.Top,borderRadius:d=5,centerX:h,centerY:g,offset:m=20}){const[x,y,v,S,E]=GC({source:{x:e,y:l},sourcePosition:o,target:{x:a,y:s},targetPosition:c,center:{x:h,y:g},offset:m});return[x.reduce((_,C,R)=>{let k="";return R>0&&R<x.length-1?k=WC(x[R-1],C,x[R+1],d):k=`${R===0?"M":"L"}${C.x} ${C.y}`,_+=k,_},""),y,v,S,E]}const Hc=A.memo(({sourceX:e,sourceY:l,targetX:o,targetY:a,label:s,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:m,style:x,sourcePosition:y=_e.Bottom,targetPosition:v=_e.Top,markerEnd:S,markerStart:E,pathOptions:w,interactionWidth:_})=>{const[C,R,k]=Lf({sourceX:e,sourceY:l,sourcePosition:y,targetX:o,targetY:a,targetPosition:v,borderRadius:w?.borderRadius,offset:w?.offset});return ae.createElement(ma,{path:C,labelX:R,labelY:k,label:s,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:m,style:x,markerEnd:S,markerStart:E,interactionWidth:_})});Hc.displayName="SmoothStepEdge";const fp=A.memo(e=>ae.createElement(Hc,{...e,pathOptions:A.useMemo(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));fp.displayName="StepEdge";function qC({sourceX:e,sourceY:l,targetX:o,targetY:a}){const[s,c,d,h]=jy({sourceX:e,sourceY:l,targetX:o,targetY:a});return[`M ${e},${l}L ${o},${a}`,s,c,d,h]}const pp=A.memo(({sourceX:e,sourceY:l,targetX:o,targetY:a,label:s,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:m,style:x,markerEnd:y,markerStart:v,interactionWidth:S})=>{const[E,w,_]=qC({sourceX:e,sourceY:l,targetX:o,targetY:a});return ae.createElement(ma,{path:E,labelX:w,labelY:_,label:s,labelStyle:c,labelShowBg:d,labelBgStyle:h,labelBgPadding:g,labelBgBorderRadius:m,style:x,markerEnd:y,markerStart:v,interactionWidth:S})});pp.displayName="StraightEdge";function ec(e,l){return e>=0?.5*e:l*25*Math.sqrt(-e)}function Zx({pos:e,x1:l,y1:o,x2:a,y2:s,c}){switch(e){case _e.Left:return[l-ec(l-a,c),o];case _e.Right:return[l+ec(a-l,c),o];case _e.Top:return[l,o-ec(o-s,c)];case _e.Bottom:return[l,o+ec(s-o,c)]}}function hp({sourceX:e,sourceY:l,sourcePosition:o=_e.Bottom,targetX:a,targetY:s,targetPosition:c=_e.Top,curvature:d=.25}){const[h,g]=Zx({pos:o,x1:e,y1:l,x2:a,y2:s,c:d}),[m,x]=Zx({pos:c,x1:a,y1:s,x2:e,y2:l,c:d}),[y,v,S,E]=zy({sourceX:e,sourceY:l,targetX:a,targetY:s,sourceControlX:h,sourceControlY:g,targetControlX:m,targetControlY:x});return[`M${e},${l} C${h},${g} ${m},${x} ${a},${s}`,y,v,S,E]}const Ec=A.memo(({sourceX:e,sourceY:l,targetX:o,targetY:a,sourcePosition:s=_e.Bottom,targetPosition:c=_e.Top,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,pathOptions:w,interactionWidth:_})=>{const[C,R,k]=hp({sourceX:e,sourceY:l,sourcePosition:s,targetX:o,targetY:a,targetPosition:c,curvature:w?.curvature});return ae.createElement(ma,{path:C,labelX:R,labelY:k,label:d,labelStyle:h,labelShowBg:g,labelBgStyle:m,labelBgPadding:x,labelBgBorderRadius:y,style:v,markerEnd:S,markerStart:E,interactionWidth:_})});Ec.displayName="BezierEdge";const gp=A.createContext(null),VC=gp.Provider;gp.Consumer;const XC=()=>A.useContext(gp),FC=e=>"id"in e&&"source"in e&&"target"in e,KC=({source:e,sourceHandle:l,target:o,targetHandle:a})=>`reactflow__edge-${e}${l||""}-${o}${a||""}`,Bf=(e,l)=>typeof e>"u"?"":typeof e=="string"?e:`${l?`${l}__`:""}${Object.keys(e).sort().map(a=>`${a}=${e[a]}`).join("&")}`,ZC=(e,l)=>l.some(o=>o.source===e.source&&o.target===e.target&&(o.sourceHandle===e.sourceHandle||!o.sourceHandle&&!e.sourceHandle)&&(o.targetHandle===e.targetHandle||!o.targetHandle&&!e.targetHandle)),My=(e,l)=>{if(!e.source||!e.target)return l;let o;return FC(e)?o={...e}:o={...e,id:KC(e)},ZC(o,l)?l:l.concat(o)},Hf=({x:e,y:l},[o,a,s],c,[d,h])=>{const g={x:(e-o)/s,y:(l-a)/s};return c?{x:d*Math.round(g.x/d),y:h*Math.round(g.y/h)}:g},Ny=({x:e,y:l},[o,a,s])=>({x:e*s+o,y:l*s+a}),fo=(e,l=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const o=(e.width??0)*l[0],a=(e.height??0)*l[1],s={x:e.position.x-o,y:e.position.y-a};return{...s,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-o,y:e.positionAbsolute.y-a}:s}},Uc=(e,l=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const o=e.reduce((a,s)=>{const{x:c,y:d}=fo(s,l).positionAbsolute;return Ay(a,kr({x:c,y:d,width:s.width||0,height:s.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Ty(o)},Dy=(e,l,[o,a,s]=[0,0,1],c=!1,d=!1,h=[0,0])=>{const g={x:(l.x-o)/s,y:(l.y-a)/s,width:l.width/s,height:l.height/s},m=[];return e.forEach(x=>{const{width:y,height:v,selectable:S=!0,hidden:E=!1}=x;if(d&&!S||E)return!1;const{positionAbsolute:w}=fo(x,h),_={x:w.x,y:w.y,width:y||0,height:v||0},C=Df(g,_),R=typeof y>"u"||typeof v>"u"||y===null||v===null,k=c&&C>0,M=(y||0)*(v||0);(R||k||C>=M||x.dragging)&&m.push(x)}),m},Oy=(e,l)=>{const o=e.map(a=>a.id);return l.filter(a=>o.includes(a.source)||o.includes(a.target))},Ly=(e,l,o,a,s,c=.1)=>{const d=l/(e.width*(1+c)),h=o/(e.height*(1+c)),g=Math.min(d,h),m=pa(g,a,s),x=e.x+e.width/2,y=e.y+e.height/2,v=l/2-x*m,S=o/2-y*m;return{x:v,y:S,zoom:m}},ro=(e,l=0)=>e.transition().duration(l);function Qx(e,l,o,a){return(l[o]||[]).reduce((s,c)=>(`${e.id}-${c.id}-${o}`!==a&&s.push({id:c.id||null,type:o,nodeId:e.id,x:(e.positionAbsolute?.x??0)+c.x+c.width/2,y:(e.positionAbsolute?.y??0)+c.y+c.height/2}),s),[])}function QC(e,l,o,a,s,c){const{x:d,y:h}=Il(e),m=l.elementsFromPoint(d,h).find(E=>E.classList.contains("react-flow__handle"));if(m){const E=m.getAttribute("data-nodeid");if(E){const w=mp(void 0,m),_=m.getAttribute("data-handleid"),C=c({nodeId:E,id:_,type:w});if(C){const R=s.find(k=>k.nodeId===E&&k.type===w&&k.id===_);return{handle:{id:_,type:w,nodeId:E,x:R?.x||o.x,y:R?.y||o.y},validHandleResult:C}}}}let x=[],y=1/0;if(s.forEach(E=>{const w=Math.sqrt((E.x-o.x)**2+(E.y-o.y)**2);if(w<=a){const _=c(E);w<=y&&(w<y?x=[{handle:E,validHandleResult:_}]:w===y&&x.push({handle:E,validHandleResult:_}),y=w)}}),!x.length)return{handle:null,validHandleResult:By()};if(x.length===1)return x[0];const v=x.some(({validHandleResult:E})=>E.isValid),S=x.some(({handle:E})=>E.type==="target");return x.find(({handle:E,validHandleResult:w})=>S?E.type==="target":v?w.isValid:!0)||x[0]}const PC={source:null,target:null,sourceHandle:null,targetHandle:null},By=()=>({handleDomNode:null,isValid:!1,connection:PC,endHandle:null});function Hy(e,l,o,a,s,c,d){const h=s==="target",g=d.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),m={...By(),handleDomNode:g};if(g){const x=mp(void 0,g),y=g.getAttribute("data-nodeid"),v=g.getAttribute("data-handleid"),S=g.classList.contains("connectable"),E=g.classList.contains("connectableend"),w={source:h?y:o,sourceHandle:h?v:a,target:h?o:y,targetHandle:h?a:v};m.connection=w,S&&E&&(l===mo.Strict?h&&x==="source"||!h&&x==="target":y!==o||v!==a)&&(m.endHandle={nodeId:y,handleId:v,type:x},m.isValid=c(w))}return m}function JC({nodes:e,nodeId:l,handleId:o,handleType:a}){return e.reduce((s,c)=>{if(c[Mt]){const{handleBounds:d}=c[Mt];let h=[],g=[];d&&(h=Qx(c,d,"source",`${l}-${o}-${a}`),g=Qx(c,d,"target",`${l}-${o}-${a}`)),s.push(...h,...g)}return s},[])}function mp(e,l){return e||(l?.classList.contains("target")?"target":l?.classList.contains("source")?"source":null)}function rf(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function eA(e,l){let o=null;return l?o="valid":e&&!l&&(o="invalid"),o}function Uy({event:e,handleId:l,nodeId:o,onConnect:a,isTarget:s,getState:c,setState:d,isValidConnection:h,edgeUpdaterType:g,onReconnectEnd:m}){const x=Cy(e.target),{connectionMode:y,domNode:v,autoPanOnConnect:S,connectionRadius:E,onConnectStart:w,panBy:_,getNodes:C,cancelConnection:R}=c();let k=0,M;const{x:B,y:O}=Il(e),Y=x?.elementFromPoint(B,O),H=mp(g,Y),V=v?.getBoundingClientRect();if(!V||!H)return;let ee,oe=Il(e,V),de=!1,pe=null,N=!1,P=null;const z=JC({nodes:C(),nodeId:o,handleId:l,handleType:H}),W=()=>{if(!S)return;const[te,j]=Ey(oe,V);_({x:te,y:j}),k=requestAnimationFrame(W)};d({connectionPosition:oe,connectionStatus:null,connectionNodeId:o,connectionHandleId:l,connectionHandleType:H,connectionStartHandle:{nodeId:o,handleId:l,type:H},connectionEndHandle:null}),w?.(e,{nodeId:o,handleId:l,handleType:H});function q(te){const{transform:j}=c();oe=Il(te,V);const{handle:I,validHandleResult:F}=QC(te,x,Hf(oe,j,!1,[1,1]),E,z,le=>Hy(le,y,o,l,s?"target":"source",h,x));if(M=I,de||(W(),de=!0),P=F.handleDomNode,pe=F.connection,N=F.isValid,d({connectionPosition:M&&N?Ny({x:M.x,y:M.y},j):oe,connectionStatus:eA(!!M,N),connectionEndHandle:F.endHandle}),!M&&!N&&!P)return rf(ee);pe.source!==pe.target&&P&&(rf(ee),ee=P,P.classList.add("connecting","react-flow__handle-connecting"),P.classList.toggle("valid",N),P.classList.toggle("react-flow__handle-valid",N))}function G(te){(M||P)&&pe&&N&&a?.(pe),c().onConnectEnd?.(te),g&&m?.(te),rf(ee),R(),cancelAnimationFrame(k),de=!1,N=!1,pe=null,P=null,x.removeEventListener("mousemove",q),x.removeEventListener("mouseup",G),x.removeEventListener("touchmove",q),x.removeEventListener("touchend",G)}x.addEventListener("mousemove",q),x.addEventListener("mouseup",G),x.addEventListener("touchmove",q),x.addEventListener("touchend",G)}const Px=()=>!0,tA=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),nA=(e,l,o)=>a=>{const{connectionStartHandle:s,connectionEndHandle:c,connectionClickStartHandle:d}=a;return{connecting:s?.nodeId===e&&s?.handleId===l&&s?.type===o||c?.nodeId===e&&c?.handleId===l&&c?.type===o,clickConnecting:d?.nodeId===e&&d?.handleId===l&&d?.type===o}},Iy=A.forwardRef(({type:e="source",position:l=_e.Top,isValidConnection:o,isConnectable:a=!0,isConnectableStart:s=!0,isConnectableEnd:c=!0,id:d,onConnect:h,children:g,className:m,onMouseDown:x,onTouchStart:y,...v},S)=>{const E=d||null,w=e==="target",_=Ft(),C=XC(),{connectOnClick:R,noPanClassName:k}=yt(tA,Pt),{connecting:M,clickConnecting:B}=yt(nA(C,E,e),Pt);C||_.getState().onError?.("010",nl.error010());const O=V=>{const{defaultEdgeOptions:ee,onConnect:oe,hasDefaultEdges:de}=_.getState(),pe={...ee,...V};if(de){const{edges:N,setEdges:P}=_.getState();P(My(pe,N))}oe?.(pe),h?.(pe)},Y=V=>{if(!C)return;const ee=ky(V);s&&(ee&&V.button===0||!ee)&&Uy({event:V,handleId:E,nodeId:C,onConnect:O,isTarget:w,getState:_.getState,setState:_.setState,isValidConnection:o||_.getState().isValidConnection||Px}),ee?x?.(V):y?.(V)},H=V=>{const{onClickConnectStart:ee,onClickConnectEnd:oe,connectionClickStartHandle:de,connectionMode:pe,isValidConnection:N}=_.getState();if(!C||!de&&!s)return;if(!de){ee?.(V,{nodeId:C,handleId:E,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:C,type:e,handleId:E}});return}const P=Cy(V.target),z=o||N||Px,{connection:W,isValid:q}=Hy({nodeId:C,id:E,type:e},pe,de.nodeId,de.handleId||null,de.type,z,P);q&&O(W),oe?.(V),_.setState({connectionClickStartHandle:null})};return ae.createElement("div",{"data-handleid":E,"data-nodeid":C,"data-handlepos":l,"data-id":`${C}-${E}-${e}`,className:sn(["react-flow__handle",`react-flow__handle-${l}`,"nodrag",k,m,{source:!w,target:w,connectable:a,connectablestart:s,connectableend:c,connecting:B,connectionindicator:a&&(s&&!M||c&&M)}]),onMouseDown:Y,onTouchStart:Y,onClick:R?H:void 0,ref:S,...v},g)});Iy.displayName="Handle";var ha=A.memo(Iy);const Yy=({data:e,isConnectable:l,targetPosition:o=_e.Top,sourcePosition:a=_e.Bottom})=>ae.createElement(ae.Fragment,null,ae.createElement(ha,{type:"target",position:o,isConnectable:l}),e?.label,ae.createElement(ha,{type:"source",position:a,isConnectable:l}));Yy.displayName="DefaultNode";var Uf=A.memo(Yy);const $y=({data:e,isConnectable:l,sourcePosition:o=_e.Bottom})=>ae.createElement(ae.Fragment,null,e?.label,ae.createElement(ha,{type:"source",position:o,isConnectable:l}));$y.displayName="InputNode";var Gy=A.memo($y);const Wy=({data:e,isConnectable:l,targetPosition:o=_e.Top})=>ae.createElement(ae.Fragment,null,ae.createElement(ha,{type:"target",position:o,isConnectable:l}),e?.label);Wy.displayName="OutputNode";var qy=A.memo(Wy);const xp=()=>null;xp.displayName="GroupNode";const iA=e=>({selectedNodes:e.getNodes().filter(l=>l.selected),selectedEdges:e.edges.filter(l=>l.selected).map(l=>({...l}))}),tc=e=>e.id;function lA(e,l){return Pt(e.selectedNodes.map(tc),l.selectedNodes.map(tc))&&Pt(e.selectedEdges.map(tc),l.selectedEdges.map(tc))}const Vy=A.memo(({onSelectionChange:e})=>{const l=Ft(),{selectedNodes:o,selectedEdges:a}=yt(iA,lA);return A.useEffect(()=>{const s={nodes:o,edges:a};e?.(s),l.getState().onSelectionChange.forEach(c=>c(s))},[o,a,e]),null});Vy.displayName="SelectionListener";const oA=e=>!!e.onSelectionChange;function aA({onSelectionChange:e}){const l=yt(oA);return e||l?ae.createElement(Vy,{onSelectionChange:e}):null}const rA=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Qo(e,l){A.useEffect(()=>{typeof e<"u"&&l(e)},[e])}function Ie(e,l,o){A.useEffect(()=>{typeof l<"u"&&o({[e]:l})},[l])}const sA=({nodes:e,edges:l,defaultNodes:o,defaultEdges:a,onConnect:s,onConnectStart:c,onConnectEnd:d,onClickConnectStart:h,onClickConnectEnd:g,nodesDraggable:m,nodesConnectable:x,nodesFocusable:y,edgesFocusable:v,edgesUpdatable:S,elevateNodesOnSelect:E,minZoom:w,maxZoom:_,nodeExtent:C,onNodesChange:R,onEdgesChange:k,elementsSelectable:M,connectionMode:B,snapGrid:O,snapToGrid:Y,translateExtent:H,connectOnClick:V,defaultEdgeOptions:ee,fitView:oe,fitViewOptions:de,onNodesDelete:pe,onEdgesDelete:N,onNodeDrag:P,onNodeDragStart:z,onNodeDragStop:W,onSelectionDrag:q,onSelectionDragStart:G,onSelectionDragStop:te,noPanClassName:j,nodeOrigin:I,rfId:F,autoPanOnConnect:le,autoPanOnNodeDrag:se,onError:me,connectionRadius:xe,isValidConnection:Ce,nodeDragThreshold:we})=>{const{setNodes:Re,setEdges:Pe,setDefaultNodesAndEdges:Xe,setMinZoom:Je,setMaxZoom:Ue,setTranslateExtent:He,setNodeExtent:ot,reset:Oe}=yt(rA,Pt),ye=Ft();return A.useEffect(()=>{const nt=a?.map(ut=>({...ut,...ee}));return Xe(o,nt),()=>{Oe()}},[]),Ie("defaultEdgeOptions",ee,ye.setState),Ie("connectionMode",B,ye.setState),Ie("onConnect",s,ye.setState),Ie("onConnectStart",c,ye.setState),Ie("onConnectEnd",d,ye.setState),Ie("onClickConnectStart",h,ye.setState),Ie("onClickConnectEnd",g,ye.setState),Ie("nodesDraggable",m,ye.setState),Ie("nodesConnectable",x,ye.setState),Ie("nodesFocusable",y,ye.setState),Ie("edgesFocusable",v,ye.setState),Ie("edgesUpdatable",S,ye.setState),Ie("elementsSelectable",M,ye.setState),Ie("elevateNodesOnSelect",E,ye.setState),Ie("snapToGrid",Y,ye.setState),Ie("snapGrid",O,ye.setState),Ie("onNodesChange",R,ye.setState),Ie("onEdgesChange",k,ye.setState),Ie("connectOnClick",V,ye.setState),Ie("fitViewOnInit",oe,ye.setState),Ie("fitViewOnInitOptions",de,ye.setState),Ie("onNodesDelete",pe,ye.setState),Ie("onEdgesDelete",N,ye.setState),Ie("onNodeDrag",P,ye.setState),Ie("onNodeDragStart",z,ye.setState),Ie("onNodeDragStop",W,ye.setState),Ie("onSelectionDrag",q,ye.setState),Ie("onSelectionDragStart",G,ye.setState),Ie("onSelectionDragStop",te,ye.setState),Ie("noPanClassName",j,ye.setState),Ie("nodeOrigin",I,ye.setState),Ie("rfId",F,ye.setState),Ie("autoPanOnConnect",le,ye.setState),Ie("autoPanOnNodeDrag",se,ye.setState),Ie("onError",me,ye.setState),Ie("connectionRadius",xe,ye.setState),Ie("isValidConnection",Ce,ye.setState),Ie("nodeDragThreshold",we,ye.setState),Qo(e,Re),Qo(l,Pe),Qo(w,Je),Qo(_,Ue),Qo(H,He),Qo(C,ot),null},Jx={display:"none"},cA={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Xy="react-flow__node-desc",Fy="react-flow__edge-desc",uA="react-flow__aria-live",dA=e=>e.ariaLiveMessage;function fA({rfId:e}){const l=yt(dA);return ae.createElement("div",{id:`${uA}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:cA},l)}function pA({rfId:e,disableKeyboardA11y:l}){return ae.createElement(ae.Fragment,null,ae.createElement("div",{id:`${Xy}-${e}`,style:Jx},"Press enter or space to select a node.",!l&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),ae.createElement("div",{id:`${Fy}-${e}`,style:Jx},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!l&&ae.createElement(fA,{rfId:e}))}var zr=(e=null,l={actInsideInputWithModifier:!0})=>{const[o,a]=A.useState(!1),s=A.useRef(!1),c=A.useRef(new Set([])),[d,h]=A.useMemo(()=>{if(e!==null){const m=(Array.isArray(e)?e:[e]).filter(y=>typeof y=="string").map(y=>y.split("+")),x=m.reduce((y,v)=>y.concat(...v),[]);return[m,x]}return[[],[]]},[e]);return A.useEffect(()=>{const g=typeof document<"u"?document:null,m=l?.target||g;if(e!==null){const x=S=>{if(s.current=S.ctrlKey||S.metaKey||S.shiftKey,(!s.current||s.current&&!l.actInsideInputWithModifier)&&Of(S))return!1;const w=t0(S.code,h);c.current.add(S[w]),e0(d,c.current,!1)&&(S.preventDefault(),a(!0))},y=S=>{if((!s.current||s.current&&!l.actInsideInputWithModifier)&&Of(S))return!1;const w=t0(S.code,h);e0(d,c.current,!0)?(a(!1),c.current.clear()):c.current.delete(S[w]),S.key==="Meta"&&c.current.clear(),s.current=!1},v=()=>{c.current.clear(),a(!1)};return m?.addEventListener("keydown",x),m?.addEventListener("keyup",y),window.addEventListener("blur",v),()=>{m?.removeEventListener("keydown",x),m?.removeEventListener("keyup",y),window.removeEventListener("blur",v)}}},[e,a]),o};function e0(e,l,o){return e.filter(a=>o||a.length===l.size).some(a=>a.every(s=>l.has(s)))}function t0(e,l){return l.includes(e)?"code":"key"}function Ky(e,l,o,a){const s=e.parentNode||e.parentId;if(!s)return o;const c=l.get(s),d=fo(c,a);return Ky(c,l,{x:(o.x??0)+d.x,y:(o.y??0)+d.y,z:(c[Mt]?.z??0)>(o.z??0)?c[Mt]?.z??0:o.z??0},a)}function Zy(e,l,o){e.forEach(a=>{const s=a.parentNode||a.parentId;if(s&&!e.has(s))throw new Error(`Parent node ${s} not found`);if(s||o?.[a.id]){const{x:c,y:d,z:h}=Ky(a,e,{...a.position,z:a[Mt]?.z??0},l);a.positionAbsolute={x:c,y:d},a[Mt].z=h,o?.[a.id]&&(a[Mt].isParent=!0)}})}function sf(e,l,o,a){const s=new Map,c={},d=a?1e3:0;return e.forEach(h=>{const g=(ii(h.zIndex)?h.zIndex:0)+(h.selected?d:0),m=l.get(h.id),x={...h,positionAbsolute:{x:h.position.x,y:h.position.y}},y=h.parentNode||h.parentId;y&&(c[y]=!0);const v=m?.type&&m?.type!==h.type;Object.defineProperty(x,Mt,{enumerable:!1,value:{handleBounds:v?void 0:m?.[Mt]?.handleBounds,z:g}}),s.set(h.id,x)}),Zy(s,o,c),s}function Qy(e,l={}){const{getNodes:o,width:a,height:s,minZoom:c,maxZoom:d,d3Zoom:h,d3Selection:g,fitViewOnInitDone:m,fitViewOnInit:x,nodeOrigin:y}=e(),v=l.initial&&!m&&x;if(h&&g&&(v||!l.initial)){const E=o().filter(_=>{const C=l.includeHiddenNodes?_.width&&_.height:!_.hidden;return l.nodes?.length?C&&l.nodes.some(R=>R.id===_.id):C}),w=E.every(_=>_.width&&_.height);if(E.length>0&&w){const _=Uc(E,y),{x:C,y:R,zoom:k}=Ly(_,a,s,l.minZoom??c,l.maxZoom??d,l.padding??.1),M=el.translate(C,R).scale(k);return typeof l.duration=="number"&&l.duration>0?h.transform(ro(g,l.duration),M):h.transform(g,M),!0}}return!1}function hA(e,l){return e.forEach(o=>{const a=l.get(o.id);a&&l.set(a.id,{...a,[Mt]:a[Mt],selected:o.selected})}),new Map(l)}function gA(e,l){return l.map(o=>{const a=e.find(s=>s.id===o.id);return a&&(o.selected=a.selected),o})}function nc({changedNodes:e,changedEdges:l,get:o,set:a}){const{nodeInternals:s,edges:c,onNodesChange:d,onEdgesChange:h,hasDefaultNodes:g,hasDefaultEdges:m}=o();e?.length&&(g&&a({nodeInternals:hA(e,s)}),d?.(e)),l?.length&&(m&&a({edges:gA(l,c)}),h?.(l))}const Po=()=>{},mA={zoomIn:Po,zoomOut:Po,zoomTo:Po,getZoom:()=>1,setViewport:Po,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Po,fitBounds:Po,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},xA=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),yA=()=>{const e=Ft(),{d3Zoom:l,d3Selection:o}=yt(xA,Pt);return A.useMemo(()=>o&&l?{zoomIn:s=>l.scaleBy(ro(o,s?.duration),1.2),zoomOut:s=>l.scaleBy(ro(o,s?.duration),1/1.2),zoomTo:(s,c)=>l.scaleTo(ro(o,c?.duration),s),getZoom:()=>e.getState().transform[2],setViewport:(s,c)=>{const[d,h,g]=e.getState().transform,m=el.translate(s.x??d,s.y??h).scale(s.zoom??g);l.transform(ro(o,c?.duration),m)},getViewport:()=>{const[s,c,d]=e.getState().transform;return{x:s,y:c,zoom:d}},fitView:s=>Qy(e.getState,s),setCenter:(s,c,d)=>{const{width:h,height:g,maxZoom:m}=e.getState(),x=typeof d?.zoom<"u"?d.zoom:m,y=h/2-s*x,v=g/2-c*x,S=el.translate(y,v).scale(x);l.transform(ro(o,d?.duration),S)},fitBounds:(s,c)=>{const{width:d,height:h,minZoom:g,maxZoom:m}=e.getState(),{x,y,zoom:v}=Ly(s,d,h,g,m,c?.padding??.1),S=el.translate(x,y).scale(v);l.transform(ro(o,c?.duration),S)},project:s=>{const{transform:c,snapToGrid:d,snapGrid:h}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Hf(s,c,d,h)},screenToFlowPosition:s=>{const{transform:c,snapToGrid:d,snapGrid:h,domNode:g}=e.getState();if(!g)return s;const{x:m,y:x}=g.getBoundingClientRect(),y={x:s.x-m,y:s.y-x};return Hf(y,c,d,h)},flowToScreenPosition:s=>{const{transform:c,domNode:d}=e.getState();if(!d)return s;const{x:h,y:g}=d.getBoundingClientRect(),m=Ny(s,c);return{x:m.x+h,y:m.y+g}},viewportInitialized:!0}:mA,[l,o])};function Hr(){const e=yA(),l=Ft(),o=A.useCallback(()=>l.getState().getNodes().map(w=>({...w})),[]),a=A.useCallback(w=>l.getState().nodeInternals.get(w),[]),s=A.useCallback(()=>{const{edges:w=[]}=l.getState();return w.map(_=>({..._}))},[]),c=A.useCallback(w=>{const{edges:_=[]}=l.getState();return _.find(C=>C.id===w)},[]),d=A.useCallback(w=>{const{getNodes:_,setNodes:C,hasDefaultNodes:R,onNodesChange:k}=l.getState(),M=_(),B=typeof w=="function"?w(M):w;if(R)C(B);else if(k){const O=B.length===0?M.map(Y=>({type:"remove",id:Y.id})):B.map(Y=>({item:Y,type:"reset"}));k(O)}},[]),h=A.useCallback(w=>{const{edges:_=[],setEdges:C,hasDefaultEdges:R,onEdgesChange:k}=l.getState(),M=typeof w=="function"?w(_):w;if(R)C(M);else if(k){const B=M.length===0?_.map(O=>({type:"remove",id:O.id})):M.map(O=>({item:O,type:"reset"}));k(B)}},[]),g=A.useCallback(w=>{const _=Array.isArray(w)?w:[w],{getNodes:C,setNodes:R,hasDefaultNodes:k,onNodesChange:M}=l.getState();if(k){const O=[...C(),..._];R(O)}else if(M){const B=_.map(O=>({item:O,type:"add"}));M(B)}},[]),m=A.useCallback(w=>{const _=Array.isArray(w)?w:[w],{edges:C=[],setEdges:R,hasDefaultEdges:k,onEdgesChange:M}=l.getState();if(k)R([...C,..._]);else if(M){const B=_.map(O=>({item:O,type:"add"}));M(B)}},[]),x=A.useCallback(()=>{const{getNodes:w,edges:_=[],transform:C}=l.getState(),[R,k,M]=C;return{nodes:w().map(B=>({...B})),edges:_.map(B=>({...B})),viewport:{x:R,y:k,zoom:M}}},[]),y=A.useCallback(({nodes:w,edges:_})=>{const{nodeInternals:C,getNodes:R,edges:k,hasDefaultNodes:M,hasDefaultEdges:B,onNodesDelete:O,onEdgesDelete:Y,onNodesChange:H,onEdgesChange:V}=l.getState(),ee=(w||[]).map(P=>P.id),oe=(_||[]).map(P=>P.id),de=R().reduce((P,z)=>{const W=z.parentNode||z.parentId,q=!ee.includes(z.id)&&W&&P.find(te=>te.id===W);return(typeof z.deletable!="boolean"||z.deletable)&&(ee.includes(z.id)||q)&&P.push(z),P},[]),pe=k.filter(P=>typeof P.deletable=="boolean"?P.deletable:!0),N=pe.filter(P=>oe.includes(P.id));if(de||N){const P=Oy(de,pe),z=[...N,...P],W=z.reduce((q,G)=>(q.includes(G.id)||q.push(G.id),q),[]);if((B||M)&&(B&&l.setState({edges:k.filter(q=>!W.includes(q.id))}),M&&(de.forEach(q=>{C.delete(q.id)}),l.setState({nodeInternals:new Map(C)}))),W.length>0&&(Y?.(z),V&&V(W.map(q=>({id:q,type:"remove"})))),de.length>0&&(O?.(de),H)){const q=de.map(G=>({id:G.id,type:"remove"}));H(q)}}},[]),v=A.useCallback(w=>{const _=UC(w),C=_?null:l.getState().nodeInternals.get(w.id);return!_&&!C?[null,null,_]:[_?w:Vx(C),C,_]},[]),S=A.useCallback((w,_=!0,C)=>{const[R,k,M]=v(w);return R?(C||l.getState().getNodes()).filter(B=>{if(!M&&(B.id===k.id||!B.positionAbsolute))return!1;const O=Vx(B),Y=Df(O,R);return _&&Y>0||Y>=R.width*R.height}):[]},[]),E=A.useCallback((w,_,C=!0)=>{const[R]=v(w);if(!R)return!1;const k=Df(R,_);return C&&k>0||k>=R.width*R.height},[]);return A.useMemo(()=>({...e,getNodes:o,getNode:a,getEdges:s,getEdge:c,setNodes:d,setEdges:h,addNodes:g,addEdges:m,toObject:x,deleteElements:y,getIntersectingNodes:S,isNodeIntersecting:E}),[e,o,a,s,c,d,h,g,m,x,y,S,E])}const bA={actInsideInputWithModifier:!1};var vA=({deleteKeyCode:e,multiSelectionKeyCode:l})=>{const o=Ft(),{deleteElements:a}=Hr(),s=zr(e,bA),c=zr(l);A.useEffect(()=>{if(s){const{edges:d,getNodes:h}=o.getState(),g=h().filter(x=>x.selected),m=d.filter(x=>x.selected);a({nodes:g,edges:m}),o.setState({nodesSelectionActive:!1})}},[s]),A.useEffect(()=>{o.setState({multiSelectionActive:c})},[c])};function SA(e){const l=Ft();A.useEffect(()=>{let o;const a=()=>{if(!e.current)return;const s=cp(e.current);(s.height===0||s.width===0)&&l.getState().onError?.("004",nl.error004()),l.setState({width:s.width||500,height:s.height||500})};return a(),window.addEventListener("resize",a),e.current&&(o=new ResizeObserver(()=>a()),o.observe(e.current)),()=>{window.removeEventListener("resize",a),o&&e.current&&o.unobserve(e.current)}},[])}const yp={position:"absolute",width:"100%",height:"100%",top:0,left:0},wA=(e,l)=>e.x!==l.x||e.y!==l.y||e.zoom!==l.k,ic=e=>({x:e.x,y:e.y,zoom:e.k}),Jo=(e,l)=>e.target.closest(`.${l}`),n0=(e,l)=>l===2&&Array.isArray(e)&&e.includes(2),i0=e=>{const l=e.ctrlKey&&Sc()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*l},EA=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),CA=({onMove:e,onMoveStart:l,onMoveEnd:o,onPaneContextMenu:a,zoomOnScroll:s=!0,zoomOnPinch:c=!0,panOnScroll:d=!1,panOnScrollSpeed:h=.5,panOnScrollMode:g=co.Free,zoomOnDoubleClick:m=!0,elementsSelectable:x,panOnDrag:y=!0,defaultViewport:v,translateExtent:S,minZoom:E,maxZoom:w,zoomActivationKeyCode:_,preventScrolling:C=!0,children:R,noWheelClassName:k,noPanClassName:M})=>{const B=A.useRef(),O=Ft(),Y=A.useRef(!1),H=A.useRef(!1),V=A.useRef(null),ee=A.useRef({x:0,y:0,zoom:0}),{d3Zoom:oe,d3Selection:de,d3ZoomHandler:pe,userSelectionActive:N}=yt(EA,Pt),P=zr(_),z=A.useRef(0),W=A.useRef(!1),q=A.useRef();return SA(V),A.useEffect(()=>{if(V.current){const G=V.current.getBoundingClientRect(),te=Sy().scaleExtent([E,w]).translateExtent(S),j=ni(V.current).call(te),I=el.translate(v.x,v.y).scale(pa(v.zoom,E,w)),F=[[0,0],[G.width,G.height]],le=te.constrain()(I,F,S);te.transform(j,le),te.wheelDelta(i0),O.setState({d3Zoom:te,d3Selection:j,d3ZoomHandler:j.on("wheel.zoom"),transform:[le.x,le.y,le.k],domNode:V.current.closest(".react-flow")})}},[]),A.useEffect(()=>{de&&oe&&(d&&!P&&!N?de.on("wheel.zoom",G=>{if(Jo(G,k))return!1;G.preventDefault(),G.stopImmediatePropagation();const te=de.property("__zoom").k||1;if(G.ctrlKey&&c){const Ce=ui(G),we=i0(G),Re=te*Math.pow(2,we);oe.scaleTo(de,Re,Ce,G);return}const j=G.deltaMode===1?20:1;let I=g===co.Vertical?0:G.deltaX*j,F=g===co.Horizontal?0:G.deltaY*j;!Sc()&&G.shiftKey&&g!==co.Vertical&&(I=G.deltaY*j,F=0),oe.translateBy(de,-(I/te)*h,-(F/te)*h,{internal:!0});const le=ic(de.property("__zoom")),{onViewportChangeStart:se,onViewportChange:me,onViewportChangeEnd:xe}=O.getState();clearTimeout(q.current),W.current||(W.current=!0,l?.(G,le),se?.(le)),W.current&&(e?.(G,le),me?.(le),q.current=setTimeout(()=>{o?.(G,le),xe?.(le),W.current=!1},150))},{passive:!1}):typeof pe<"u"&&de.on("wheel.zoom",function(G,te){if(!C&&G.type==="wheel"&&!G.ctrlKey||Jo(G,k))return null;G.preventDefault(),pe.call(this,G,te)},{passive:!1}))},[N,d,g,de,oe,pe,P,c,C,k,l,e,o]),A.useEffect(()=>{oe&&oe.on("start",G=>{if(!G.sourceEvent||G.sourceEvent.internal)return null;z.current=G.sourceEvent?.button;const{onViewportChangeStart:te}=O.getState(),j=ic(G.transform);Y.current=!0,ee.current=j,G.sourceEvent?.type==="mousedown"&&O.setState({paneDragging:!0}),te?.(j),l?.(G.sourceEvent,j)})},[oe,l]),A.useEffect(()=>{oe&&(N&&!Y.current?oe.on("zoom",null):N||oe.on("zoom",G=>{const{onViewportChange:te}=O.getState();if(O.setState({transform:[G.transform.x,G.transform.y,G.transform.k]}),H.current=!!(a&&n0(y,z.current??0)),(e||te)&&!G.sourceEvent?.internal){const j=ic(G.transform);te?.(j),e?.(G.sourceEvent,j)}}))},[N,oe,e,y,a]),A.useEffect(()=>{oe&&oe.on("end",G=>{if(!G.sourceEvent||G.sourceEvent.internal)return null;const{onViewportChangeEnd:te}=O.getState();if(Y.current=!1,O.setState({paneDragging:!1}),a&&n0(y,z.current??0)&&!H.current&&a(G.sourceEvent),H.current=!1,(o||te)&&wA(ee.current,G.transform)){const j=ic(G.transform);ee.current=j,clearTimeout(B.current),B.current=setTimeout(()=>{te?.(j),o?.(G.sourceEvent,j)},d?150:0)}})},[oe,d,y,o,a]),A.useEffect(()=>{oe&&oe.filter(G=>{const te=P||s,j=c&&G.ctrlKey;if((y===!0||Array.isArray(y)&&y.includes(1))&&G.button===1&&G.type==="mousedown"&&(Jo(G,"react-flow__node")||Jo(G,"react-flow__edge")))return!0;if(!y&&!te&&!d&&!m&&!c||N||!m&&G.type==="dblclick"||Jo(G,k)&&G.type==="wheel"||Jo(G,M)&&(G.type!=="wheel"||d&&G.type==="wheel"&&!P)||!c&&G.ctrlKey&&G.type==="wheel"||!te&&!d&&!j&&G.type==="wheel"||!y&&(G.type==="mousedown"||G.type==="touchstart")||Array.isArray(y)&&!y.includes(G.button)&&G.type==="mousedown")return!1;const I=Array.isArray(y)&&y.includes(G.button)||!G.button||G.button<=1;return(!G.ctrlKey||G.type==="wheel")&&I})},[N,oe,s,c,d,m,y,x,P]),ae.createElement("div",{className:"react-flow__renderer",ref:V,style:yp},R)},AA=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function TA(){const{userSelectionActive:e,userSelectionRect:l}=yt(AA,Pt);return e&&l?ae.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:l.width,height:l.height,transform:`translate(${l.x}px, ${l.y}px)`}}):null}function l0(e,l){const o=l.parentNode||l.parentId,a=e.find(s=>s.id===o);if(a){const s=l.position.x+l.width-a.width,c=l.position.y+l.height-a.height;if(s>0||c>0||l.position.x<0||l.position.y<0){if(a.style={...a.style},a.style.width=a.style.width??a.width,a.style.height=a.style.height??a.height,s>0&&(a.style.width+=s),c>0&&(a.style.height+=c),l.position.x<0){const d=Math.abs(l.position.x);a.position.x=a.position.x-d,a.style.width+=d,l.position.x=0}if(l.position.y<0){const d=Math.abs(l.position.y);a.position.y=a.position.y-d,a.style.height+=d,l.position.y=0}a.width=a.style.width,a.height=a.style.height}}}function Py(e,l){if(e.some(a=>a.type==="reset"))return e.filter(a=>a.type==="reset").map(a=>a.item);const o=e.filter(a=>a.type==="add").map(a=>a.item);return l.reduce((a,s)=>{const c=e.filter(h=>h.id===s.id);if(c.length===0)return a.push(s),a;const d={...s};for(const h of c)if(h)switch(h.type){case"select":{d.selected=h.selected;break}case"position":{typeof h.position<"u"&&(d.position=h.position),typeof h.positionAbsolute<"u"&&(d.positionAbsolute=h.positionAbsolute),typeof h.dragging<"u"&&(d.dragging=h.dragging),d.expandParent&&l0(a,d);break}case"dimensions":{typeof h.dimensions<"u"&&(d.width=h.dimensions.width,d.height=h.dimensions.height),typeof h.updateStyle<"u"&&(d.style={...d.style||{},...h.dimensions}),typeof h.resizing=="boolean"&&(d.resizing=h.resizing),d.expandParent&&l0(a,d);break}case"remove":return a}return a.push(d),a},o)}function Jy(e,l){return Py(e,l)}function _A(e,l){return Py(e,l)}const Bl=(e,l)=>({id:e,type:"select",selected:l});function ia(e,l){return e.reduce((o,a)=>{const s=l.includes(a.id);return!a.selected&&s?(a.selected=!0,o.push(Bl(a.id,!0))):a.selected&&!s&&(a.selected=!1,o.push(Bl(a.id,!1))),o},[])}const cf=(e,l)=>o=>{o.target===l.current&&e?.(o)},kA=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),eb=A.memo(({isSelecting:e,selectionMode:l=jr.Full,panOnDrag:o,onSelectionStart:a,onSelectionEnd:s,onPaneClick:c,onPaneContextMenu:d,onPaneScroll:h,onPaneMouseEnter:g,onPaneMouseMove:m,onPaneMouseLeave:x,children:y})=>{const v=A.useRef(null),S=Ft(),E=A.useRef(0),w=A.useRef(0),_=A.useRef(),{userSelectionActive:C,elementsSelectable:R,dragging:k}=yt(kA,Pt),M=()=>{S.setState({userSelectionActive:!1,userSelectionRect:null}),E.current=0,w.current=0},B=pe=>{c?.(pe),S.getState().resetSelectedElements(),S.setState({nodesSelectionActive:!1})},O=pe=>{if(Array.isArray(o)&&o?.includes(2)){pe.preventDefault();return}d?.(pe)},Y=h?pe=>h(pe):void 0,H=pe=>{const{resetSelectedElements:N,domNode:P}=S.getState();if(_.current=P?.getBoundingClientRect(),!R||!e||pe.button!==0||pe.target!==v.current||!_.current)return;const{x:z,y:W}=Il(pe,_.current);N(),S.setState({userSelectionRect:{width:0,height:0,startX:z,startY:W,x:z,y:W}}),a?.(pe)},V=pe=>{const{userSelectionRect:N,nodeInternals:P,edges:z,transform:W,onNodesChange:q,onEdgesChange:G,nodeOrigin:te,getNodes:j}=S.getState();if(!e||!_.current||!N)return;S.setState({userSelectionActive:!0,nodesSelectionActive:!1});const I=Il(pe,_.current),F=N.startX??0,le=N.startY??0,se={...N,x:I.x<F?I.x:F,y:I.y<le?I.y:le,width:Math.abs(I.x-F),height:Math.abs(I.y-le)},me=j(),xe=Dy(P,se,W,l===jr.Partial,!0,te),Ce=Oy(xe,z).map(Re=>Re.id),we=xe.map(Re=>Re.id);if(E.current!==we.length){E.current=we.length;const Re=ia(me,we);Re.length&&q?.(Re)}if(w.current!==Ce.length){w.current=Ce.length;const Re=ia(z,Ce);Re.length&&G?.(Re)}S.setState({userSelectionRect:se})},ee=pe=>{if(pe.button!==0)return;const{userSelectionRect:N}=S.getState();!C&&N&&pe.target===v.current&&B?.(pe),S.setState({nodesSelectionActive:E.current>0}),M(),s?.(pe)},oe=pe=>{C&&(S.setState({nodesSelectionActive:E.current>0}),s?.(pe)),M()},de=R&&(e||C);return ae.createElement("div",{className:sn(["react-flow__pane",{dragging:k,selection:e}]),onClick:de?void 0:cf(B,v),onContextMenu:cf(O,v),onWheel:cf(Y,v),onMouseEnter:de?void 0:g,onMouseDown:de?H:void 0,onMouseMove:de?V:m,onMouseUp:de?ee:void 0,onMouseLeave:de?oe:x,ref:v,style:yp},y,ae.createElement(TA,null))});eb.displayName="Pane";function tb(e,l){const o=e.parentNode||e.parentId;if(!o)return!1;const a=l.get(o);return a?a.selected?!0:tb(a,l):!1}function o0(e,l,o){let a=e;do{if(a?.matches(l))return!0;if(a===o.current)return!1;a=a.parentElement}while(a);return!1}function jA(e,l,o,a){return Array.from(e.values()).filter(s=>(s.selected||s.id===a)&&(!s.parentNode||s.parentId||!tb(s,e))&&(s.draggable||l&&typeof s.draggable>"u")).map(s=>({id:s.id,position:s.position||{x:0,y:0},positionAbsolute:s.positionAbsolute||{x:0,y:0},distance:{x:o.x-(s.positionAbsolute?.x??0),y:o.y-(s.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:s.extent,parentNode:s.parentNode||s.parentId,parentId:s.parentNode||s.parentId,width:s.width,height:s.height,expandParent:s.expandParent}))}function zA(e,l){return!l||l==="parent"?l:[l[0],[l[1][0]-(e.width||0),l[1][1]-(e.height||0)]]}function nb(e,l,o,a,s=[0,0],c){const d=zA(e,e.extent||a);let h=d;const g=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(g&&e.width&&e.height){const y=o.get(g),{x:v,y:S}=fo(y,s).positionAbsolute;h=y&&ii(v)&&ii(S)&&ii(y.width)&&ii(y.height)?[[v+e.width*s[0],S+e.height*s[1]],[v+y.width-e.width+e.width*s[0],S+y.height-e.height+e.height*s[1]]]:h}else c?.("005",nl.error005()),h=d;else if(e.extent&&g&&e.extent!=="parent"){const y=o.get(g),{x:v,y:S}=fo(y,s).positionAbsolute;h=[[e.extent[0][0]+v,e.extent[0][1]+S],[e.extent[1][0]+v,e.extent[1][1]+S]]}let m={x:0,y:0};if(g){const y=o.get(g);m=fo(y,s).positionAbsolute}const x=h&&h!=="parent"?up(l,h):l;return{position:{x:x.x-m.x,y:x.y-m.y},positionAbsolute:x}}function uf({nodeId:e,dragItems:l,nodeInternals:o}){const a=l.map(s=>({...o.get(s.id),position:s.position,positionAbsolute:s.positionAbsolute}));return[e?a.find(s=>s.id===e):a[0],a]}const a0=(e,l,o,a)=>{const s=l.querySelectorAll(e);if(!s||!s.length)return null;const c=Array.from(s),d=l.getBoundingClientRect(),h={x:d.width*a[0],y:d.height*a[1]};return c.map(g=>{const m=g.getBoundingClientRect();return{id:g.getAttribute("data-handleid"),position:g.getAttribute("data-handlepos"),x:(m.left-d.left-h.x)/o,y:(m.top-d.top-h.y)/o,...cp(g)}})};function ur(e,l,o){return o===void 0?o:a=>{const s=l().nodeInternals.get(e);s&&o(a,{...s})}}function If({id:e,store:l,unselect:o=!1,nodeRef:a}){const{addSelectedNodes:s,unselectNodesAndEdges:c,multiSelectionActive:d,nodeInternals:h,onError:g}=l.getState(),m=h.get(e);if(!m){g?.("012",nl.error012(e));return}l.setState({nodesSelectionActive:!1}),m.selected?(o||m.selected&&d)&&(c({nodes:[m],edges:[]}),requestAnimationFrame(()=>a?.current?.blur())):s([e])}function RA(){const e=Ft();return A.useCallback(({sourceEvent:o})=>{const{transform:a,snapGrid:s,snapToGrid:c}=e.getState(),d=o.touches?o.touches[0].clientX:o.clientX,h=o.touches?o.touches[0].clientY:o.clientY,g={x:(d-a[0])/a[2],y:(h-a[1])/a[2]};return{xSnapped:c?s[0]*Math.round(g.x/s[0]):g.x,ySnapped:c?s[1]*Math.round(g.y/s[1]):g.y,...g}},[])}function df(e){return(l,o,a)=>e?.(l,a)}function ib({nodeRef:e,disabled:l=!1,noDragClassName:o,handleSelector:a,nodeId:s,isSelectable:c,selectNodesOnDrag:d}){const h=Ft(),[g,m]=A.useState(!1),x=A.useRef([]),y=A.useRef({x:null,y:null}),v=A.useRef(0),S=A.useRef(null),E=A.useRef({x:0,y:0}),w=A.useRef(null),_=A.useRef(!1),C=A.useRef(!1),R=A.useRef(!1),k=RA();return A.useEffect(()=>{if(e?.current){const M=ni(e.current),B=({x:H,y:V})=>{const{nodeInternals:ee,onNodeDrag:oe,onSelectionDrag:de,updateNodePositions:pe,nodeExtent:N,snapGrid:P,snapToGrid:z,nodeOrigin:W,onError:q}=h.getState();y.current={x:H,y:V};let G=!1,te={x:0,y:0,x2:0,y2:0};if(x.current.length>1&&N){const I=Uc(x.current,W);te=kr(I)}if(x.current=x.current.map(I=>{const F={x:H-I.distance.x,y:V-I.distance.y};z&&(F.x=P[0]*Math.round(F.x/P[0]),F.y=P[1]*Math.round(F.y/P[1]));const le=[[N[0][0],N[0][1]],[N[1][0],N[1][1]]];x.current.length>1&&N&&!I.extent&&(le[0][0]=I.positionAbsolute.x-te.x+N[0][0],le[1][0]=I.positionAbsolute.x+(I.width??0)-te.x2+N[1][0],le[0][1]=I.positionAbsolute.y-te.y+N[0][1],le[1][1]=I.positionAbsolute.y+(I.height??0)-te.y2+N[1][1]);const se=nb(I,F,ee,le,W,q);return G=G||I.position.x!==se.position.x||I.position.y!==se.position.y,I.position=se.position,I.positionAbsolute=se.positionAbsolute,I}),!G)return;pe(x.current,!0,!0),m(!0);const j=s?oe:df(de);if(j&&w.current){const[I,F]=uf({nodeId:s,dragItems:x.current,nodeInternals:ee});j(w.current,I,F)}},O=()=>{if(!S.current)return;const[H,V]=Ey(E.current,S.current);if(H!==0||V!==0){const{transform:ee,panBy:oe}=h.getState();y.current.x=(y.current.x??0)-H/ee[2],y.current.y=(y.current.y??0)-V/ee[2],oe({x:H,y:V})&&B(y.current)}v.current=requestAnimationFrame(O)},Y=H=>{const{nodeInternals:V,multiSelectionActive:ee,nodesDraggable:oe,unselectNodesAndEdges:de,onNodeDragStart:pe,onSelectionDragStart:N}=h.getState();C.current=!0;const P=s?pe:df(N);(!d||!c)&&!ee&&s&&(V.get(s)?.selected||de()),s&&c&&d&&If({id:s,store:h,nodeRef:e});const z=k(H);if(y.current=z,x.current=jA(V,oe,z,s),P&&x.current){const[W,q]=uf({nodeId:s,dragItems:x.current,nodeInternals:V});P(H.sourceEvent,W,q)}};if(l)M.on(".drag",null);else{const H=$w().on("start",V=>{const{domNode:ee,nodeDragThreshold:oe}=h.getState();oe===0&&Y(V),R.current=!1;const de=k(V);y.current=de,S.current=ee?.getBoundingClientRect()||null,E.current=Il(V.sourceEvent,S.current)}).on("drag",V=>{const ee=k(V),{autoPanOnNodeDrag:oe,nodeDragThreshold:de}=h.getState();if(V.sourceEvent.type==="touchmove"&&V.sourceEvent.touches.length>1&&(R.current=!0),!R.current){if(!_.current&&C.current&&oe&&(_.current=!0,O()),!C.current){const pe=ee.xSnapped-(y?.current?.x??0),N=ee.ySnapped-(y?.current?.y??0);Math.sqrt(pe*pe+N*N)>de&&Y(V)}(y.current.x!==ee.xSnapped||y.current.y!==ee.ySnapped)&&x.current&&C.current&&(w.current=V.sourceEvent,E.current=Il(V.sourceEvent,S.current),B(ee))}}).on("end",V=>{if(!(!C.current||R.current)&&(m(!1),_.current=!1,C.current=!1,cancelAnimationFrame(v.current),x.current)){const{updateNodePositions:ee,nodeInternals:oe,onNodeDragStop:de,onSelectionDragStop:pe}=h.getState(),N=s?de:df(pe);if(ee(x.current,!1,!1),N){const[P,z]=uf({nodeId:s,dragItems:x.current,nodeInternals:oe});N(V.sourceEvent,P,z)}}}).filter(V=>{const ee=V.target;return!V.button&&(!o||!o0(ee,`.${o}`,e))&&(!a||o0(ee,a,e))});return M.call(H),()=>{M.on(".drag",null)}}}},[e,l,o,a,c,h,s,d,k]),g}function lb(){const e=Ft();return A.useCallback(o=>{const{nodeInternals:a,nodeExtent:s,updateNodePositions:c,getNodes:d,snapToGrid:h,snapGrid:g,onError:m,nodesDraggable:x}=e.getState(),y=d().filter(R=>R.selected&&(R.draggable||x&&typeof R.draggable>"u")),v=h?g[0]:5,S=h?g[1]:5,E=o.isShiftPressed?4:1,w=o.x*v*E,_=o.y*S*E,C=y.map(R=>{if(R.positionAbsolute){const k={x:R.positionAbsolute.x+w,y:R.positionAbsolute.y+_};h&&(k.x=g[0]*Math.round(k.x/g[0]),k.y=g[1]*Math.round(k.y/g[1]));const{positionAbsolute:M,position:B}=nb(R,k,a,s,void 0,m);R.position=B,R.positionAbsolute=M}return R});c(C,!0,!1)},[])}const ua={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var dr=e=>{const l=({id:o,type:a,data:s,xPos:c,yPos:d,xPosOrigin:h,yPosOrigin:g,selected:m,onClick:x,onMouseEnter:y,onMouseMove:v,onMouseLeave:S,onContextMenu:E,onDoubleClick:w,style:_,className:C,isDraggable:R,isSelectable:k,isConnectable:M,isFocusable:B,selectNodesOnDrag:O,sourcePosition:Y,targetPosition:H,hidden:V,resizeObserver:ee,dragHandle:oe,zIndex:de,isParent:pe,noDragClassName:N,noPanClassName:P,initialized:z,disableKeyboardA11y:W,ariaLabel:q,rfId:G,hasHandleBounds:te})=>{const j=Ft(),I=A.useRef(null),F=A.useRef(null),le=A.useRef(Y),se=A.useRef(H),me=A.useRef(a),xe=k||R||x||y||v||S,Ce=lb(),we=ur(o,j.getState,y),Re=ur(o,j.getState,v),Pe=ur(o,j.getState,S),Xe=ur(o,j.getState,E),Je=ur(o,j.getState,w),Ue=Oe=>{const{nodeDragThreshold:ye}=j.getState();if(k&&(!O||!R||ye>0)&&If({id:o,store:j,nodeRef:I}),x){const nt=j.getState().nodeInternals.get(o);nt&&x(Oe,{...nt})}},He=Oe=>{if(!Of(Oe)&&!W)if(_y.includes(Oe.key)&&k){const ye=Oe.key==="Escape";If({id:o,store:j,unselect:ye,nodeRef:I})}else R&&m&&Object.prototype.hasOwnProperty.call(ua,Oe.key)&&(j.setState({ariaLiveMessage:`Moved selected node ${Oe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~c}, y: ${~~d}`}),Ce({x:ua[Oe.key].x,y:ua[Oe.key].y,isShiftPressed:Oe.shiftKey}))};A.useEffect(()=>()=>{F.current&&(ee?.unobserve(F.current),F.current=null)},[]),A.useEffect(()=>{if(I.current&&!V){const Oe=I.current;(!z||!te||F.current!==Oe)&&(F.current&&ee?.unobserve(F.current),ee?.observe(Oe),F.current=Oe)}},[V,z,te]),A.useEffect(()=>{const Oe=me.current!==a,ye=le.current!==Y,nt=se.current!==H;I.current&&(Oe||ye||nt)&&(Oe&&(me.current=a),ye&&(le.current=Y),nt&&(se.current=H),j.getState().updateNodeDimensions([{id:o,nodeElement:I.current,forceUpdate:!0}]))},[o,a,Y,H]);const ot=ib({nodeRef:I,disabled:V||!R,noDragClassName:N,handleSelector:oe,nodeId:o,isSelectable:k,selectNodesOnDrag:O});return V?null:ae.createElement("div",{className:sn(["react-flow__node",`react-flow__node-${a}`,{[P]:R},C,{selected:m,selectable:k,parent:pe,dragging:ot}]),ref:I,style:{zIndex:de,transform:`translate(${h}px,${g}px)`,pointerEvents:xe?"all":"none",visibility:z?"visible":"hidden",..._},"data-id":o,"data-testid":`rf__node-${o}`,onMouseEnter:we,onMouseMove:Re,onMouseLeave:Pe,onContextMenu:Xe,onClick:Ue,onDoubleClick:Je,onKeyDown:B?He:void 0,tabIndex:B?0:void 0,role:B?"button":void 0,"aria-describedby":W?void 0:`${Xy}-${G}`,"aria-label":q},ae.createElement(VC,{value:o},ae.createElement(e,{id:o,data:s,type:a,xPos:c,yPos:d,selected:m,isConnectable:M,sourcePosition:Y,targetPosition:H,dragging:ot,dragHandle:oe,zIndex:de})))};return l.displayName="NodeWrapper",A.memo(l)};const MA=e=>{const l=e.getNodes().filter(o=>o.selected);return{...Uc(l,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function NA({onSelectionContextMenu:e,noPanClassName:l,disableKeyboardA11y:o}){const a=Ft(),{width:s,height:c,x:d,y:h,transformString:g,userSelectionActive:m}=yt(MA,Pt),x=lb(),y=A.useRef(null);if(A.useEffect(()=>{o||y.current?.focus({preventScroll:!0})},[o]),ib({nodeRef:y}),m||!s||!c)return null;const v=e?E=>{const w=a.getState().getNodes().filter(_=>_.selected);e(E,w)}:void 0,S=E=>{Object.prototype.hasOwnProperty.call(ua,E.key)&&x({x:ua[E.key].x,y:ua[E.key].y,isShiftPressed:E.shiftKey})};return ae.createElement("div",{className:sn(["react-flow__nodesselection","react-flow__container",l]),style:{transform:g}},ae.createElement("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:v,tabIndex:o?void 0:-1,onKeyDown:o?void 0:S,style:{width:s,height:c,top:h,left:d}}))}var DA=A.memo(NA);const OA=e=>e.nodesSelectionActive,ob=({children:e,onPaneClick:l,onPaneMouseEnter:o,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:d,deleteKeyCode:h,onMove:g,onMoveStart:m,onMoveEnd:x,selectionKeyCode:y,selectionOnDrag:v,selectionMode:S,onSelectionStart:E,onSelectionEnd:w,multiSelectionKeyCode:_,panActivationKeyCode:C,zoomActivationKeyCode:R,elementsSelectable:k,zoomOnScroll:M,zoomOnPinch:B,panOnScroll:O,panOnScrollSpeed:Y,panOnScrollMode:H,zoomOnDoubleClick:V,panOnDrag:ee,defaultViewport:oe,translateExtent:de,minZoom:pe,maxZoom:N,preventScrolling:P,onSelectionContextMenu:z,noWheelClassName:W,noPanClassName:q,disableKeyboardA11y:G})=>{const te=yt(OA),j=zr(y),I=zr(C),F=I||ee,le=I||O,se=j||v&&F!==!0;return vA({deleteKeyCode:h,multiSelectionKeyCode:_}),ae.createElement(CA,{onMove:g,onMoveStart:m,onMoveEnd:x,onPaneContextMenu:c,elementsSelectable:k,zoomOnScroll:M,zoomOnPinch:B,panOnScroll:le,panOnScrollSpeed:Y,panOnScrollMode:H,zoomOnDoubleClick:V,panOnDrag:!j&&F,defaultViewport:oe,translateExtent:de,minZoom:pe,maxZoom:N,zoomActivationKeyCode:R,preventScrolling:P,noWheelClassName:W,noPanClassName:q},ae.createElement(eb,{onSelectionStart:E,onSelectionEnd:w,onPaneClick:l,onPaneMouseEnter:o,onPaneMouseMove:a,onPaneMouseLeave:s,onPaneContextMenu:c,onPaneScroll:d,panOnDrag:F,isSelecting:!!se,selectionMode:S},e,te&&ae.createElement(DA,{onSelectionContextMenu:z,noPanClassName:q,disableKeyboardA11y:G})))};ob.displayName="FlowRenderer";var LA=A.memo(ob);function BA(e){return yt(A.useCallback(o=>e?Dy(o.nodeInternals,{x:0,y:0,width:o.width,height:o.height},o.transform,!0):o.getNodes(),[e]))}function HA(e){const l={input:dr(e.input||Gy),default:dr(e.default||Uf),output:dr(e.output||qy),group:dr(e.group||xp)},o={},a=Object.keys(e).filter(s=>!["input","default","output","group"].includes(s)).reduce((s,c)=>(s[c]=dr(e[c]||Uf),s),o);return{...l,...a}}const UA=({x:e,y:l,width:o,height:a,origin:s})=>!o||!a?{x:e,y:l}:s[0]<0||s[1]<0||s[0]>1||s[1]>1?{x:e,y:l}:{x:e-o*s[0],y:l-a*s[1]},IA=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),ab=e=>{const{nodesDraggable:l,nodesConnectable:o,nodesFocusable:a,elementsSelectable:s,updateNodeDimensions:c,onError:d}=yt(IA,Pt),h=BA(e.onlyRenderVisibleElements),g=A.useRef(),m=A.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const x=new ResizeObserver(y=>{const v=y.map(S=>({id:S.target.getAttribute("data-id"),nodeElement:S.target,forceUpdate:!0}));c(v)});return g.current=x,x},[]);return A.useEffect(()=>()=>{g?.current?.disconnect()},[]),ae.createElement("div",{className:"react-flow__nodes",style:yp},h.map(x=>{let y=x.type||"default";e.nodeTypes[y]||(d?.("003",nl.error003(y)),y="default");const v=e.nodeTypes[y]||e.nodeTypes.default,S=!!(x.draggable||l&&typeof x.draggable>"u"),E=!!(x.selectable||s&&typeof x.selectable>"u"),w=!!(x.connectable||o&&typeof x.connectable>"u"),_=!!(x.focusable||a&&typeof x.focusable>"u"),C=e.nodeExtent?up(x.positionAbsolute,e.nodeExtent):x.positionAbsolute,R=C?.x??0,k=C?.y??0,M=UA({x:R,y:k,width:x.width??0,height:x.height??0,origin:e.nodeOrigin});return ae.createElement(v,{key:x.id,id:x.id,className:x.className,style:x.style,type:y,data:x.data,sourcePosition:x.sourcePosition||_e.Bottom,targetPosition:x.targetPosition||_e.Top,hidden:x.hidden,xPos:R,yPos:k,xPosOrigin:M.x,yPosOrigin:M.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!x.selected,isDraggable:S,isSelectable:E,isConnectable:w,isFocusable:_,resizeObserver:m,dragHandle:x.dragHandle,zIndex:x[Mt]?.z??0,isParent:!!x[Mt]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!x.width&&!!x.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:x.ariaLabel,hasHandleBounds:!!x[Mt]?.handleBounds})}))};ab.displayName="NodeRenderer";var YA=A.memo(ab);const $A=(e,l,o)=>o===_e.Left?e-l:o===_e.Right?e+l:e,GA=(e,l,o)=>o===_e.Top?e-l:o===_e.Bottom?e+l:e,r0="react-flow__edgeupdater",s0=({position:e,centerX:l,centerY:o,radius:a=10,onMouseDown:s,onMouseEnter:c,onMouseOut:d,type:h})=>ae.createElement("circle",{onMouseDown:s,onMouseEnter:c,onMouseOut:d,className:sn([r0,`${r0}-${h}`]),cx:$A(l,a,e),cy:GA(o,a,e),r:a,stroke:"transparent",fill:"transparent"}),WA=()=>!0;var ea=e=>{const l=({id:o,className:a,type:s,data:c,onClick:d,onEdgeDoubleClick:h,selected:g,animated:m,label:x,labelStyle:y,labelShowBg:v,labelBgStyle:S,labelBgPadding:E,labelBgBorderRadius:w,style:_,source:C,target:R,sourceX:k,sourceY:M,targetX:B,targetY:O,sourcePosition:Y,targetPosition:H,elementsSelectable:V,hidden:ee,sourceHandleId:oe,targetHandleId:de,onContextMenu:pe,onMouseEnter:N,onMouseMove:P,onMouseLeave:z,reconnectRadius:W,onReconnect:q,onReconnectStart:G,onReconnectEnd:te,markerEnd:j,markerStart:I,rfId:F,ariaLabel:le,isFocusable:se,isReconnectable:me,pathOptions:xe,interactionWidth:Ce,disableKeyboardA11y:we})=>{const Re=A.useRef(null),[Pe,Xe]=A.useState(!1),[Je,Ue]=A.useState(!1),He=Ft(),ot=A.useMemo(()=>`url('#${Bf(I,F)}')`,[I,F]),Oe=A.useMemo(()=>`url('#${Bf(j,F)}')`,[j,F]);if(ee)return null;const ye=bt=>{const{edges:qt,addSelectedEdges:Et,unselectNodesAndEdges:rt,multiSelectionActive:ft}=He.getState(),Qe=qt.find(cn=>cn.id===o);Qe&&(V&&(He.setState({nodesSelectionActive:!1}),Qe.selected&&ft?(rt({nodes:[],edges:[Qe]}),Re.current?.blur()):Et([o])),d&&d(bt,Qe))},nt=cr(o,He.getState,h),ut=cr(o,He.getState,pe),Gt=cr(o,He.getState,N),Bt=cr(o,He.getState,P),Jt=cr(o,He.getState,z),We=(bt,qt)=>{if(bt.button!==0)return;const{edges:Et,isValidConnection:rt}=He.getState(),ft=qt?R:C,Qe=(qt?de:oe)||null,cn=qt?"target":"source",$n=rt||WA,Ai=qt,en=Et.find(kt=>kt.id===o);Ue(!0),G?.(bt,en,cn);const Ct=kt=>{Ue(!1),te?.(kt,en,cn)};Uy({event:bt,handleId:Qe,nodeId:ft,onConnect:kt=>q?.(en,kt),isTarget:Ai,getState:He.getState,setState:He.setState,isValidConnection:$n,edgeUpdaterType:cn,onReconnectEnd:Ct})},Nt=bt=>We(bt,!0),vt=bt=>We(bt,!1),dt=()=>Xe(!0),K=()=>Xe(!1),Mn=!V&&!d,Wt=bt=>{if(!we&&_y.includes(bt.key)&&V){const{unselectNodesAndEdges:qt,addSelectedEdges:Et,edges:rt}=He.getState();bt.key==="Escape"?(Re.current?.blur(),qt({edges:[rt.find(Qe=>Qe.id===o)]})):Et([o])}};return ae.createElement("g",{className:sn(["react-flow__edge",`react-flow__edge-${s}`,a,{selected:g,animated:m,inactive:Mn,updating:Pe}]),onClick:ye,onDoubleClick:nt,onContextMenu:ut,onMouseEnter:Gt,onMouseMove:Bt,onMouseLeave:Jt,onKeyDown:se?Wt:void 0,tabIndex:se?0:void 0,role:se?"button":"img","data-testid":`rf__edge-${o}`,"aria-label":le===null?void 0:le||`Edge from ${C} to ${R}`,"aria-describedby":se?`${Fy}-${F}`:void 0,ref:Re},!Je&&ae.createElement(e,{id:o,source:C,target:R,selected:g,animated:m,label:x,labelStyle:y,labelShowBg:v,labelBgStyle:S,labelBgPadding:E,labelBgBorderRadius:w,data:c,style:_,sourceX:k,sourceY:M,targetX:B,targetY:O,sourcePosition:Y,targetPosition:H,sourceHandleId:oe,targetHandleId:de,markerStart:ot,markerEnd:Oe,pathOptions:xe,interactionWidth:Ce}),me&&ae.createElement(ae.Fragment,null,(me==="source"||me===!0)&&ae.createElement(s0,{position:Y,centerX:k,centerY:M,radius:W,onMouseDown:Nt,onMouseEnter:dt,onMouseOut:K,type:"source"}),(me==="target"||me===!0)&&ae.createElement(s0,{position:H,centerX:B,centerY:O,radius:W,onMouseDown:vt,onMouseEnter:dt,onMouseOut:K,type:"target"})))};return l.displayName="EdgeWrapper",A.memo(l)};function qA(e){const l={default:ea(e.default||Ec),straight:ea(e.bezier||pp),step:ea(e.step||fp),smoothstep:ea(e.step||Hc),simplebezier:ea(e.simplebezier||dp)},o={},a=Object.keys(e).filter(s=>!["default","bezier"].includes(s)).reduce((s,c)=>(s[c]=ea(e[c]||Ec),s),o);return{...l,...a}}function c0(e,l,o=null){const a=(o?.x||0)+l.x,s=(o?.y||0)+l.y,c=o?.width||l.width,d=o?.height||l.height;switch(e){case _e.Top:return{x:a+c/2,y:s};case _e.Right:return{x:a+c,y:s+d/2};case _e.Bottom:return{x:a+c/2,y:s+d};case _e.Left:return{x:a,y:s+d/2}}}function u0(e,l){return e?e.length===1||!l?e[0]:l&&e.find(o=>o.id===l)||null:null}const VA=(e,l,o,a,s,c)=>{const d=c0(o,e,l),h=c0(c,a,s);return{sourceX:d.x,sourceY:d.y,targetX:h.x,targetY:h.y}};function XA({sourcePos:e,targetPos:l,sourceWidth:o,sourceHeight:a,targetWidth:s,targetHeight:c,width:d,height:h,transform:g}){const m={x:Math.min(e.x,l.x),y:Math.min(e.y,l.y),x2:Math.max(e.x+o,l.x+s),y2:Math.max(e.y+a,l.y+c)};m.x===m.x2&&(m.x2+=1),m.y===m.y2&&(m.y2+=1);const x=kr({x:(0-g[0])/g[2],y:(0-g[1])/g[2],width:d/g[2],height:h/g[2]}),y=Math.max(0,Math.min(x.x2,m.x2)-Math.max(x.x,m.x)),v=Math.max(0,Math.min(x.y2,m.y2)-Math.max(x.y,m.y));return Math.ceil(y*v)>0}function d0(e){const l=e?.[Mt]?.handleBounds||null,o=l&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},l,!!o]}const FA=[{level:0,isMaxLevel:!0,edges:[]}];function KA(e,l,o=!1){let a=-1;const s=e.reduce((d,h)=>{const g=ii(h.zIndex);let m=g?h.zIndex:0;if(o){const x=l.get(h.target),y=l.get(h.source),v=h.selected||x?.selected||y?.selected,S=Math.max(y?.[Mt]?.z||0,x?.[Mt]?.z||0,1e3);m=(g?h.zIndex:0)+(v?S:0)}return d[m]?d[m].push(h):d[m]=[h],a=m>a?m:a,d},{}),c=Object.entries(s).map(([d,h])=>{const g=+d;return{edges:h,level:g,isMaxLevel:g===a}});return c.length===0?FA:c}function ZA(e,l,o){const a=yt(A.useCallback(s=>e?s.edges.filter(c=>{const d=l.get(c.source),h=l.get(c.target);return d?.width&&d?.height&&h?.width&&h?.height&&XA({sourcePos:d.positionAbsolute||{x:0,y:0},targetPos:h.positionAbsolute||{x:0,y:0},sourceWidth:d.width,sourceHeight:d.height,targetWidth:h.width,targetHeight:h.height,width:s.width,height:s.height,transform:s.transform})}):s.edges,[e,l]));return KA(a,l,o)}const QA=({color:e="none",strokeWidth:l=1})=>ae.createElement("polyline",{style:{stroke:e,strokeWidth:l},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),PA=({color:e="none",strokeWidth:l=1})=>ae.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:l},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),f0={[wc.Arrow]:QA,[wc.ArrowClosed]:PA};function JA(e){const l=Ft();return A.useMemo(()=>Object.prototype.hasOwnProperty.call(f0,e)?f0[e]:(l.getState().onError?.("009",nl.error009(e)),null),[e])}const eT=({id:e,type:l,color:o,width:a=12.5,height:s=12.5,markerUnits:c="strokeWidth",strokeWidth:d,orient:h="auto-start-reverse"})=>{const g=JA(l);return g?ae.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${a}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:c,orient:h,refX:"0",refY:"0"},ae.createElement(g,{color:o,strokeWidth:d})):null},tT=({defaultColor:e,rfId:l})=>o=>{const a=[];return o.edges.reduce((s,c)=>([c.markerStart,c.markerEnd].forEach(d=>{if(d&&typeof d=="object"){const h=Bf(d,l);a.includes(h)||(s.push({id:h,color:d.color||e,...d}),a.push(h))}}),s),[]).sort((s,c)=>s.id.localeCompare(c.id))},rb=({defaultColor:e,rfId:l})=>{const o=yt(A.useCallback(tT({defaultColor:e,rfId:l}),[e,l]),(a,s)=>!(a.length!==s.length||a.some((c,d)=>c.id!==s[d].id)));return ae.createElement("defs",null,o.map(a=>ae.createElement(eT,{id:a.id,key:a.id,type:a.type,color:a.color,width:a.width,height:a.height,markerUnits:a.markerUnits,strokeWidth:a.strokeWidth,orient:a.orient})))};rb.displayName="MarkerDefinitions";var nT=A.memo(rb);const iT=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),sb=({defaultMarkerColor:e,onlyRenderVisibleElements:l,elevateEdgesOnSelect:o,rfId:a,edgeTypes:s,noPanClassName:c,onEdgeContextMenu:d,onEdgeMouseEnter:h,onEdgeMouseMove:g,onEdgeMouseLeave:m,onEdgeClick:x,onEdgeDoubleClick:y,onReconnect:v,onReconnectStart:S,onReconnectEnd:E,reconnectRadius:w,children:_,disableKeyboardA11y:C})=>{const{edgesFocusable:R,edgesUpdatable:k,elementsSelectable:M,width:B,height:O,connectionMode:Y,nodeInternals:H,onError:V}=yt(iT,Pt),ee=ZA(l,H,o);return B?ae.createElement(ae.Fragment,null,ee.map(({level:oe,edges:de,isMaxLevel:pe})=>ae.createElement("svg",{key:oe,style:{zIndex:oe},width:B,height:O,className:"react-flow__edges react-flow__container"},pe&&ae.createElement(nT,{defaultColor:e,rfId:a}),ae.createElement("g",null,de.map(N=>{const[P,z,W]=d0(H.get(N.source)),[q,G,te]=d0(H.get(N.target));if(!W||!te)return null;let j=N.type||"default";s[j]||(V?.("011",nl.error011(j)),j="default");const I=s[j]||s.default,F=Y===mo.Strict?G.target:(G.target??[]).concat(G.source??[]),le=u0(z.source,N.sourceHandle),se=u0(F,N.targetHandle),me=le?.position||_e.Bottom,xe=se?.position||_e.Top,Ce=!!(N.focusable||R&&typeof N.focusable>"u"),we=N.reconnectable||N.updatable,Re=typeof v<"u"&&(we||k&&typeof we>"u");if(!le||!se)return V?.("008",nl.error008(le,N)),null;const{sourceX:Pe,sourceY:Xe,targetX:Je,targetY:Ue}=VA(P,le,me,q,se,xe);return ae.createElement(I,{key:N.id,id:N.id,className:sn([N.className,c]),type:j,data:N.data,selected:!!N.selected,animated:!!N.animated,hidden:!!N.hidden,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,style:N.style,source:N.source,target:N.target,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerEnd:N.markerEnd,markerStart:N.markerStart,sourceX:Pe,sourceY:Xe,targetX:Je,targetY:Ue,sourcePosition:me,targetPosition:xe,elementsSelectable:M,onContextMenu:d,onMouseEnter:h,onMouseMove:g,onMouseLeave:m,onClick:x,onEdgeDoubleClick:y,onReconnect:v,onReconnectStart:S,onReconnectEnd:E,reconnectRadius:w,rfId:a,ariaLabel:N.ariaLabel,isFocusable:Ce,isReconnectable:Re,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth,disableKeyboardA11y:C})})))),_):null};sb.displayName="EdgeRenderer";var lT=A.memo(sb);const oT=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function aT({children:e}){const l=yt(oT);return ae.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:l}},e)}function rT(e){const l=Hr(),o=A.useRef(!1);A.useEffect(()=>{!o.current&&l.viewportInitialized&&e&&(setTimeout(()=>e(l),1),o.current=!0)},[e,l.viewportInitialized])}const sT={[_e.Left]:_e.Right,[_e.Right]:_e.Left,[_e.Top]:_e.Bottom,[_e.Bottom]:_e.Top},cb=({nodeId:e,handleType:l,style:o,type:a=Hl.Bezier,CustomComponent:s,connectionStatus:c})=>{const{fromNode:d,handleId:h,toX:g,toY:m,connectionMode:x}=yt(A.useCallback(O=>({fromNode:O.nodeInternals.get(e),handleId:O.connectionHandleId,toX:(O.connectionPosition.x-O.transform[0])/O.transform[2],toY:(O.connectionPosition.y-O.transform[1])/O.transform[2],connectionMode:O.connectionMode}),[e]),Pt),y=d?.[Mt]?.handleBounds;let v=y?.[l];if(x===mo.Loose&&(v=v||y?.[l==="source"?"target":"source"]),!d||!v)return null;const S=h?v.find(O=>O.id===h):v[0],E=S?S.x+S.width/2:(d.width??0)/2,w=S?S.y+S.height/2:d.height??0,_=(d.positionAbsolute?.x??0)+E,C=(d.positionAbsolute?.y??0)+w,R=S?.position,k=R?sT[R]:null;if(!R||!k)return null;if(s)return ae.createElement(s,{connectionLineType:a,connectionLineStyle:o,fromNode:d,fromHandle:S,fromX:_,fromY:C,toX:g,toY:m,fromPosition:R,toPosition:k,connectionStatus:c});let M="";const B={sourceX:_,sourceY:C,sourcePosition:R,targetX:g,targetY:m,targetPosition:k};return a===Hl.Bezier?[M]=hp(B):a===Hl.Step?[M]=Lf({...B,borderRadius:0}):a===Hl.SmoothStep?[M]=Lf(B):a===Hl.SimpleBezier?[M]=Ry(B):M=`M${_},${C} ${g},${m}`,ae.createElement("path",{d:M,fill:"none",className:"react-flow__connection-path",style:o})};cb.displayName="ConnectionLine";const cT=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function uT({containerStyle:e,style:l,type:o,component:a}){const{nodeId:s,handleType:c,nodesConnectable:d,width:h,height:g,connectionStatus:m}=yt(cT,Pt);return!(s&&c&&h&&d)?null:ae.createElement("svg",{style:e,width:h,height:g,className:"react-flow__edges react-flow__connectionline react-flow__container"},ae.createElement("g",{className:sn(["react-flow__connection",m])},ae.createElement(cb,{nodeId:s,handleType:c,style:l,type:o,CustomComponent:a,connectionStatus:m})))}function p0(e,l){return A.useRef(null),Ft(),A.useMemo(()=>l(e),[e])}const ub=({nodeTypes:e,edgeTypes:l,onMove:o,onMoveStart:a,onMoveEnd:s,onInit:c,onNodeClick:d,onEdgeClick:h,onNodeDoubleClick:g,onEdgeDoubleClick:m,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:S,onSelectionContextMenu:E,onSelectionStart:w,onSelectionEnd:_,connectionLineType:C,connectionLineStyle:R,connectionLineComponent:k,connectionLineContainerStyle:M,selectionKeyCode:B,selectionOnDrag:O,selectionMode:Y,multiSelectionKeyCode:H,panActivationKeyCode:V,zoomActivationKeyCode:ee,deleteKeyCode:oe,onlyRenderVisibleElements:de,elementsSelectable:pe,selectNodesOnDrag:N,defaultViewport:P,translateExtent:z,minZoom:W,maxZoom:q,preventScrolling:G,defaultMarkerColor:te,zoomOnScroll:j,zoomOnPinch:I,panOnScroll:F,panOnScrollSpeed:le,panOnScrollMode:se,zoomOnDoubleClick:me,panOnDrag:xe,onPaneClick:Ce,onPaneMouseEnter:we,onPaneMouseMove:Re,onPaneMouseLeave:Pe,onPaneScroll:Xe,onPaneContextMenu:Je,onEdgeContextMenu:Ue,onEdgeMouseEnter:He,onEdgeMouseMove:ot,onEdgeMouseLeave:Oe,onReconnect:ye,onReconnectStart:nt,onReconnectEnd:ut,reconnectRadius:Gt,noDragClassName:Bt,noWheelClassName:Jt,noPanClassName:We,elevateEdgesOnSelect:Nt,disableKeyboardA11y:vt,nodeOrigin:dt,nodeExtent:K,rfId:Mn})=>{const Wt=p0(e,HA),bt=p0(l,qA);return rT(c),ae.createElement(LA,{onPaneClick:Ce,onPaneMouseEnter:we,onPaneMouseMove:Re,onPaneMouseLeave:Pe,onPaneContextMenu:Je,onPaneScroll:Xe,deleteKeyCode:oe,selectionKeyCode:B,selectionOnDrag:O,selectionMode:Y,onSelectionStart:w,onSelectionEnd:_,multiSelectionKeyCode:H,panActivationKeyCode:V,zoomActivationKeyCode:ee,elementsSelectable:pe,onMove:o,onMoveStart:a,onMoveEnd:s,zoomOnScroll:j,zoomOnPinch:I,zoomOnDoubleClick:me,panOnScroll:F,panOnScrollSpeed:le,panOnScrollMode:se,panOnDrag:xe,defaultViewport:P,translateExtent:z,minZoom:W,maxZoom:q,onSelectionContextMenu:E,preventScrolling:G,noDragClassName:Bt,noWheelClassName:Jt,noPanClassName:We,disableKeyboardA11y:vt},ae.createElement(aT,null,ae.createElement(lT,{edgeTypes:bt,onEdgeClick:h,onEdgeDoubleClick:m,onlyRenderVisibleElements:de,onEdgeContextMenu:Ue,onEdgeMouseEnter:He,onEdgeMouseMove:ot,onEdgeMouseLeave:Oe,onReconnect:ye,onReconnectStart:nt,onReconnectEnd:ut,reconnectRadius:Gt,defaultMarkerColor:te,noPanClassName:We,elevateEdgesOnSelect:!!Nt,disableKeyboardA11y:vt,rfId:Mn},ae.createElement(uT,{style:R,type:C,component:k,containerStyle:M})),ae.createElement("div",{className:"react-flow__edgelabel-renderer"}),ae.createElement(YA,{nodeTypes:Wt,onNodeClick:d,onNodeDoubleClick:g,onNodeMouseEnter:x,onNodeMouseMove:y,onNodeMouseLeave:v,onNodeContextMenu:S,selectNodesOnDrag:N,onlyRenderVisibleElements:de,noPanClassName:We,noDragClassName:Bt,disableKeyboardA11y:vt,nodeOrigin:dt,nodeExtent:K,rfId:Mn})))};ub.displayName="GraphView";var dT=A.memo(ub);const Yf=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Dl={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Yf,nodeExtent:Yf,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:mo.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:IC,isValidConnection:void 0},fT=()=>e2((e,l)=>({...Dl,setNodes:o=>{const{nodeInternals:a,nodeOrigin:s,elevateNodesOnSelect:c}=l();e({nodeInternals:sf(o,a,s,c)})},getNodes:()=>Array.from(l().nodeInternals.values()),setEdges:o=>{const{defaultEdgeOptions:a={}}=l();e({edges:o.map(s=>({...a,...s}))})},setDefaultNodesAndEdges:(o,a)=>{const s=typeof o<"u",c=typeof a<"u",d=s?sf(o,new Map,l().nodeOrigin,l().elevateNodesOnSelect):new Map;e({nodeInternals:d,edges:c?a:[],hasDefaultNodes:s,hasDefaultEdges:c})},updateNodeDimensions:o=>{const{onNodesChange:a,nodeInternals:s,fitViewOnInit:c,fitViewOnInitDone:d,fitViewOnInitOptions:h,domNode:g,nodeOrigin:m}=l(),x=g?.querySelector(".react-flow__viewport");if(!x)return;const y=window.getComputedStyle(x),{m22:v}=new window.DOMMatrixReadOnly(y.transform),S=o.reduce((w,_)=>{const C=s.get(_.id);if(C?.hidden)s.set(C.id,{...C,[Mt]:{...C[Mt],handleBounds:void 0}});else if(C){const R=cp(_.nodeElement);R.width&&R.height&&(C.width!==R.width||C.height!==R.height||_.forceUpdate)&&(s.set(C.id,{...C,[Mt]:{...C[Mt],handleBounds:{source:a0(".source",_.nodeElement,v,m),target:a0(".target",_.nodeElement,v,m)}},...R}),w.push({id:C.id,type:"dimensions",dimensions:R}))}return w},[]);Zy(s,m);const E=d||c&&!d&&Qy(l,{initial:!0,...h});e({nodeInternals:new Map(s),fitViewOnInitDone:E}),S?.length>0&&a?.(S)},updateNodePositions:(o,a=!0,s=!1)=>{const{triggerNodeChanges:c}=l(),d=o.map(h=>{const g={id:h.id,type:"position",dragging:s};return a&&(g.positionAbsolute=h.positionAbsolute,g.position=h.position),g});c(d)},triggerNodeChanges:o=>{const{onNodesChange:a,nodeInternals:s,hasDefaultNodes:c,nodeOrigin:d,getNodes:h,elevateNodesOnSelect:g}=l();if(o?.length){if(c){const m=Jy(o,h()),x=sf(m,s,d,g);e({nodeInternals:x})}a?.(o)}},addSelectedNodes:o=>{const{multiSelectionActive:a,edges:s,getNodes:c}=l();let d,h=null;a?d=o.map(g=>Bl(g,!0)):(d=ia(c(),o),h=ia(s,[])),nc({changedNodes:d,changedEdges:h,get:l,set:e})},addSelectedEdges:o=>{const{multiSelectionActive:a,edges:s,getNodes:c}=l();let d,h=null;a?d=o.map(g=>Bl(g,!0)):(d=ia(s,o),h=ia(c(),[])),nc({changedNodes:h,changedEdges:d,get:l,set:e})},unselectNodesAndEdges:({nodes:o,edges:a}={})=>{const{edges:s,getNodes:c}=l(),d=o||c(),h=a||s,g=d.map(x=>(x.selected=!1,Bl(x.id,!1))),m=h.map(x=>Bl(x.id,!1));nc({changedNodes:g,changedEdges:m,get:l,set:e})},setMinZoom:o=>{const{d3Zoom:a,maxZoom:s}=l();a?.scaleExtent([o,s]),e({minZoom:o})},setMaxZoom:o=>{const{d3Zoom:a,minZoom:s}=l();a?.scaleExtent([s,o]),e({maxZoom:o})},setTranslateExtent:o=>{l().d3Zoom?.translateExtent(o),e({translateExtent:o})},resetSelectedElements:()=>{const{edges:o,getNodes:a}=l(),c=a().filter(h=>h.selected).map(h=>Bl(h.id,!1)),d=o.filter(h=>h.selected).map(h=>Bl(h.id,!1));nc({changedNodes:c,changedEdges:d,get:l,set:e})},setNodeExtent:o=>{const{nodeInternals:a}=l();a.forEach(s=>{s.positionAbsolute=up(s.position,o)}),e({nodeExtent:o,nodeInternals:new Map(a)})},panBy:o=>{const{transform:a,width:s,height:c,d3Zoom:d,d3Selection:h,translateExtent:g}=l();if(!d||!h||!o.x&&!o.y)return!1;const m=el.translate(a[0]+o.x,a[1]+o.y).scale(a[2]),x=[[0,0],[s,c]],y=d?.constrain()(m,x,g);return d.transform(h,y),a[0]!==y.x||a[1]!==y.y||a[2]!==y.k},cancelConnection:()=>e({connectionNodeId:Dl.connectionNodeId,connectionHandleId:Dl.connectionHandleId,connectionHandleType:Dl.connectionHandleType,connectionStatus:Dl.connectionStatus,connectionStartHandle:Dl.connectionStartHandle,connectionEndHandle:Dl.connectionEndHandle}),reset:()=>e({...Dl})}),Object.is),bp=({children:e})=>{const l=A.useRef(null);return l.current||(l.current=fT()),ae.createElement(NC,{value:l.current},e)};bp.displayName="ReactFlowProvider";const db=({children:e})=>A.useContext(Bc)?ae.createElement(ae.Fragment,null,e):ae.createElement(bp,null,e);db.displayName="ReactFlowWrapper";const pT={input:Gy,default:Uf,output:qy,group:xp},hT={default:Ec,straight:pp,step:fp,smoothstep:Hc,simplebezier:dp},gT=[0,0],mT=[15,15],xT={x:0,y:0,zoom:1},yT={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},fb=A.forwardRef(({nodes:e,edges:l,defaultNodes:o,defaultEdges:a,className:s,nodeTypes:c=pT,edgeTypes:d=hT,onNodeClick:h,onEdgeClick:g,onInit:m,onMove:x,onMoveStart:y,onMoveEnd:v,onConnect:S,onConnectStart:E,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:C,onNodeMouseEnter:R,onNodeMouseMove:k,onNodeMouseLeave:M,onNodeContextMenu:B,onNodeDoubleClick:O,onNodeDragStart:Y,onNodeDrag:H,onNodeDragStop:V,onNodesDelete:ee,onEdgesDelete:oe,onSelectionChange:de,onSelectionDragStart:pe,onSelectionDrag:N,onSelectionDragStop:P,onSelectionContextMenu:z,onSelectionStart:W,onSelectionEnd:q,connectionMode:G=mo.Strict,connectionLineType:te=Hl.Bezier,connectionLineStyle:j,connectionLineComponent:I,connectionLineContainerStyle:F,deleteKeyCode:le="Backspace",selectionKeyCode:se="Shift",selectionOnDrag:me=!1,selectionMode:xe=jr.Full,panActivationKeyCode:Ce="Space",multiSelectionKeyCode:we=Sc()?"Meta":"Control",zoomActivationKeyCode:Re=Sc()?"Meta":"Control",snapToGrid:Pe=!1,snapGrid:Xe=mT,onlyRenderVisibleElements:Je=!1,selectNodesOnDrag:Ue=!0,nodesDraggable:He,nodesConnectable:ot,nodesFocusable:Oe,nodeOrigin:ye=gT,edgesFocusable:nt,edgesUpdatable:ut,elementsSelectable:Gt,defaultViewport:Bt=xT,minZoom:Jt=.5,maxZoom:We=2,translateExtent:Nt=Yf,preventScrolling:vt=!0,nodeExtent:dt,defaultMarkerColor:K="#b1b1b7",zoomOnScroll:Mn=!0,zoomOnPinch:Wt=!0,panOnScroll:bt=!1,panOnScrollSpeed:qt=.5,panOnScrollMode:Et=co.Free,zoomOnDoubleClick:rt=!0,panOnDrag:ft=!0,onPaneClick:Qe,onPaneMouseEnter:cn,onPaneMouseMove:$n,onPaneMouseLeave:Ai,onPaneScroll:en,onPaneContextMenu:Ct,children:hn,onEdgeContextMenu:kt,onEdgeDoubleClick:gi,onEdgeMouseEnter:tn,onEdgeMouseMove:it,onEdgeMouseLeave:Nn,onEdgeUpdate:Ti,onEdgeUpdateStart:Gn,onEdgeUpdateEnd:_i,onReconnect:Wn,onReconnectStart:ki,onReconnectEnd:ol,reconnectRadius:Kt=10,edgeUpdaterRadius:gn=10,onNodesChange:qn,onEdgesChange:Vn,noDragClassName:un="nodrag",noWheelClassName:At="nowheel",noPanClassName:at="nopan",fitView:En=!1,fitViewOptions:oi,connectOnClick:al=!0,attributionPosition:rl,proOptions:sl,defaultEdgeOptions:ve,elevateNodesOnSelect:U=!0,elevateEdgesOnSelect:ge=!1,disableKeyboardA11y:be=!1,autoPanOnConnect:Ze=!0,autoPanOnNodeDrag:mt=!0,connectionRadius:De=20,isValidConnection:Dt,onError:dn,style:Zt,id:mn,nodeDragThreshold:jt,...ji},zi)=>{const Wl=mn||"1";return ae.createElement("div",{...ji,style:{...Zt,...yT},ref:zi,className:sn(["react-flow",s]),"data-testid":"rf__wrapper",id:mn},ae.createElement(db,null,ae.createElement(dT,{onInit:m,onMove:x,onMoveStart:y,onMoveEnd:v,onNodeClick:h,onEdgeClick:g,onNodeMouseEnter:R,onNodeMouseMove:k,onNodeMouseLeave:M,onNodeContextMenu:B,onNodeDoubleClick:O,nodeTypes:c,edgeTypes:d,connectionLineType:te,connectionLineStyle:j,connectionLineComponent:I,connectionLineContainerStyle:F,selectionKeyCode:se,selectionOnDrag:me,selectionMode:xe,deleteKeyCode:le,multiSelectionKeyCode:we,panActivationKeyCode:Ce,zoomActivationKeyCode:Re,onlyRenderVisibleElements:Je,selectNodesOnDrag:Ue,defaultViewport:Bt,translateExtent:Nt,minZoom:Jt,maxZoom:We,preventScrolling:vt,zoomOnScroll:Mn,zoomOnPinch:Wt,zoomOnDoubleClick:rt,panOnScroll:bt,panOnScrollSpeed:qt,panOnScrollMode:Et,panOnDrag:ft,onPaneClick:Qe,onPaneMouseEnter:cn,onPaneMouseMove:$n,onPaneMouseLeave:Ai,onPaneScroll:en,onPaneContextMenu:Ct,onSelectionContextMenu:z,onSelectionStart:W,onSelectionEnd:q,onEdgeContextMenu:kt,onEdgeDoubleClick:gi,onEdgeMouseEnter:tn,onEdgeMouseMove:it,onEdgeMouseLeave:Nn,onReconnect:Wn??Ti,onReconnectStart:ki??Gn,onReconnectEnd:ol??_i,reconnectRadius:Kt??gn,defaultMarkerColor:K,noDragClassName:un,noWheelClassName:At,noPanClassName:at,elevateEdgesOnSelect:ge,rfId:Wl,disableKeyboardA11y:be,nodeOrigin:ye,nodeExtent:dt}),ae.createElement(sA,{nodes:e,edges:l,defaultNodes:o,defaultEdges:a,onConnect:S,onConnectStart:E,onConnectEnd:w,onClickConnectStart:_,onClickConnectEnd:C,nodesDraggable:He,nodesConnectable:ot,nodesFocusable:Oe,edgesFocusable:nt,edgesUpdatable:ut,elementsSelectable:Gt,elevateNodesOnSelect:U,minZoom:Jt,maxZoom:We,nodeExtent:dt,onNodesChange:qn,onEdgesChange:Vn,snapToGrid:Pe,snapGrid:Xe,connectionMode:G,translateExtent:Nt,connectOnClick:al,defaultEdgeOptions:ve,fitView:En,fitViewOptions:oi,onNodesDelete:ee,onEdgesDelete:oe,onNodeDragStart:Y,onNodeDrag:H,onNodeDragStop:V,onSelectionDrag:N,onSelectionDragStart:pe,onSelectionDragStop:P,noPanClassName:at,nodeOrigin:ye,rfId:Wl,autoPanOnConnect:Ze,autoPanOnNodeDrag:mt,onError:dn,connectionRadius:De,isValidConnection:Dt,nodeDragThreshold:jt}),ae.createElement(aA,{onSelectionChange:de}),hn,ae.createElement(OC,{proOptions:sl,position:rl}),ae.createElement(pA,{rfId:Wl,disableKeyboardA11y:be})))});fb.displayName="ReactFlow";const bT=e=>e.domNode?.querySelector(".react-flow__edgelabel-renderer");function vT({children:e}){const l=yt(bT);return l?MC.createPortal(e,l):null}function pb(e){return l=>{const[o,a]=A.useState(l),s=A.useCallback(c=>a(d=>e(c,d)),[]);return[o,a,s]}}const ST=pb(Jy),wT=pb(_A),hb=({id:e,x:l,y:o,width:a,height:s,style:c,color:d,strokeColor:h,strokeWidth:g,className:m,borderRadius:x,shapeRendering:y,onClick:v,selected:S})=>{const{background:E,backgroundColor:w}=c||{},_=d||E||w;return ae.createElement("rect",{className:sn(["react-flow__minimap-node",{selected:S},m]),x:l,y:o,rx:x,ry:x,width:a,height:s,fill:_,stroke:h,strokeWidth:g,shapeRendering:y,onClick:v?C=>v(C,e):void 0})};hb.displayName="MiniMapNode";var ET=A.memo(hb);const CT=e=>e.nodeOrigin,AT=e=>e.getNodes().filter(l=>!l.hidden&&l.width&&l.height),ff=e=>e instanceof Function?e:()=>e;function TT({nodeStrokeColor:e="transparent",nodeColor:l="#e2e2e2",nodeClassName:o="",nodeBorderRadius:a=5,nodeStrokeWidth:s=2,nodeComponent:c=ET,onClick:d}){const h=yt(AT,Pt),g=yt(CT),m=ff(l),x=ff(e),y=ff(o),v=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return ae.createElement(ae.Fragment,null,h.map(S=>{const{x:E,y:w}=fo(S,g).positionAbsolute;return ae.createElement(c,{key:S.id,x:E,y:w,width:S.width,height:S.height,style:S.style,selected:S.selected,className:y(S),color:m(S),borderRadius:a,strokeColor:x(S),strokeWidth:s,shapeRendering:v,onClick:d,id:S.id})}))}var _T=A.memo(TT);const kT=200,jT=150,zT=e=>{const l=e.getNodes(),o={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:o,boundingRect:l.length>0?HC(Uc(l,e.nodeOrigin),o):o,rfId:e.rfId}},RT="react-flow__minimap-desc";function gb({style:e,className:l,nodeStrokeColor:o="transparent",nodeColor:a="#e2e2e2",nodeClassName:s="",nodeBorderRadius:c=5,nodeStrokeWidth:d=2,nodeComponent:h,maskColor:g="rgb(240, 240, 240, 0.6)",maskStrokeColor:m="none",maskStrokeWidth:x=1,position:y="bottom-right",onClick:v,onNodeClick:S,pannable:E=!1,zoomable:w=!1,ariaLabel:_="React Flow mini map",inversePan:C=!1,zoomStep:R=10,offsetScale:k=5}){const M=Ft(),B=A.useRef(null),{boundingRect:O,viewBB:Y,rfId:H}=yt(zT,Pt),V=e?.width??kT,ee=e?.height??jT,oe=O.width/V,de=O.height/ee,pe=Math.max(oe,de),N=pe*V,P=pe*ee,z=k*pe,W=O.x-(N-O.width)/2-z,q=O.y-(P-O.height)/2-z,G=N+z*2,te=P+z*2,j=`${RT}-${H}`,I=A.useRef(0);I.current=pe,A.useEffect(()=>{if(B.current){const se=ni(B.current),me=we=>{const{transform:Re,d3Selection:Pe,d3Zoom:Xe}=M.getState();if(we.sourceEvent.type!=="wheel"||!Pe||!Xe)return;const Je=-we.sourceEvent.deltaY*(we.sourceEvent.deltaMode===1?.05:we.sourceEvent.deltaMode?1:.002)*R,Ue=Re[2]*Math.pow(2,Je);Xe.scaleTo(Pe,Ue)},xe=we=>{const{transform:Re,d3Selection:Pe,d3Zoom:Xe,translateExtent:Je,width:Ue,height:He}=M.getState();if(we.sourceEvent.type!=="mousemove"||!Pe||!Xe)return;const ot=I.current*Math.max(1,Re[2])*(C?-1:1),Oe={x:Re[0]-we.sourceEvent.movementX*ot,y:Re[1]-we.sourceEvent.movementY*ot},ye=[[0,0],[Ue,He]],nt=el.translate(Oe.x,Oe.y).scale(Re[2]),ut=Xe.constrain()(nt,ye,Je);Xe.transform(Pe,ut)},Ce=Sy().on("zoom",E?xe:null).on("zoom.wheel",w?me:null);return se.call(Ce),()=>{se.on("zoom",null)}}},[E,w,C,R]);const F=v?se=>{const me=ui(se);v(se,{x:me[0],y:me[1]})}:void 0,le=S?(se,me)=>{const xe=M.getState().nodeInternals.get(me);S(se,xe)}:void 0;return ae.createElement(Qi,{position:y,style:e,className:sn(["react-flow__minimap",l]),"data-testid":"rf__minimap"},ae.createElement("svg",{width:V,height:ee,viewBox:`${W} ${q} ${G} ${te}`,role:"img","aria-labelledby":j,ref:B,onClick:F},_&&ae.createElement("title",{id:j},_),ae.createElement(_T,{onClick:le,nodeColor:a,nodeStrokeColor:o,nodeBorderRadius:c,nodeClassName:s,nodeStrokeWidth:d,nodeComponent:h}),ae.createElement("path",{className:"react-flow__minimap-mask",d:`M${W-z},${q-z}h${G+z*2}v${te+z*2}h${-G-z*2}z
        M${Y.x},${Y.y}h${Y.width}v${Y.height}h${-Y.width}z`,fill:g,fillRule:"evenodd",stroke:m,strokeWidth:x,pointerEvents:"none"})))}gb.displayName="MiniMap";var MT=A.memo(gb);function NT(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},ae.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function DT(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},ae.createElement("path",{d:"M0 0h32v4.2H0z"}))}function OT(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},ae.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function LT(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ae.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function BT(){return ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},ae.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const vr=({children:e,className:l,...o})=>ae.createElement("button",{type:"button",className:sn(["react-flow__controls-button",l]),...o},e);vr.displayName="ControlButton";const HT=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),mb=({style:e,showZoom:l=!0,showFitView:o=!0,showInteractive:a=!0,fitViewOptions:s,onZoomIn:c,onZoomOut:d,onFitView:h,onInteractiveChange:g,className:m,children:x,position:y="bottom-left"})=>{const v=Ft(),[S,E]=A.useState(!1),{isInteractive:w,minZoomReached:_,maxZoomReached:C}=yt(HT,Pt),{zoomIn:R,zoomOut:k,fitView:M}=Hr();if(A.useEffect(()=>{E(!0)},[]),!S)return null;const B=()=>{R(),c?.()},O=()=>{k(),d?.()},Y=()=>{M(s),h?.()},H=()=>{v.setState({nodesDraggable:!w,nodesConnectable:!w,elementsSelectable:!w}),g?.(!w)};return ae.createElement(Qi,{className:sn(["react-flow__controls",m]),position:y,style:e,"data-testid":"rf__controls"},l&&ae.createElement(ae.Fragment,null,ae.createElement(vr,{onClick:B,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:C},ae.createElement(NT,null)),ae.createElement(vr,{onClick:O,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:_},ae.createElement(DT,null))),o&&ae.createElement(vr,{className:"react-flow__controls-fitview",onClick:Y,title:"fit view","aria-label":"fit view"},ae.createElement(OT,null)),a&&ae.createElement(vr,{className:"react-flow__controls-interactive",onClick:H,title:"toggle interactivity","aria-label":"toggle interactivity"},w?ae.createElement(BT,null):ae.createElement(LT,null)),x)};mb.displayName="Controls";var UT=A.memo(mb),pi;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(pi||(pi={}));function IT({color:e,dimensions:l,lineWidth:o}){return ae.createElement("path",{stroke:e,strokeWidth:o,d:`M${l[0]/2} 0 V${l[1]} M0 ${l[1]/2} H${l[0]}`})}function YT({color:e,radius:l}){return ae.createElement("circle",{cx:l,cy:l,r:l,fill:e})}const $T={[pi.Dots]:"#91919a",[pi.Lines]:"#eee",[pi.Cross]:"#e2e2e2"},GT={[pi.Dots]:1,[pi.Lines]:1,[pi.Cross]:6},WT=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function xb({id:e,variant:l=pi.Dots,gap:o=20,size:a,lineWidth:s=1,offset:c=2,color:d,style:h,className:g}){const m=A.useRef(null),{transform:x,patternId:y}=yt(WT,Pt),v=d||$T[l],S=a||GT[l],E=l===pi.Dots,w=l===pi.Cross,_=Array.isArray(o)?o:[o,o],C=[_[0]*x[2]||1,_[1]*x[2]||1],R=S*x[2],k=w?[R,R]:C,M=E?[R/c,R/c]:[k[0]/c,k[1]/c];return ae.createElement("svg",{className:sn(["react-flow__background",g]),style:{...h,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:m,"data-testid":"rf__background"},ae.createElement("pattern",{id:y+e,x:x[0]%C[0],y:x[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`},E?ae.createElement(YT,{color:v,radius:R/c}):ae.createElement(IT,{dimensions:k,color:v,lineWidth:s})),ae.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${y+e})`}))}xb.displayName="Background";var qT=A.memo(xb);const di=[{id:"yes",emoji:"",name:"Yes",category:"status"},{id:"no",emoji:"",name:"No",category:"status"},{id:"help",emoji:"",name:"Question",category:"status"},{id:"idea",emoji:"",name:"Idea",category:"status"},{id:"important",emoji:"",name:"Important",category:"status"},{id:"wizard",emoji:"",name:"Wizard",category:"status"},{id:"warning",emoji:"",name:"Warning",category:"status"},{id:"flag",emoji:"",name:"Flag",category:"status"},{id:"button_ok",emoji:"",name:"OK",category:"status"},{id:"button_cancel",emoji:"",name:"Cancel",category:"status"},{id:"checked",emoji:"",name:"Checked",category:"status"},{id:"unchecked",emoji:"",name:"Unchecked",category:"status"},{id:"full-1",emoji:"",name:"Priority 1",category:"priority"},{id:"full-2",emoji:"",name:"Priority 2",category:"priority"},{id:"full-3",emoji:"",name:"Priority 3",category:"priority"},{id:"full-4",emoji:"",name:"Priority 4",category:"priority"},{id:"full-5",emoji:"",name:"Priority 5",category:"priority"},{id:"full-6",emoji:"",name:"Priority 6",category:"priority"},{id:"full-7",emoji:"",name:"Priority 7",category:"priority"},{id:"full-8",emoji:"",name:"Priority 8",category:"priority"},{id:"0%",emoji:"0%",name:"0%",category:"progress"},{id:"25%",emoji:"",name:"25%",category:"progress"},{id:"50%",emoji:"",name:"50%",category:"progress"},{id:"75%",emoji:"",name:"75%",category:"progress"},{id:"100%",emoji:"",name:"100%",category:"progress"},{id:"smiley-neutral",emoji:"",name:"Neutral",category:"emotion"},{id:"smiley-good",emoji:"",name:"Good",category:"emotion"},{id:"smiley-bad",emoji:"",name:"Bad",category:"emotion"},{id:"smiley-oh",emoji:"",name:"Oh",category:"emotion"},{id:"heart",emoji:"",name:"Heart",category:"emotion"},{id:"broken-heart",emoji:"",name:"Broken Heart",category:"emotion"},{id:"thumbs_up",emoji:"",name:"Thumbs Up",category:"emotion"},{id:"thumbs_down",emoji:"",name:"Thumbs Down",category:"emotion"},{id:"clanbomber",emoji:"",name:"Bomb",category:"other"},{id:"clock",emoji:"",name:"Clock",category:"time"},{id:"calendar",emoji:"",name:"Calendar",category:"time"},{id:"hourglass",emoji:"",name:"Hourglass",category:"time"},{id:"forward",emoji:"",name:"Forward",category:"other"},{id:"back",emoji:"",name:"Back",category:"other"},{id:"up",emoji:"",name:"Up",category:"other"},{id:"down",emoji:"",name:"Down",category:"other"},{id:"folder",emoji:"",name:"Folder",category:"other"},{id:"desktopnew",emoji:"",name:"Desktop",category:"other"},{id:"kde",emoji:"",name:"KDE",category:"other"},{id:"gnome",emoji:"",name:"GNOME",category:"other"},{id:"linux",emoji:"",name:"Linux",category:"other"},{id:"mail",emoji:"",name:"Mail",category:"other"},{id:"info",emoji:"",name:"Info",category:"other"},{id:"list",emoji:"",name:"List",category:"other"},{id:"music",emoji:"",name:"Music",category:"other"},{id:"password",emoji:"",name:"Password",category:"other"},{id:"pencil",emoji:"",name:"Pencil",category:"other"},{id:"xmag",emoji:"",name:"Search",category:"other"}],h0=[{id:"status",name:"Status",icons:di.filter(e=>e.category==="status")},{id:"priority",name:"Priority",icons:di.filter(e=>e.category==="priority")},{id:"progress",name:"Progress",icons:di.filter(e=>e.category==="progress")},{id:"emotion",name:"Emotion",icons:di.filter(e=>e.category==="emotion")},{id:"time",name:"Time",icons:di.filter(e=>e.category==="time")},{id:"other",name:"Other",icons:di.filter(e=>e.category==="other")}];function yb(e){return di.find(o=>o.id===e)?.emoji||""}const{entries:bb,setPrototypeOf:g0,isFrozen:VT,getPrototypeOf:XT,getOwnPropertyDescriptor:FT}=Object;let{freeze:Sn,seal:li,create:$f}=Object,{apply:Gf,construct:Wf}=typeof Reflect<"u"&&Reflect;Sn||(Sn=function(l){return l});li||(li=function(l){return l});Gf||(Gf=function(l,o){for(var a=arguments.length,s=new Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];return l.apply(o,s)});Wf||(Wf=function(l){for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return new l(...a)});const lc=wn(Array.prototype.forEach),KT=wn(Array.prototype.lastIndexOf),m0=wn(Array.prototype.pop),fr=wn(Array.prototype.push),ZT=wn(Array.prototype.splice),pc=wn(String.prototype.toLowerCase),pf=wn(String.prototype.toString),hf=wn(String.prototype.match),pr=wn(String.prototype.replace),QT=wn(String.prototype.indexOf),PT=wn(String.prototype.trim),ci=wn(Object.prototype.hasOwnProperty),yn=wn(RegExp.prototype.test),hr=JT(TypeError);function wn(e){return function(l){l instanceof RegExp&&(l.lastIndex=0);for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return Gf(e,l,a)}}function JT(e){return function(){for(var l=arguments.length,o=new Array(l),a=0;a<l;a++)o[a]=arguments[a];return Wf(e,o)}}function Ye(e,l){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pc;g0&&g0(e,null);let a=l.length;for(;a--;){let s=l[a];if(typeof s=="string"){const c=o(s);c!==s&&(VT(l)||(l[a]=c),s=c)}e[s]=!0}return e}function e_(e){for(let l=0;l<e.length;l++)ci(e,l)||(e[l]=null);return e}function Si(e){const l=$f(null);for(const[o,a]of bb(e))ci(e,o)&&(Array.isArray(a)?l[o]=e_(a):a&&typeof a=="object"&&a.constructor===Object?l[o]=Si(a):l[o]=a);return l}function gr(e,l){for(;e!==null;){const a=FT(e,l);if(a){if(a.get)return wn(a.get);if(typeof a.value=="function")return wn(a.value)}e=XT(e)}function o(){return null}return o}const x0=Sn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gf=Sn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),mf=Sn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),t_=Sn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xf=Sn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),n_=Sn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),y0=Sn(["#text"]),b0=Sn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),yf=Sn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),v0=Sn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),oc=Sn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),i_=li(/\{\{[\w\W]*|[\w\W]*\}\}/gm),l_=li(/<%[\w\W]*|[\w\W]*%>/gm),o_=li(/\$\{[\w\W]*/gm),a_=li(/^data-[\-\w.\u00B7-\uFFFF]+$/),r_=li(/^aria-[\-\w]+$/),vb=li(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),s_=li(/^(?:\w+script|data):/i),c_=li(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sb=li(/^html$/i),u_=li(/^[a-z][.\w]*(-[.\w]+)+$/i);var S0=Object.freeze({__proto__:null,ARIA_ATTR:r_,ATTR_WHITESPACE:c_,CUSTOM_ELEMENT:u_,DATA_ATTR:a_,DOCTYPE_NAME:Sb,ERB_EXPR:l_,IS_ALLOWED_URI:vb,IS_SCRIPT_OR_DATA:s_,MUSTACHE_EXPR:i_,TMPLIT_EXPR:o_});const mr={element:1,text:3,progressingInstruction:7,comment:8,document:9},d_=function(){return typeof window>"u"?null:window},f_=function(l,o){if(typeof l!="object"||typeof l.createPolicy!="function")return null;let a=null;const s="data-tt-policy-suffix";o&&o.hasAttribute(s)&&(a=o.getAttribute(s));const c="dompurify"+(a?"#"+a:"");try{return l.createPolicy(c,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+c+" could not be created."),null}},w0=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function wb(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d_();const l=ve=>wb(ve);if(l.version="3.3.1",l.removed=[],!e||!e.document||e.document.nodeType!==mr.document||!e.Element)return l.isSupported=!1,l;let{document:o}=e;const a=o,s=a.currentScript,{DocumentFragment:c,HTMLTemplateElement:d,Node:h,Element:g,NodeFilter:m,NamedNodeMap:x=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:y,DOMParser:v,trustedTypes:S}=e,E=g.prototype,w=gr(E,"cloneNode"),_=gr(E,"remove"),C=gr(E,"nextSibling"),R=gr(E,"childNodes"),k=gr(E,"parentNode");if(typeof d=="function"){const ve=o.createElement("template");ve.content&&ve.content.ownerDocument&&(o=ve.content.ownerDocument)}let M,B="";const{implementation:O,createNodeIterator:Y,createDocumentFragment:H,getElementsByTagName:V}=o,{importNode:ee}=a;let oe=w0();l.isSupported=typeof bb=="function"&&typeof k=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:de,ERB_EXPR:pe,TMPLIT_EXPR:N,DATA_ATTR:P,ARIA_ATTR:z,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:q,CUSTOM_ELEMENT:G}=S0;let{IS_ALLOWED_URI:te}=S0,j=null;const I=Ye({},[...x0,...gf,...mf,...xf,...y0]);let F=null;const le=Ye({},[...b0,...yf,...v0,...oc]);let se=Object.seal($f(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),me=null,xe=null;const Ce=Object.seal($f(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let we=!0,Re=!0,Pe=!1,Xe=!0,Je=!1,Ue=!0,He=!1,ot=!1,Oe=!1,ye=!1,nt=!1,ut=!1,Gt=!0,Bt=!1;const Jt="user-content-";let We=!0,Nt=!1,vt={},dt=null;const K=Ye({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Mn=null;const Wt=Ye({},["audio","video","img","source","image","track"]);let bt=null;const qt=Ye({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Et="http://www.w3.org/1998/Math/MathML",rt="http://www.w3.org/2000/svg",ft="http://www.w3.org/1999/xhtml";let Qe=ft,cn=!1,$n=null;const Ai=Ye({},[Et,rt,ft],pf);let en=Ye({},["mi","mo","mn","ms","mtext"]),Ct=Ye({},["annotation-xml"]);const hn=Ye({},["title","style","font","a","script"]);let kt=null;const gi=["application/xhtml+xml","text/html"],tn="text/html";let it=null,Nn=null;const Ti=o.createElement("form"),Gn=function(U){return U instanceof RegExp||U instanceof Function},_i=function(){let U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Nn&&Nn===U)){if((!U||typeof U!="object")&&(U={}),U=Si(U),kt=gi.indexOf(U.PARSER_MEDIA_TYPE)===-1?tn:U.PARSER_MEDIA_TYPE,it=kt==="application/xhtml+xml"?pf:pc,j=ci(U,"ALLOWED_TAGS")?Ye({},U.ALLOWED_TAGS,it):I,F=ci(U,"ALLOWED_ATTR")?Ye({},U.ALLOWED_ATTR,it):le,$n=ci(U,"ALLOWED_NAMESPACES")?Ye({},U.ALLOWED_NAMESPACES,pf):Ai,bt=ci(U,"ADD_URI_SAFE_ATTR")?Ye(Si(qt),U.ADD_URI_SAFE_ATTR,it):qt,Mn=ci(U,"ADD_DATA_URI_TAGS")?Ye(Si(Wt),U.ADD_DATA_URI_TAGS,it):Wt,dt=ci(U,"FORBID_CONTENTS")?Ye({},U.FORBID_CONTENTS,it):K,me=ci(U,"FORBID_TAGS")?Ye({},U.FORBID_TAGS,it):Si({}),xe=ci(U,"FORBID_ATTR")?Ye({},U.FORBID_ATTR,it):Si({}),vt=ci(U,"USE_PROFILES")?U.USE_PROFILES:!1,we=U.ALLOW_ARIA_ATTR!==!1,Re=U.ALLOW_DATA_ATTR!==!1,Pe=U.ALLOW_UNKNOWN_PROTOCOLS||!1,Xe=U.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Je=U.SAFE_FOR_TEMPLATES||!1,Ue=U.SAFE_FOR_XML!==!1,He=U.WHOLE_DOCUMENT||!1,ye=U.RETURN_DOM||!1,nt=U.RETURN_DOM_FRAGMENT||!1,ut=U.RETURN_TRUSTED_TYPE||!1,Oe=U.FORCE_BODY||!1,Gt=U.SANITIZE_DOM!==!1,Bt=U.SANITIZE_NAMED_PROPS||!1,We=U.KEEP_CONTENT!==!1,Nt=U.IN_PLACE||!1,te=U.ALLOWED_URI_REGEXP||vb,Qe=U.NAMESPACE||ft,en=U.MATHML_TEXT_INTEGRATION_POINTS||en,Ct=U.HTML_INTEGRATION_POINTS||Ct,se=U.CUSTOM_ELEMENT_HANDLING||{},U.CUSTOM_ELEMENT_HANDLING&&Gn(U.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(se.tagNameCheck=U.CUSTOM_ELEMENT_HANDLING.tagNameCheck),U.CUSTOM_ELEMENT_HANDLING&&Gn(U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(se.attributeNameCheck=U.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),U.CUSTOM_ELEMENT_HANDLING&&typeof U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(se.allowCustomizedBuiltInElements=U.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Je&&(Re=!1),nt&&(ye=!0),vt&&(j=Ye({},y0),F=[],vt.html===!0&&(Ye(j,x0),Ye(F,b0)),vt.svg===!0&&(Ye(j,gf),Ye(F,yf),Ye(F,oc)),vt.svgFilters===!0&&(Ye(j,mf),Ye(F,yf),Ye(F,oc)),vt.mathMl===!0&&(Ye(j,xf),Ye(F,v0),Ye(F,oc))),U.ADD_TAGS&&(typeof U.ADD_TAGS=="function"?Ce.tagCheck=U.ADD_TAGS:(j===I&&(j=Si(j)),Ye(j,U.ADD_TAGS,it))),U.ADD_ATTR&&(typeof U.ADD_ATTR=="function"?Ce.attributeCheck=U.ADD_ATTR:(F===le&&(F=Si(F)),Ye(F,U.ADD_ATTR,it))),U.ADD_URI_SAFE_ATTR&&Ye(bt,U.ADD_URI_SAFE_ATTR,it),U.FORBID_CONTENTS&&(dt===K&&(dt=Si(dt)),Ye(dt,U.FORBID_CONTENTS,it)),U.ADD_FORBID_CONTENTS&&(dt===K&&(dt=Si(dt)),Ye(dt,U.ADD_FORBID_CONTENTS,it)),We&&(j["#text"]=!0),He&&Ye(j,["html","head","body"]),j.table&&(Ye(j,["tbody"]),delete me.tbody),U.TRUSTED_TYPES_POLICY){if(typeof U.TRUSTED_TYPES_POLICY.createHTML!="function")throw hr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof U.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw hr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');M=U.TRUSTED_TYPES_POLICY,B=M.createHTML("")}else M===void 0&&(M=f_(S,s)),M!==null&&typeof B=="string"&&(B=M.createHTML(""));Sn&&Sn(U),Nn=U}},Wn=Ye({},[...gf,...mf,...t_]),ki=Ye({},[...xf,...n_]),ol=function(U){let ge=k(U);(!ge||!ge.tagName)&&(ge={namespaceURI:Qe,tagName:"template"});const be=pc(U.tagName),Ze=pc(ge.tagName);return $n[U.namespaceURI]?U.namespaceURI===rt?ge.namespaceURI===ft?be==="svg":ge.namespaceURI===Et?be==="svg"&&(Ze==="annotation-xml"||en[Ze]):!!Wn[be]:U.namespaceURI===Et?ge.namespaceURI===ft?be==="math":ge.namespaceURI===rt?be==="math"&&Ct[Ze]:!!ki[be]:U.namespaceURI===ft?ge.namespaceURI===rt&&!Ct[Ze]||ge.namespaceURI===Et&&!en[Ze]?!1:!ki[be]&&(hn[be]||!Wn[be]):!!(kt==="application/xhtml+xml"&&$n[U.namespaceURI]):!1},Kt=function(U){fr(l.removed,{element:U});try{k(U).removeChild(U)}catch{_(U)}},gn=function(U,ge){try{fr(l.removed,{attribute:ge.getAttributeNode(U),from:ge})}catch{fr(l.removed,{attribute:null,from:ge})}if(ge.removeAttribute(U),U==="is")if(ye||nt)try{Kt(ge)}catch{}else try{ge.setAttribute(U,"")}catch{}},qn=function(U){let ge=null,be=null;if(Oe)U="<remove></remove>"+U;else{const De=hf(U,/^[\r\n\t ]+/);be=De&&De[0]}kt==="application/xhtml+xml"&&Qe===ft&&(U='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+U+"</body></html>");const Ze=M?M.createHTML(U):U;if(Qe===ft)try{ge=new v().parseFromString(Ze,kt)}catch{}if(!ge||!ge.documentElement){ge=O.createDocument(Qe,"template",null);try{ge.documentElement.innerHTML=cn?B:Ze}catch{}}const mt=ge.body||ge.documentElement;return U&&be&&mt.insertBefore(o.createTextNode(be),mt.childNodes[0]||null),Qe===ft?V.call(ge,He?"html":"body")[0]:He?ge.documentElement:mt},Vn=function(U){return Y.call(U.ownerDocument||U,U,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},un=function(U){return U instanceof y&&(typeof U.nodeName!="string"||typeof U.textContent!="string"||typeof U.removeChild!="function"||!(U.attributes instanceof x)||typeof U.removeAttribute!="function"||typeof U.setAttribute!="function"||typeof U.namespaceURI!="string"||typeof U.insertBefore!="function"||typeof U.hasChildNodes!="function")},At=function(U){return typeof h=="function"&&U instanceof h};function at(ve,U,ge){lc(ve,be=>{be.call(l,U,ge,Nn)})}const En=function(U){let ge=null;if(at(oe.beforeSanitizeElements,U,null),un(U))return Kt(U),!0;const be=it(U.nodeName);if(at(oe.uponSanitizeElement,U,{tagName:be,allowedTags:j}),Ue&&U.hasChildNodes()&&!At(U.firstElementChild)&&yn(/<[/\w!]/g,U.innerHTML)&&yn(/<[/\w!]/g,U.textContent)||U.nodeType===mr.progressingInstruction||Ue&&U.nodeType===mr.comment&&yn(/<[/\w]/g,U.data))return Kt(U),!0;if(!(Ce.tagCheck instanceof Function&&Ce.tagCheck(be))&&(!j[be]||me[be])){if(!me[be]&&al(be)&&(se.tagNameCheck instanceof RegExp&&yn(se.tagNameCheck,be)||se.tagNameCheck instanceof Function&&se.tagNameCheck(be)))return!1;if(We&&!dt[be]){const Ze=k(U)||U.parentNode,mt=R(U)||U.childNodes;if(mt&&Ze){const De=mt.length;for(let Dt=De-1;Dt>=0;--Dt){const dn=w(mt[Dt],!0);dn.__removalCount=(U.__removalCount||0)+1,Ze.insertBefore(dn,C(U))}}}return Kt(U),!0}return U instanceof g&&!ol(U)||(be==="noscript"||be==="noembed"||be==="noframes")&&yn(/<\/no(script|embed|frames)/i,U.innerHTML)?(Kt(U),!0):(Je&&U.nodeType===mr.text&&(ge=U.textContent,lc([de,pe,N],Ze=>{ge=pr(ge,Ze," ")}),U.textContent!==ge&&(fr(l.removed,{element:U.cloneNode()}),U.textContent=ge)),at(oe.afterSanitizeElements,U,null),!1)},oi=function(U,ge,be){if(Gt&&(ge==="id"||ge==="name")&&(be in o||be in Ti))return!1;if(!(Re&&!xe[ge]&&yn(P,ge))){if(!(we&&yn(z,ge))){if(!(Ce.attributeCheck instanceof Function&&Ce.attributeCheck(ge,U))){if(!F[ge]||xe[ge]){if(!(al(U)&&(se.tagNameCheck instanceof RegExp&&yn(se.tagNameCheck,U)||se.tagNameCheck instanceof Function&&se.tagNameCheck(U))&&(se.attributeNameCheck instanceof RegExp&&yn(se.attributeNameCheck,ge)||se.attributeNameCheck instanceof Function&&se.attributeNameCheck(ge,U))||ge==="is"&&se.allowCustomizedBuiltInElements&&(se.tagNameCheck instanceof RegExp&&yn(se.tagNameCheck,be)||se.tagNameCheck instanceof Function&&se.tagNameCheck(be))))return!1}else if(!bt[ge]){if(!yn(te,pr(be,q,""))){if(!((ge==="src"||ge==="xlink:href"||ge==="href")&&U!=="script"&&QT(be,"data:")===0&&Mn[U])){if(!(Pe&&!yn(W,pr(be,q,"")))){if(be)return!1}}}}}}}return!0},al=function(U){return U!=="annotation-xml"&&hf(U,G)},rl=function(U){at(oe.beforeSanitizeAttributes,U,null);const{attributes:ge}=U;if(!ge||un(U))return;const be={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F,forceKeepAttr:void 0};let Ze=ge.length;for(;Ze--;){const mt=ge[Ze],{name:De,namespaceURI:Dt,value:dn}=mt,Zt=it(De),mn=dn;let jt=De==="value"?mn:PT(mn);if(be.attrName=Zt,be.attrValue=jt,be.keepAttr=!0,be.forceKeepAttr=void 0,at(oe.uponSanitizeAttribute,U,be),jt=be.attrValue,Bt&&(Zt==="id"||Zt==="name")&&(gn(De,U),jt=Jt+jt),Ue&&yn(/((--!?|])>)|<\/(style|title|textarea)/i,jt)){gn(De,U);continue}if(Zt==="attributename"&&hf(jt,"href")){gn(De,U);continue}if(be.forceKeepAttr)continue;if(!be.keepAttr){gn(De,U);continue}if(!Xe&&yn(/\/>/i,jt)){gn(De,U);continue}Je&&lc([de,pe,N],zi=>{jt=pr(jt,zi," ")});const ji=it(U.nodeName);if(!oi(ji,Zt,jt)){gn(De,U);continue}if(M&&typeof S=="object"&&typeof S.getAttributeType=="function"&&!Dt)switch(S.getAttributeType(ji,Zt)){case"TrustedHTML":{jt=M.createHTML(jt);break}case"TrustedScriptURL":{jt=M.createScriptURL(jt);break}}if(jt!==mn)try{Dt?U.setAttributeNS(Dt,De,jt):U.setAttribute(De,jt),un(U)?Kt(U):m0(l.removed)}catch{gn(De,U)}}at(oe.afterSanitizeAttributes,U,null)},sl=function ve(U){let ge=null;const be=Vn(U);for(at(oe.beforeSanitizeShadowDOM,U,null);ge=be.nextNode();)at(oe.uponSanitizeShadowNode,ge,null),En(ge),rl(ge),ge.content instanceof c&&ve(ge.content);at(oe.afterSanitizeShadowDOM,U,null)};return l.sanitize=function(ve){let U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ge=null,be=null,Ze=null,mt=null;if(cn=!ve,cn&&(ve="\x3C!-->"),typeof ve!="string"&&!At(ve))if(typeof ve.toString=="function"){if(ve=ve.toString(),typeof ve!="string")throw hr("dirty is not a string, aborting")}else throw hr("toString is not a function");if(!l.isSupported)return ve;if(ot||_i(U),l.removed=[],typeof ve=="string"&&(Nt=!1),Nt){if(ve.nodeName){const dn=it(ve.nodeName);if(!j[dn]||me[dn])throw hr("root node is forbidden and cannot be sanitized in-place")}}else if(ve instanceof h)ge=qn("\x3C!---->"),be=ge.ownerDocument.importNode(ve,!0),be.nodeType===mr.element&&be.nodeName==="BODY"||be.nodeName==="HTML"?ge=be:ge.appendChild(be);else{if(!ye&&!Je&&!He&&ve.indexOf("<")===-1)return M&&ut?M.createHTML(ve):ve;if(ge=qn(ve),!ge)return ye?null:ut?B:""}ge&&Oe&&Kt(ge.firstChild);const De=Vn(Nt?ve:ge);for(;Ze=De.nextNode();)En(Ze),rl(Ze),Ze.content instanceof c&&sl(Ze.content);if(Nt)return ve;if(ye){if(nt)for(mt=H.call(ge.ownerDocument);ge.firstChild;)mt.appendChild(ge.firstChild);else mt=ge;return(F.shadowroot||F.shadowrootmode)&&(mt=ee.call(a,mt,!0)),mt}let Dt=He?ge.outerHTML:ge.innerHTML;return He&&j["!doctype"]&&ge.ownerDocument&&ge.ownerDocument.doctype&&ge.ownerDocument.doctype.name&&yn(Sb,ge.ownerDocument.doctype.name)&&(Dt="<!DOCTYPE "+ge.ownerDocument.doctype.name+`>
`+Dt),Je&&lc([de,pe,N],dn=>{Dt=pr(Dt,dn," ")}),M&&ut?M.createHTML(Dt):Dt},l.setConfig=function(){let ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_i(ve),ot=!0},l.clearConfig=function(){Nn=null,ot=!1},l.isValidAttribute=function(ve,U,ge){Nn||_i({});const be=it(ve),Ze=it(U);return oi(be,Ze,ge)},l.addHook=function(ve,U){typeof U=="function"&&fr(oe[ve],U)},l.removeHook=function(ve,U){if(U!==void 0){const ge=KT(oe[ve],U);return ge===-1?void 0:ZT(oe[ve],ge,1)[0]}return m0(oe[ve])},l.removeHooks=function(ve){oe[ve]=[]},l.removeAllHooks=function(){oe=w0()},l}var p_=wb();const h_={ALLOWED_TAGS:["B","I","U","STRONG","EM","A","P","BR","SPAN","DIV"],ALLOWED_ATTR:["href","title","target","rel"],ADD_ATTR:["target"],FORBID_TAGS:["SCRIPT","STYLE","IFRAME","OBJECT","EMBED","FORM"],FORBID_ATTR:["onerror","onload","onclick","onmouseover"]};function qf(e){return e?p_.sanitize(e,h_):""}function g_(e,l){return`${e} ${l?"expanded":"collapsed"}`}function m_(e){return e!==void 0?`Search mind map (${e} nodes)`:"Search mind map"}function x_(e,l,o){return e}function y_(e,l,o){return{role:"treeitem","aria-label":e,"aria-level":"1"}}function b_({content:e,onChange:l,onSave:o,onCancel:a,placeholder:s="Enter text..."}){const[c,d]=A.useState(e),h=A.useRef(null),g=A.useRef(!1),[m,x]=A.useState(!1),[y,v]=A.useState("");A.useEffect(()=>{const C=qf(e);h.current&&((!g.current||h.current.innerHTML!==C)&&(h.current.innerHTML=C,g.current=!0),d(C))},[e]);const S=(C,R="")=>{document.execCommand(C,!1,R),h.current?.focus()},E=()=>{if(h.current){const C=h.current.innerHTML,R=qf(C);d(R),l(R)}},w=()=>{y&&(S("createLink",y),x(!1),v(""),setTimeout(E,0))},_=C=>{C.key==="Enter"&&!C.shiftKey?(C.preventDefault(),o(c)):C.key==="Escape"&&(C.preventDefault(),a())};return f.jsxs("div",{role:"region","aria-label":"Rich text editor",style:{position:"absolute",zIndex:1e3,background:"white",border:"1px solid #d1d5db",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"300px",maxWidth:"500px"},children:[f.jsxs("div",{role:"toolbar","aria-label":"Text formatting toolbar",style:{display:"flex",gap:"2px",padding:"4px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb",borderRadius:"6px 6px 0 0",flexWrap:"wrap"},children:[f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("bold")},"aria-label":"Make text bold (Ctrl+B)",style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},title:"Bold (Ctrl+B)",children:"B"}),f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("italic")},"aria-label":"Make text italic (Ctrl+I)",style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontStyle:"italic"},title:"Italic (Ctrl+I)",children:"I"}),f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("underline")},"aria-label":"Underline text (Ctrl+U)",style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"14px",textDecoration:"underline"},title:"Underline (Ctrl+U)",children:"U"}),f.jsx("div",{role:"separator","aria-orientation":"vertical",style:{width:"1px",background:"#d1d5db",margin:"2px 4px"}}),f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("foreColor","#ef4444")},"aria-label":"Apply red color to text",style:{padding:"4px 8px",background:"#fef2f2",color:"#ef4444",border:"1px solid #fecaca",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},title:"Red text",children:"A"}),f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("foreColor","#3b82f6")},"aria-label":"Apply blue color to text",style:{padding:"4px 8px",background:"#eff6ff",color:"#3b82f6",border:"1px solid #bfdbfe",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},title:"Blue text",children:"A"}),f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("foreColor","#10b981")},"aria-label":"Apply green color to text",style:{padding:"4px 8px",background:"#ecfdf5",color:"#10b981",border:"1px solid #a7f3d0",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},title:"Green text",children:"A"}),f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("foreColor","#f59e0b")},"aria-label":"Apply orange color to text",style:{padding:"4px 8px",background:"#fffbeb",color:"#f59e0b",border:"1px solid #fde68a",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},title:"Orange text",children:"A"}),f.jsx("button",{type:"button",onMouseDown:C=>{C.preventDefault(),S("removeFormat")},"aria-label":"Clear text formatting",style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},title:"Clear formatting",children:"Clear"}),f.jsx("div",{role:"separator","aria-orientation":"vertical",style:{width:"1px",background:"#d1d5db",margin:"2px 4px"}}),f.jsx("button",{type:"button",onClick:()=>x(!0),"aria-label":"Insert link","aria-haspopup":"dialog",style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},title:"Insert link",children:" Link"})]}),f.jsx("div",{ref:h,role:"textbox","aria-label":"Text editor","aria-multiline":"true",contentEditable:!0,onInput:E,onKeyDown:_,suppressContentEditableWarning:!0,style:{padding:"8px 12px",minHeight:"60px",outline:"none",fontSize:"14px",lineHeight:"1.5"},"data-placeholder":s}),m&&f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"link-modal-title",style:{position:"absolute",top:"100%",left:"0",right:"0",marginTop:"4px",padding:"8px",background:"white",border:"1px solid #d1d5db",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:1001,display:"flex",gap:"4px"},children:[f.jsx("label",{htmlFor:"link-url-input",style:{display:"none"},children:"Enter link URL"}),f.jsx("input",{id:"link-url-input",type:"text",value:y,onChange:C=>v(C.target.value),placeholder:"https://example.com","aria-label":"Enter link URL",onKeyDown:C=>{C.key==="Enter"?(C.preventDefault(),w()):C.key==="Escape"&&(x(!1),v(""))},style:{flex:1,padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",outline:"none"},autoFocus:!0}),f.jsx("button",{onClick:w,"aria-label":"Add link to text",style:{padding:"4px 8px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Add"})]}),f.jsx("div",{role:"status","aria-live":"polite",style:{padding:"6px 12px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"11px",color:"#6b7280"},children:f.jsx("span",{children:"Enter to save, Escape to cancel"})})]})}const Eb=A.memo(({data:e,selected:l,id:o})=>{const[a,s]=A.useState(!1),[c,d]=A.useState(e.checked||!1),h=A.useRef(null),g=e.isRoot||!1,m={fontSize:e.fontSize||(g?18:14),color:e.color||(g?"#1e40af":"#333"),fontWeight:e.bold||g?"bold":"normal",fontStyle:e.italic?"italic":"normal",fontFamily:e.fontName||"inherit"},x=e.metadata&&(e.metadata.url||e.metadata.description||e.metadata.notes||e.metadata.tags&&e.metadata.tags.length>0||e.metadata.attachments&&e.metadata.attachments.length>0),y=e.link||e.metadata?.url,v=e.icon?yb(e.icon):null,S=e.label.includes("<")&&e.label.includes(">"),E=x_(e.label),w=y_(E,!1,e.collapsed),_=()=>{s(!0)},C=O=>{const Y=new CustomEvent("nodeLabelChange",{detail:{nodeId:o,label:O}});window.dispatchEvent(Y),s(!1)},R=()=>{s(!1)},k=()=>{const O=!c;d(O);const Y=new CustomEvent("nodeCheckboxChange",{detail:{nodeId:o,checked:O}});window.dispatchEvent(Y)},M=O=>{O.stopPropagation();const Y=new CustomEvent("collapseAllDescendants",{detail:{nodeId:o}});window.dispatchEvent(Y)},B=O=>{O.stopPropagation();const Y=new CustomEvent("expandAllDescendants",{detail:{nodeId:o}});window.dispatchEvent(Y)};return A.useEffect(()=>{const O=H=>{H.key==="e"&&l&&!H.ctrlKey&&!H.metaKey&&!H.altKey&&(H.preventDefault(),s(!0))},Y=H=>{H.detail?.nodeId===o&&s(!0)};return window.addEventListener("keydown",O),window.addEventListener("triggerNodeEdit",Y),()=>{window.removeEventListener("keydown",O),window.removeEventListener("triggerNodeEdit",Y)}},[l,o]),f.jsxs("div",{className:`mindmap-node ${l?"selected":""} ${g?"root-node":""}`,style:{padding:g?"16px 20px":"12px 16px",borderRadius:g?"12px":"8px",border:"2px solid "+(l||g?"#3b82f6":"#e5e7eb"),background:e.backgroundColor||(g?"#eff6ff":"white"),minWidth:g?"150px":"100px",maxWidth:g?"400px":"300px",boxShadow:l?"0 4px 12px rgba(59, 130, 246, 0.3)":g?"0 6px 16px rgba(59, 130, 246, 0.25)":"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease",position:"relative"},onDoubleClick:_,role:w.role,"aria-label":w["aria-label"],"aria-level":parseInt(w["aria-level"]),"aria-expanded":w["aria-expanded"],children:[f.jsx(ha,{type:"target",position:_e.Left,style:{background:"#3b82f6",width:8,height:8}}),v&&f.jsx("div",{style:{position:"absolute",left:-10,top:-10,fontSize:"16px"},title:`Icon: ${e.icon}`,children:v}),a&&f.jsx("div",{style:{position:"absolute",zIndex:1e3,top:"-140px",left:0},children:f.jsx(b_,{content:e.label,onChange:()=>{},onSave:C,onCancel:R,placeholder:"Enter node text..."})}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(e.nodeType==="checkbox"||e.checked!==void 0)&&f.jsx("input",{type:"checkbox",checked:c,onChange:k,onClick:O=>O.stopPropagation(),"aria-label":`Mark "${e.label}" as ${c?"incomplete":"complete"}`,style:{cursor:"pointer",width:"16px",height:"16px",flexShrink:0}}),f.jsx("div",{ref:h,contentEditable:!S,suppressContentEditableWarning:!0,onInput:O=>{if(S)return;const Y=O.currentTarget.innerHTML,H=Y,V=new CustomEvent("nodeLabelChange",{detail:{nodeId:o,content:H}});window.dispatchEvent(V)},style:{...m,outline:"none",cursor:y?"pointer":"text",textDecoration:y?"underline":"none",textDecorationLine:c?"line-through":void 0,opacity:c?.6:1,flex:1},className:"node-content",title:y?e.link||e.metadata?.url:void 0,role:"textbox","aria-label":S?void 0:`Node content: ${e.label}`,"aria-multiline":"true",...S?{dangerouslySetInnerHTML:{__html:qf(e.label)}}:{},children:!S&&e.label}),e.nodeType==="progress"&&e.progress!==void 0&&f.jsx("div",{style:{width:"60px",height:"6px",background:"#e5e7eb",borderRadius:"3px",overflow:"hidden",flexShrink:0},children:f.jsx("div",{style:{width:`${e.progress}%`,height:"100%",background:e.progress>=100?"#10b981":"#3b82f6",borderRadius:"3px",transition:"width 0.3s ease"}})})]}),(x||e.link||e.icon)&&f.jsxs("div",{style:{position:"absolute",top:-8,right:-8,display:"flex",gap:"4px",flexWrap:"wrap",maxWidth:"80px"},children:[e.link&&f.jsx("div",{style:{background:"#f59e0b",color:"white",borderRadius:"50%",width:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},title:`Link: ${e.link}`,children:""}),e.metadata?.url&&!e.link&&f.jsx("div",{style:{background:"#f59e0b",color:"white",borderRadius:"50%",width:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},title:"Has URL in metadata",children:""}),(e.metadata?.description||e.metadata?.notes)&&f.jsx("div",{style:{background:"#8b5cf6",color:"white",borderRadius:"50%",width:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},title:"Has notes/description",children:""}),e.metadata?.tags&&e.metadata.tags.length>0&&f.jsx("div",{style:{background:"#10b981",color:"white",borderRadius:"50%",width:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},title:`${e.metadata.tags.length} tag(s)`,children:""}),e.metadata?.attachments&&e.metadata.attachments.length>0&&f.jsx("div",{style:{background:"#ec4899",color:"white",borderRadius:"50%",width:18,height:18,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",boxShadow:"0 1px 3px rgba(0,0,0,0.2)"},title:`${e.metadata.attachments.length} attachment(s)`,children:""})]}),f.jsx(ha,{type:"source",position:_e.Right,style:{background:"#3b82f6",width:8,height:8}}),l&&f.jsxs("div",{style:{position:"absolute",right:-50,top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"4px",zIndex:1e3},children:[f.jsx("button",{onClick:O=>{O.stopPropagation(),console.log("Expand all clicked for node:",o),B(O)},title:"Expand all descendants","aria-label":`Expand all descendants of "${e.label}"`,style:{background:"#10b981",color:"white",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0},type:"button",children:"+"}),f.jsx("button",{onClick:O=>{O.stopPropagation(),console.log("Collapse all clicked for node:",o),M(O)},title:"Collapse all descendants","aria-label":`Collapse all descendants of "${e.label}"`,style:{background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"28px",height:"28px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",flexShrink:0},type:"button",children:"-"})]}),e.collapsed&&f.jsx("div",{style:{position:"absolute",right:-10,top:"50%",transform:"translateY(-50%)",background:"#3b82f6",color:"white",borderRadius:"50%",width:20,height:20,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"},role:"button","aria-label":`Expand "${e.label}"`,tabIndex:0,children:"+"})]})});Eb.displayName="MindMapNode";function v_({onSelect:e,onClose:l,currentIcon:o}){const[a,s]=A.useState(""),[c,d]=A.useState(null),h=a?di.filter(g=>g.name.toLowerCase().includes(a.toLowerCase())||g.id.toLowerCase().includes(a.toLowerCase())):c?h0.find(g=>g.id===c)?.icons||[]:di;return f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"icon-picker-title",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",zIndex:9999,maxWidth:"500px",width:"90%",maxHeight:"80vh",display:"flex",flexDirection:"column"},onClick:g=>g.stopPropagation(),children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[f.jsx("h3",{id:"icon-picker-title",style:{margin:0,fontSize:"18px",fontWeight:"bold"},children:"Choose Icon"}),f.jsx("button",{onClick:l,"aria-label":"Close icon picker",style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",padding:"0 8px",color:"#6b7280"},children:""})]}),f.jsx("label",{htmlFor:"icon-search",style:{display:"none"},children:"Search icons"}),f.jsx("input",{id:"icon-search",type:"text",placeholder:"Search icons...",value:a,onChange:g=>{s(g.target.value),d(null)},"aria-label":"Search icons by name or ID",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}}),f.jsxs("div",{role:"group","aria-label":"Filter icons by category",style:{display:"flex",gap:"4px",marginTop:"12px",flexWrap:"wrap"},children:[f.jsxs("button",{onClick:()=>{d(null),s("")},"aria-pressed":c===null,style:{padding:"6px 12px",background:c===null?"#3b82f6":"#f3f4f6",color:c===null?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:c===null?"bold":"normal"},children:["All (",di.length,")"]}),h0.map(g=>f.jsxs("button",{onClick:()=>{d(g.id),s("")},"aria-pressed":c===g.id,style:{padding:"6px 12px",background:c===g.id?"#3b82f6":"#f3f4f6",color:c===g.id?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:c===g.id?"bold":"normal"},children:[g.name," (",g.icons.length,")"]},g.id))]})]}),f.jsxs("div",{style:{padding:"16px",overflowY:"auto",flex:1},children:[f.jsxs("div",{role:"grid","aria-label":`Available icons${h.length<di.length?` (${h.length} shown)`:""}`,style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(50px, 1fr))",gap:"8px"},children:[f.jsx("button",{onClick:()=>e(null),role:"gridcell","aria-label":"Remove icon","aria-selected":o===null,style:{padding:"8px",border:o===null?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"8px",background:o===null?"#eff6ff":"white",cursor:"pointer",fontSize:"20px",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50px"},title:"Remove icon",children:""}),h.map(g=>f.jsx("button",{onClick:()=>e(g.id),role:"gridcell","aria-label":`${g.name} (${g.id})`,"aria-selected":o===g.id,style:{padding:"8px",border:o===g.id?"2px solid #3b82f6":"1px solid #e5e7eb",borderRadius:"8px",background:o===g.id?"#eff6ff":"white",cursor:"pointer",fontSize:"24px",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"50px",transition:"all 0.2s ease"},title:`${g.name} (${g.id})`,children:g.emoji},g.id))]}),h.length===0&&f.jsxs("div",{role:"status","aria-live":"polite",style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:['No icons found matching "',a,'"']})]})]})}function S_({nodeId:e,nodeLabel:l,metadata:o,icon:a,cloud:s,onUpdateMetadata:c,onUpdateIcon:d,onUpdateCloud:h}){const[g,m]=A.useState(o?.url||""),[x,y]=A.useState(o?.description||""),[v,S]=A.useState(o?.notes||""),[E,w]=A.useState(o?.tags?.join(", ")||""),[_,C]=A.useState(o?.attachments||[]),[R,k]=A.useState(!1),[M,B]=A.useState(""),[O,Y]=A.useState("javascript"),[H,V]=A.useState(!1),[ee,oe]=A.useState(s?.color||"#f0f9ff"),de=A.useRef(null),pe=()=>{const q={};g.trim()&&(q.url=g.trim()),x.trim()&&(q.description=x.trim()),v.trim()&&(q.notes=v.trim()),E.trim()&&(q.tags=E.split(",").map(G=>G.trim()).filter(Boolean)),_.length>0&&(q.attachments=_),c(q)},N=()=>{m(""),y(""),S(""),w(""),C([]),c({})},P=async q=>{const G=q.target.files?.[0];if(G){if(G.type.startsWith("image/")){const te=new FileReader;te.onload=j=>{const I=j.target?.result,F={id:`att_${Date.now()}`,name:G.name,type:"image",mimeType:G.type,data:I,size:G.size};C(le=>[...le,F])},te.readAsDataURL(G)}else{const te=new FileReader;te.onload=j=>{const I=j.target?.result,F={id:`att_${Date.now()}`,name:G.name,type:"code",data:I,size:G.size};C(le=>[...le,F])},te.readAsText(G)}de.current&&(de.current.value="")}},z=()=>{if(!M.trim())return;const q={id:`att_${Date.now()}`,name:`code.${O}`,type:"code",data:M};C(G=>[...G,q]),B(""),k(!1)},W=q=>{C(G=>G.filter(te=>te.id!==q))};return e?f.jsxs("div",{"aria-label":"Node metadata",role:"region",style:{background:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",width:"320px",maxWidth:"320px",maxHeight:"calc(100vh - 100px)",overflowY:"auto",overflowX:"hidden",boxSizing:"border-box",scrollbarWidth:"thin",scrollbarColor:"#cbd5e1 #f1f5f9"},children:[f.jsx("h3",{style:{margin:"0 0 12px 0",fontSize:"16px",fontWeight:"bold"},children:"Metadata"}),f.jsxs("div",{style:{marginBottom:"8px",fontSize:"12px",color:"#6b7280"},children:["Node: ",f.jsx("strong",{children:l})]}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"URL"}),f.jsx("input",{type:"url",value:g,onChange:q=>m(q.target.value),placeholder:"https://example.com",style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",boxSizing:"border-box"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Description"}),f.jsx("input",{type:"text",value:x,onChange:q=>y(q.target.value),placeholder:"Short description",style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",boxSizing:"border-box"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Notes"}),f.jsx("textarea",{value:v,onChange:q=>S(q.target.value),placeholder:"Detailed notes...",rows:3,style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",resize:"vertical",boxSizing:"border-box",fontFamily:"inherit"}})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Tags (comma-separated)"}),f.jsx("input",{type:"text",value:E,onChange:q=>w(q.target.value),placeholder:"tag1, tag2, tag3",style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",boxSizing:"border-box"}})]}),d&&f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Icon"}),f.jsx("button",{onClick:()=>V(!0),style:{width:"100%",padding:"8px 12px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"16px",background:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:a?f.jsxs(f.Fragment,{children:[yb(a),f.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"(change)"})]}):f.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Choose icon..."})})]}),h&&f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Cloud (Visual Group)"}),f.jsxs("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:[f.jsx("input",{type:"color",value:ee,onChange:q=>oe(q.target.value),style:{width:"40px",height:"32px",border:"1px solid #e5e7eb",borderRadius:"4px",cursor:"pointer"}}),f.jsx("button",{onClick:()=>h({color:ee}),style:{flex:1,padding:"6px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:"Apply Cloud"}),f.jsx("button",{onClick:()=>h(null),style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:"Remove"})]})]}),f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Attachments"}),f.jsxs("div",{style:{display:"flex",gap:"4px",marginBottom:"8px"},children:[f.jsx("input",{ref:de,type:"file",accept:"image/*,.js,.ts,.jsx,.tsx,.py,.java,.cpp,.c,.cs,.go,.rs,.php,.rb,.swift,.kt,.scala,.rs,.html,.css,.json,.xml,.yaml,.yml,.md,.txt",onChange:P,style:{display:"none"}}),f.jsx("button",{onClick:()=>de.current?.click(),style:{flex:1,padding:"6px 12px",background:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:" Upload File"}),f.jsx("button",{onClick:()=>k(!R),style:{flex:1,padding:"6px 12px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:" Add Code"})]}),R&&f.jsxs("div",{style:{marginBottom:"8px"},children:[f.jsxs("select",{value:O,onChange:q=>Y(q.target.value),style:{width:"100%",padding:"6px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",marginBottom:"4px",boxSizing:"border-box"},children:[f.jsx("option",{value:"javascript",children:"JavaScript"}),f.jsx("option",{value:"typescript",children:"TypeScript"}),f.jsx("option",{value:"python",children:"Python"}),f.jsx("option",{value:"java",children:"Java"}),f.jsx("option",{value:"cpp",children:"C++"}),f.jsx("option",{value:"c",children:"C"}),f.jsx("option",{value:"csharp",children:"C#"}),f.jsx("option",{value:"go",children:"Go"}),f.jsx("option",{value:"rust",children:"Rust"}),f.jsx("option",{value:"php",children:"PHP"}),f.jsx("option",{value:"ruby",children:"Ruby"}),f.jsx("option",{value:"swift",children:"Swift"}),f.jsx("option",{value:"kotlin",children:"Kotlin"}),f.jsx("option",{value:"html",children:"HTML"}),f.jsx("option",{value:"css",children:"CSS"}),f.jsx("option",{value:"json",children:"JSON"}),f.jsx("option",{value:"xml",children:"XML"}),f.jsx("option",{value:"yaml",children:"YAML"}),f.jsx("option",{value:"markdown",children:"Markdown"}),f.jsx("option",{value:"text",children:"Plain Text"})]}),f.jsx("textarea",{value:M,onChange:q=>B(q.target.value),placeholder:"Paste or type code here...",rows:4,style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",fontFamily:"monospace",resize:"vertical",boxSizing:"border-box",marginBottom:"4px"}}),f.jsxs("div",{style:{display:"flex",gap:"4px"},children:[f.jsx("button",{onClick:z,style:{flex:1,padding:"6px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:"Add"}),f.jsx("button",{onClick:()=>{k(!1),B("")},style:{flex:1,padding:"6px 12px",background:"#6b7280",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:"Cancel"})]})]}),_.length>0&&f.jsx("div",{style:{maxHeight:"150px",overflowY:"auto"},children:_.map(q=>f.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"6px 8px",background:"#f9fafb",borderRadius:"4px",marginBottom:"4px",fontSize:"11px"},children:[f.jsxs("div",{style:{flex:1,minWidth:0},children:[f.jsxs("div",{style:{fontWeight:"bold",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[q.type==="image"?" ":" ",q.name]}),q.type==="image"&&f.jsx("img",{src:q.data,alt:q.name,style:{maxWidth:"100%",maxHeight:"60px",marginTop:"4px",borderRadius:"4px"}}),q.type==="code"&&f.jsxs("div",{style:{fontSize:"10px",color:"#6b7280",marginTop:"2px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[q.data.slice(0,50),"..."]})]}),f.jsx("button",{onClick:()=>W(q.id),style:{padding:"4px 8px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px",marginLeft:"4px"},children:""})]},q.id))})]}),f.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[f.jsx("button",{onClick:pe,style:{flex:1,padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"Save"}),f.jsx("button",{onClick:N,style:{flex:1,padding:"8px 16px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"Clear"})]})]}),H&&f.jsxs(f.Fragment,{children:[f.jsx("div",{onClick:()=>V(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",zIndex:9998}}),f.jsx(v_,{currentIcon:a,onSelect:q=>{d?.(q),V(!1)},onClose:()=>V(!1)})]})]}):f.jsx("div",{style:{background:"white",padding:"16px",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",width:"320px",maxWidth:"320px"},children:f.jsx("div",{style:{fontSize:"14px",color:"#6b7280",textAlign:"center"},children:"Select a node to edit metadata"})})}function w_({visible:e,onClose:l,notes:o,onSave:a}){const[s,c]=A.useState(o);return A.useEffect(()=>{c(o)},[o]),e?f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"notes-panel-title","aria-label":"Notes panel",style:{position:"fixed",right:"16px",top:"50%",transform:"translateY(-50%)",width:"350px",maxHeight:"70vh",background:"white",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("h3",{id:"notes-panel-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Notes"}),f.jsx("button",{onClick:l,"aria-label":"Close notes panel",style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#6b7280",padding:"0 4px"},children:""})]}),f.jsx("textarea",{id:"notes-content",value:s,onChange:d=>c(d.target.value),placeholder:"Enter detailed notes here...","aria-label":"Notes content","aria-multiline":"true",style:{flex:1,padding:"12px",border:"none",resize:"none",fontSize:"14px",fontFamily:"inherit",outline:"none",minWidth:"0",borderRadius:"0 0 8px 8px"}}),f.jsx("div",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"8px",justifyContent:"flex-end"},children:f.jsx("button",{onClick:()=>{a(s),l()},"aria-label":"Save and close notes",style:{padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"Save"})})]}):null}const Cb=A.memo(({nodes:e})=>{const l=e.filter(o=>o.data.cloud);return l.length===0?null:f.jsx("svg",{role:"presentation","aria-label":"Cloud backgrounds visualizing node groupings",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:0},children:l.map(o=>{const a=o.data.cloud?.color||"#f0f9ff",s=o.position.x-20,c=o.position.y-20;return f.jsx("ellipse",{cx:s+100,cy:c+30,rx:150,ry:60,fill:a,stroke:a,strokeWidth:"2",opacity:"0.3",style:{filter:"blur(2px)"},"aria-label":`Cloud background for ${o.data.label||o.id}`},o.id)})})});Cb.displayName="CloudBackground";const Vf=A.memo(({sourceX:e,sourceY:l,targetX:o,targetY:a,sourcePosition:s,targetPosition:c,style:d={},markerEnd:h,data:g})=>{const[m,x,y]=hp({sourceX:e,sourceY:l,sourcePosition:s,targetX:o,targetY:a,targetPosition:c});return f.jsxs("g",{role:"presentation","aria-label":"Cross-link edge between nodes",children:[f.jsx(ma,{path:m,markerEnd:h,style:{...d,stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5,5"}}),g?.isCrossLink&&f.jsx(vT,{children:f.jsx("div",{role:"img","aria-label":"Cross-link connection",style:{position:"absolute",transform:`translate(-50%, -50%) translate(${x}px, ${y}px)`,fontSize:10,background:"#f59e0b",color:"white",padding:"2px 6px",borderRadius:4,pointerEvents:"all",cursor:"pointer"},className:"edge-label",children:""})})]})});Vf.displayName="CrossLinkEdge";function E_({onSearch:e,onNext:l,onPrevious:o,resultCount:a,currentResult:s,availableIcons:c=[],availableClouds:d=[]}){const[h,g]=A.useState(""),[m,x]=A.useState({caseSensitive:!1,wholeWord:!1,useRegex:!1,searchInNotes:!1}),[y,v]=A.useState(!1),S=C=>{C.preventDefault(),e(h,m)},E=C=>{const R=!m[C];x(k=>({...k,[C]:R})),h&&e(h,{...m,[C]:R})},w=(C,R)=>{x(k=>({...k,[C]:R||void 0})),e(h,{...m,[C]:R||void 0})},_=[m.filterIcon,m.filterCloud,m.filterDate].filter(Boolean).length;return f.jsxs("div",{role:"search","aria-label":m_(a),style:{padding:"12px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",display:"flex",flexDirection:"column",gap:"8px",minWidth:"420px"},children:[f.jsxs("form",{onSubmit:S,style:{display:"flex",gap:"6px"},children:[f.jsx("input",{type:"text",value:h,onChange:C=>g(C.target.value),placeholder:"Search nodes... (Ctrl+F)","aria-label":"Search nodes",style:{flex:1,padding:"6px 10px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"13px",outline:"none"}}),f.jsx("button",{type:"submit","aria-label":"Execute search",style:{padding:"6px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Search"}),f.jsxs("button",{type:"button",onClick:()=>v(!y),"aria-label":g_("Search options",y),"aria-expanded":y,style:{padding:"6px 10px",background:y||_>0?"#3b82f6":"#f3f4f6",color:y||_>0?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px",position:"relative"},children:["Options",_>0&&f.jsx("span",{style:{position:"absolute",top:"-4px",right:"-4px",background:"#ef4444",color:"white",fontSize:"9px",padding:"1px 4px",borderRadius:"8px"},"aria-label":`${_} active filters`,children:_})]})]}),y&&f.jsxs("div",{role:"region","aria-label":"Advanced search options",style:{display:"flex",flexDirection:"column",gap:"12px"},children:[f.jsxs("div",{role:"group","aria-label":"Text search options",style:{padding:"8px",background:"#f9fafb",borderRadius:"4px",border:"1px solid #e5e7eb"},children:[f.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",marginBottom:"6px",color:"#6b7280"},children:"TEXT OPTIONS"}),f.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",fontSize:"12px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:m.caseSensitive,onChange:()=>E("caseSensitive"),"aria-label":"Case sensitive search",style:{cursor:"pointer"}}),"Case sensitive"]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:m.wholeWord,onChange:()=>E("wholeWord"),"aria-label":"Match whole words only",style:{cursor:"pointer"}}),"Whole word"]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:m.useRegex,onChange:()=>E("useRegex"),"aria-label":"Use regular expressions",style:{cursor:"pointer"}}),"Regular expression"]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:m.searchInNotes,onChange:()=>E("searchInNotes"),"aria-label":"Include notes in search",style:{cursor:"pointer"}}),"Search in notes"]})]})]}),f.jsxs("div",{role:"group","aria-label":"Search filters",style:{padding:"8px",background:"#f9fafb",borderRadius:"4px",border:"1px solid #e5e7eb"},children:[f.jsx("div",{style:{fontSize:"11px",fontWeight:"bold",marginBottom:"6px",color:"#6b7280"},children:"FILTERS"}),f.jsxs("div",{style:{marginBottom:"8px"},children:[f.jsx("div",{style:{fontSize:"12px",marginBottom:"4px"},children:"Filter by icon:"}),f.jsxs("select",{value:m.filterIcon||"",onChange:C=>w("filterIcon",C.target.value),"aria-label":"Filter by icon",style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",width:"100%"},children:[f.jsx("option",{value:"",children:"Any icon"}),c.map(C=>f.jsx("option",{value:C,children:C},C))]})]}),f.jsxs("div",{style:{marginBottom:"8px"},children:[f.jsx("div",{style:{fontSize:"12px",marginBottom:"4px"},children:"Filter by cloud:"}),f.jsxs("select",{value:m.filterCloud||"",onChange:C=>w("filterCloud",C.target.value),"aria-label":"Filter by cloud",style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",width:"100%"},children:[f.jsx("option",{value:"",children:"Any cloud"}),d.map(C=>f.jsx("option",{value:C,children:C},C))]})]}),f.jsxs("div",{children:[f.jsx("div",{style:{fontSize:"12px",marginBottom:"4px"},children:"Filter by date modified:"}),f.jsxs("select",{value:m.filterDate||"",onChange:C=>w("filterDate",C.target.value),"aria-label":"Filter by date modified",style:{padding:"4px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",width:"100%"},children:[f.jsx("option",{value:"",children:"Any time"}),f.jsx("option",{value:"hour",children:"Last hour"}),f.jsx("option",{value:"day",children:"Last 24 hours"}),f.jsx("option",{value:"week",children:"Last week"}),f.jsx("option",{value:"month",children:"Last month"})]})]})]})]}),f.jsxs("div",{role:"status","aria-live":"polite","aria-atomic":"true",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a>0&&f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsxs("div",{"aria-label":`Showing result ${s+1} of ${a}`,style:{fontSize:"12px",color:"#666"},children:[s+1," / ",a]}),f.jsx("button",{onClick:o,title:"Previous result (Shift+F3)","aria-label":"Previous search result",style:{padding:"4px 10px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:" Previous"}),f.jsx("button",{onClick:l,title:"Next result (F3)","aria-label":"Next search result",style:{padding:"4px 10px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:" Next"})]}),a===0&&h&&f.jsx("div",{role:"alert","aria-live":"assertive",style:{fontSize:"12px",color:"#ef4444"},children:"No results found"})]})]})}function C_(e,l){const o=new Map,a=new Map;l.forEach(S=>{const E=o.get(S.source)||[];E.push(S.target),o.set(S.source,E)}),e.forEach(S=>{a.set(S.id,S)});const s=new Set(l.map(S=>S.target)),c=e.find(S=>!s.has(S.id));if(!c)return e;const d=300,h=80,g=400,m=300,x=new Map;function y(S){const E=o.get(S)||[];if(E.length===0)return h;let w=0;return E.forEach(_=>{w+=y(_)}),w}function v(S,E,w,_){x.set(S,{x:E,y:w});const C=o.get(S)||[];if(C.length===0)return h;const R=C.reduce((Y,H)=>Y+y(H),0),k=_==="root"?C.filter((Y,H)=>H<C.length/2):[],M=_==="root"?C.filter((Y,H)=>H>=C.length/2):C,B=_==="root"?[]:C;let O=w-R/2;if(k.length>0){const Y=k.reduce((V,ee)=>V+y(ee),0);let H=w-Y/2;k.forEach(V=>{const ee=v(V,E-d,H,"left");H+=ee})}if(M.length>0){const Y=M.reduce((V,ee)=>V+y(ee),0);let H=w-Y/2;M.forEach(V=>{const ee=v(V,E+d,H,"right");H+=ee})}if(B.length>0){const Y=_==="left"?-1:1;B.forEach(H=>{const V=v(H,E+Y*d,O,_);O+=V})}return R}return v(c.id,g,m,"root"),e.map(S=>{const E=x.get(S.id);return{...S,position:E||S.position}})}function hc(e,l=!1){const o=[],a=[];function s(c,d=null,h=0){o.push({id:c.id,type:"mindmap",position:c.position||{x:h*250,y:o.length*100},data:{label:c.content,collapsed:c.collapsed,color:c.style?.color,fontSize:c.style?.fontSize,backgroundColor:c.style?.backgroundColor,bold:c.style?.bold,italic:c.style?.italic,fontName:c.style?.fontName,icon:c.icon,link:c.link,metadata:c.metadata,cloud:c.cloud,isRoot:d===null}}),d&&a.push({id:`${d}-${c.id}`,source:d,target:c.id,type:"smoothstep",animated:!1,style:c.edgeStyle?.color||c.edgeStyle?.width||c.edgeStyle?.style?{stroke:c.edgeStyle.color,strokeWidth:c.edgeStyle.width,strokeDasharray:c.edgeStyle?.style==="linear"?"0":void 0}:void 0}),c.children&&!c.collapsed&&c.children.forEach(g=>s(g,c.id,h+1))}return s(e),l?{nodes:C_(o,a),edges:a}:{nodes:o,edges:a}}function Pi(e,l){if(e.length===0)return null;const o=new Map,a=new Map;l.forEach(h=>{const g=o.get(h.source)||[];g.push(h.target),o.set(h.source,g)}),e.forEach(h=>{a.set(h.id,h)});const s=new Set(l.map(h=>h.target)),c=e.find(h=>!s.has(h.id));if(!c)return null;function d(h){const g=a.get(h),m=o.get(h)||[],x=l.find(y=>y.target===h);return{id:g.id,content:g.data.label,position:g.position,collapsed:g.data.collapsed,style:{color:g.data.color,fontSize:g.data.fontSize,backgroundColor:g.data.backgroundColor,bold:g.data.bold,italic:g.data.italic,fontName:g.data.fontName},metadata:g.data.metadata,icon:g.data.icon,link:g.data.link,cloud:g.data.cloud,edgeStyle:x?.style?{color:x.style.stroke,width:x.style.strokeWidth}:void 0,children:m.map(d)}}return d(c.id)}function bn(){return`node_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}const bf="mindmap_autosave",ac="mindmap_autosave_history",A_=3e4,T_=5;function __(e){const l=new Date(e),o=new Date,a=l.toDateString()===o.toDateString(),s=new Date(o.setDate(o.getDate()-1)).toDateString()===l.toDateString(),c=l.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return a?`Today at ${c}`:s?`Yesterday at ${c}`:`${l.toLocaleDateString()} ${c}`}function k_({nodes:e,edges:l,onSaveStatusChange:o,onConflictFound:a}){const s=A.useRef(null),c=A.useRef(""),[d,h]=A.useState([]),g=A.useRef(!1);A.useEffect(()=>{(()=>{try{const C=localStorage.getItem(ac);if(C){const R=JSON.parse(C);return h(R),R}}catch(C){console.error("Failed to load save history:",C)}return[]})();const _=localStorage.getItem(bf);if(_&&!g.current)try{const C=JSON.parse(_);if(C.nodes&&C.edges&&C.timestamp){const R=Date.now()-C.timestamp,k=Math.floor(R/(1e3*60*60)),M=Math.floor(R%(1e3*60*60)/(1e3*60));let B="";if(k>0?B=`${k} hour${k>1?"s":""} ago`:M>0?B=`${M} minute${M>1?"s":""} ago`:B="just now",R>6e4){const O={nodes:C.nodes,edges:C.edges,tree:C.tree,timestamp:C.timestamp,label:`Auto-save from ${B}`};a?.(O)}else console.log(`Found recent auto-saved mind map from ${B}`)}}catch(C){console.error("Failed to load auto-saved data:",C)}g.current=!0},[a]);const m=A.useCallback(w=>{h(_=>{const C=[w,..._].slice(0,T_);try{localStorage.setItem(ac,JSON.stringify(C))}catch(R){console.error("Failed to save history:",R)}return C})},[]),x=A.useCallback(()=>{const w=JSON.stringify(e)+JSON.stringify(l);if(w!==c.current){o?.("saving");try{const _=Pi(e,l);if(!_)return;const C={nodes:e,edges:l,tree:_,timestamp:Date.now()};localStorage.setItem(bf,JSON.stringify(C)),c.current=w;const R={nodes:e,edges:l,tree:_,timestamp:C.timestamp,label:__(C.timestamp)};m(R),o?.("saved")}catch(_){console.error("Failed to auto-save:",_),o?.("unsaved")}}},[e,l,o,m]);A.useEffect(()=>(JSON.stringify(e)+JSON.stringify(l)!==c.current&&(o?.("unsaved"),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{x()},A_)),()=>{s.current&&clearTimeout(s.current)}),[e,l,o,x]),A.useEffect(()=>()=>{x()},[x]);const y=A.useCallback(()=>{s.current&&clearTimeout(s.current),x()},[x]),v=A.useCallback(()=>{localStorage.removeItem(bf),localStorage.removeItem(ac),c.current="",h([])},[]),S=A.useCallback(w=>{const _=d[w];return _?(c.current=JSON.stringify(_.nodes)+JSON.stringify(_.edges),_):null},[d]),E=A.useCallback(w=>{h(_=>{const C=_.filter((R,k)=>k!==w);try{localStorage.setItem(ac,JSON.stringify(C))}catch(R){console.error("Failed to save history:",R)}return C})},[]);return{saveNow:y,clearAutoSave:v,saveHistory:d,restoreFromHistory:S,deleteHistorySlot:E}}function j_({saveHistory:e,onRestore:l,onDelete:o,onClose:a}){return f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"save-history-title","aria-label":"Save history",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:"400px",maxWidth:"500px"},children:[f.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("h2",{id:"save-history-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Save History"}),f.jsx("button",{onClick:a,"aria-label":"Close save history panel",style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#6b7280",padding:"4px 8px"},children:""})]}),f.jsx("div",{role:"list","aria-label":"Auto-save slots",style:{padding:"8px",maxHeight:"400px",overflowY:"auto"},children:e.length===0?f.jsx("div",{role:"status","aria-live":"polite",style:{padding:"24px",textAlign:"center",color:"#6b7280",fontSize:"14px"},children:"No save history yet. Auto-saves will appear here."}):e.map((s,c)=>f.jsxs("div",{role:"listitem","aria-label":`${s.label}, ${s.nodes.length} nodes`,style:{padding:"12px",marginBottom:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",background:"#f9fafb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsx("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"4px"},children:s.label}),f.jsxs("div",{style:{fontSize:"11px",color:"#6b7280"},children:[s.nodes.length," nodes"]})]}),f.jsxs("div",{style:{display:"flex",gap:"4px"},children:[f.jsx("button",{onClick:()=>l(c),"aria-label":`Restore ${s.label}`,style:{padding:"6px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:"Restore"}),f.jsx("button",{onClick:()=>o(c),"aria-label":`Delete ${s.label}`,style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"Delete"})]})]},s.timestamp))}),f.jsxs("div",{role:"status","aria-live":"polite",style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",fontSize:"12px",color:"#6b7280",textAlign:"center"},children:["Last ",e.length," auto-save",e.length!==1?"s":""," stored"]})]})}function z_({saveSlot:e,onRestore:l,onDismiss:o}){return e?f.jsxs("div",{role:"alertdialog","aria-modal":"true","aria-labelledby":"conflict-title","aria-describedby":"conflict-description",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:"400px",maxWidth:"500px"},children:[f.jsx("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb"},children:f.jsxs("h2",{id:"conflict-title",style:{margin:0,fontSize:"16px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),"Recover Auto-Saved Version?"]})}),f.jsxs("div",{id:"conflict-description",style:{padding:"16px"},children:[f.jsxs("p",{style:{margin:"0 0 12px 0",fontSize:"14px",lineHeight:"1.5"},children:["We found an auto-saved version of your mind map from ",f.jsx("strong",{children:e.label}),"."]}),f.jsx("p",{style:{margin:"0 0 12px 0",fontSize:"14px",lineHeight:"1.5"},children:"Would you like to restore it, or start with a blank canvas?"}),f.jsxs("div",{role:"region","aria-label":"Auto-save details",style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",fontSize:"12px",color:"#6b7280"},children:[f.jsxs("div",{style:{marginBottom:"4px"},children:[f.jsx("strong",{children:"Auto-saved version:"})," ",e.nodes.length," nodes"]}),f.jsx("div",{children:"Restoring will replace your current blank canvas."})]})]}),f.jsxs("div",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"8px",justifyContent:"flex-end"},children:[f.jsx("button",{onClick:o,"aria-label":"Start with a blank canvas",style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500"},children:"Start Fresh"}),f.jsx("button",{onClick:l,"aria-label":"Restore auto-saved version",style:{padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"Restore Auto-Save"})]})]}):null}function R_(e,l,o,a){const s=e.length,c=l.length,d=o.length,h=a.length;if(c>s){const v=c-s;if(v===1){const S=l.filter(E=>!e.find(w=>w.id===E.id));if(S.length>0){const E=S[0];return a.find(_=>_.target===E.id)?"Added child node":"Added sibling node"}}return`Added ${v} nodes`}if(c<s){const v=s-c;return v===1?"Deleted node":`Deleted ${v} nodes`}if(h>d){const v=h-d;return v===1?"Added cross-link":`Added ${v} links`}if(h<d)return"Removed link";const g=l.find(v=>{const S=e.find(E=>E.id===v.id);return S&&S.data.label!==v.data.label});return g?`Edited text: "${g.data.label.substring(0,20)}${g.data.label.length>20?"...":""}"`:l.find(v=>{const S=e.find(E=>E.id===v.id);return S&&JSON.stringify(S.data.metadata)!==JSON.stringify(v.data.metadata)})?"Updated metadata":l.find(v=>{const S=e.find(E=>E.id===v.id);return S&&S.data.icon!==v.data.icon})?"Changed icon":l.find(v=>{const S=e.find(E=>E.id===v.id);return S&&JSON.stringify(S.data.cloud)!==JSON.stringify(v.data.cloud)})?"Changed cloud":"Action"}function M_({maxHistory:e=50}={}){const[l,o]=A.useState([]),[a,s]=A.useState([]),[c,d]=A.useState(null),h=l.length>0,g=a.length>0,m=A.useCallback((w,_)=>{o(C=>{let R="Action";const k=Date.now();c&&(R=R_(c.nodes,w,c.edges,_));const M={nodes:w,edges:_,label:R,timestamp:k};return[...C,M].slice(-e)}),d({nodes:w,edges:_}),s([])},[e,c]),x=A.useCallback(()=>{let w=null;return o(_=>{if(_.length===0)return _;const C=_[_.length-1],R=_.slice(0,-1);return w=C,d({nodes:C.nodes,edges:C.edges}),s(k=>[C,...k]),R}),w},[]),y=A.useCallback(()=>{let w=null;return s(_=>{if(_.length===0)return _;const C=_[0],R=_.slice(1);return w=C,d({nodes:C.nodes,edges:C.edges}),o(k=>[...k,C]),R}),w},[]),v=A.useCallback((w,_)=>{if(_){if(w<0||w>=l.length)return null;const C=l[w],R=l.slice(0,w),k=l.slice(w+1);return o(R),s([...k.reverse(),...a]),d({nodes:C.nodes,edges:C.edges}),C}else{if(w<0||w>=a.length)return null;const C=a[w],R=a.slice(w+1),k=a.slice(0,w);return s(R),o([...l,...k]),d({nodes:C.nodes,edges:C.edges}),C}},[l,a]),S=A.useCallback(()=>{const w=[...l.map(_=>({..._,isCurrent:!1}))];return c&&w.push({nodes:c.nodes,edges:c.edges,label:"Current state",timestamp:Date.now(),isCurrent:!0}),[...a].reverse().forEach(_=>{w.push({..._,isCurrent:!1})}),w},[l,a,c]),E=A.useCallback(()=>{o([]),s([]),d(null)},[]);return{past:l,future:a,canUndo:h,canRedo:g,addToHistory:m,undo:x,redo:y,jumpToHistory:v,getFullHistory:S,clearHistory:E}}function E0(e){const l=new Date(e),a=new Date().getTime()-l.getTime(),s=Math.floor(a/6e4),c=Math.floor(a/36e5);return s<1?"Just now":s<60?`${s}m ago`:c<24?`${c}h ago`:l.toLocaleDateString()}function N_({history:e,canUndo:l,canRedo:o,onJump:a,onUndo:s,onRedo:c,onClose:d}){const h=e.findIndex(g=>g.isCurrent);return f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"history-panel-title","aria-label":"History panel",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:"500px",maxWidth:"600px",maxHeight:"80vh",display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("h2",{id:"history-panel-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"History Timeline"}),f.jsx("button",{onClick:d,"aria-label":"Close history panel",style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#6b7280",padding:"4px 8px"},children:""})]}),f.jsxs("div",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",display:"flex",gap:"8px",alignItems:"center"},children:[f.jsx("button",{onClick:s,disabled:!l,"aria-label":`Undo${l?"":" (disabled)"}`,style:{padding:"6px 12px",background:l?"#3b82f6":"#f3f4f6",color:l?"white":"#9ca3af",border:"1px solid #d1d5db",borderRadius:"4px",cursor:l?"pointer":"not-allowed",fontSize:"12px",fontWeight:"500"},children:"Undo (Ctrl+Z)"}),f.jsx("button",{onClick:c,disabled:!o,"aria-label":`Redo${o?"":" (disabled)"}`,style:{padding:"6px 12px",background:o?"#3b82f6":"#f3f4f6",color:o?"white":"#9ca3af",border:"1px solid #d1d5db",borderRadius:"4px",cursor:o?"pointer":"not-allowed",fontSize:"12px",fontWeight:"500"},children:"Redo (Ctrl+Y)"}),f.jsx("div",{style:{flex:1}}),f.jsxs("div",{"aria-live":"polite",style:{fontSize:"12px",color:"#6b7280"},children:[e.length," steps"]})]}),f.jsx("div",{style:{padding:"8px",overflowY:"auto",flex:1},children:e.length===0?f.jsx("div",{role:"status",style:{padding:"24px",textAlign:"center",color:"#6b7280",fontSize:"14px"},children:"No history yet. Actions will appear here as you make changes."}):f.jsxs("div",{role:"list","aria-label":"History timeline",style:{position:"relative"},children:[f.jsx("div",{style:{position:"absolute",left:"20px",top:"0",bottom:"0",width:"2px",background:"#e5e7eb"}}),e.map((g,m)=>f.jsxs("div",{role:"listitem","aria-label":`${g.label}, ${g.nodes.length} nodes, ${E0(g.timestamp)}${g.isCurrent?" (current)":""}`,style:{position:"relative",paddingLeft:"44px",paddingBottom:m===e.length-1?"0":"12px"},children:[f.jsx("div",{style:{position:"absolute",left:"12px",top:"4px",width:"18px",height:"18px",borderRadius:"50%",background:g.isCurrent?"#3b82f6":"#f3f4f6",border:"2px solid "+(g.isCurrent?"#3b82f6":"#d1d5db"),zIndex:1}}),f.jsx("div",{style:{padding:"10px 12px",border:"1px solid "+(g.isCurrent?"#3b82f6":"#e5e7eb"),borderRadius:"6px",background:g.isCurrent?"#eff6ff":"#ffffff",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{if(!g.isCurrent){const x=m<(h>=0?h:e.length-1),y=x?m:m-(h>=0?h+1:e.length);a(y,x)}},onMouseEnter:x=>{g.isCurrent||(x.currentTarget.style.background="#f9fafb",x.currentTarget.style.borderColor="#3b82f6")},onMouseLeave:x=>{g.isCurrent||(x.currentTarget.style.background="#ffffff",x.currentTarget.style.borderColor="#e5e7eb")},children:f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",gap:"8px"},children:[f.jsxs("div",{style:{flex:1},children:[f.jsxs("div",{style:{fontSize:"13px",fontWeight:g.isCurrent?"600":"500",marginBottom:"4px"},children:[g.isCurrent&&f.jsx("span",{style:{color:"#3b82f6",marginRight:"4px"},children:""}),g.label]}),f.jsxs("div",{style:{fontSize:"11px",color:"#6b7280"},children:[g.nodes.length," nodes  ",E0(g.timestamp)]})]}),!g.isCurrent&&f.jsx("div",{style:{fontSize:"10px",color:"#6b7280",background:"#f3f4f6",padding:"2px 6px",borderRadius:"4px"},children:m<(h>=0?h:e.length-1)?"Undo":"Redo"})]})})]},g.timestamp))]})}),f.jsx("div",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",fontSize:"11px",color:"#6b7280",background:"#f9fafb",borderRadius:"0 0 8px 8px"},children:"Click any item to jump to that point in history"})]})}function D_(e,l){const o=new Set(l.map(g=>g.target)),a=e.filter(g=>!o.has(g.id));if(a.length===0)return{maxDepth:0,nodesByLevel:{0:e.length}};let s=0;const c={},d=new Map;for(const g of a)d.set(g.id,0),c[0]=(c[0]||0)+1;let h=!0;for(;h;){h=!1;for(const g of l){const m=d.get(g.source);if(m!==void 0&&d.get(g.target)===void 0){const x=m+1;d.set(g.target,x),c[x]=(c[x]||0)+1,s=Math.max(s,x),h=!0}}}return{maxDepth:s,nodesByLevel:c}}function O_(e){const l={};for(const o of e)o.data.icon&&(l[o.data.icon]=(l[o.data.icon]||0)+1);return l}function L_(e){const l={};for(const o of e)o.data.cloud?.color&&(l[o.data.cloud.color]=(l[o.data.cloud.color]||0)+1);return l}function xr(e){return e.toLocaleString()}function B_({nodes:e,edges:l,selectedNodeId:o,onClose:a}){const{maxDepth:s,nodesByLevel:c}=D_(e,l),d=O_(e),h=L_(e),g=e.reduce((w,_)=>w+_.data.label.length,0),m=e.reduce((w,_)=>w+_.data.label.split(/\s+/).filter(C=>C.length>0).length,0),x=o?e.find(w=>w.id===o):null,y=x?.data.label.length||0,v=x?x.data.label.split(/\s+/).filter(w=>w.length>0).length:0,S=l.filter(w=>!w.data?.isCrossLink).length,E=l.filter(w=>w.data?.isCrossLink).length;return f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"statistics-panel-title","aria-label":"Statistics panel",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:"450px",maxWidth:"550px",maxHeight:"80vh",display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("h2",{id:"statistics-panel-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Mind Map Statistics"}),f.jsx("button",{onClick:a,"aria-label":"Close statistics panel",style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#6b7280",padding:"4px 8px"},children:""})]}),f.jsxs("div",{style:{padding:"16px",overflowY:"auto",flex:1},children:[f.jsxs("div",{role:"region","aria-label":"Overview statistics",style:{marginBottom:"20px"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:"bold",color:"#374151"},children:"Overview"}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[f.jsxs("div",{style:{padding:"10px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[f.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"4px"},children:"Total Nodes"}),f.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#3b82f6"},children:xr(e.length)})]}),f.jsxs("div",{style:{padding:"10px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[f.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"4px"},children:"Max Depth"}),f.jsxs("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#8b5cf6"},children:[s," ",s===1?"level":"levels"]})]}),f.jsxs("div",{style:{padding:"10px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[f.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"4px"},children:"Tree Edges"}),f.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#10b981"},children:xr(S)})]}),f.jsxs("div",{style:{padding:"10px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[f.jsx("div",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"4px"},children:"Cross-Links"}),f.jsx("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#f59e0b"},children:xr(E)})]})]})]}),f.jsxs("div",{role:"region","aria-label":"Content statistics",style:{marginBottom:"20px"},children:[f.jsx("h3",{style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:"bold",color:"#374151"},children:"Content"}),f.jsxs("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[f.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Total characters:"}),f.jsx("span",{style:{fontSize:"13px",fontWeight:"500"},children:xr(g)})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[f.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Total words:"}),f.jsx("span",{style:{fontSize:"13px",fontWeight:"500"},children:xr(m)})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Avg characters per node:"}),f.jsx("span",{style:{fontSize:"13px",fontWeight:"500"},children:e.length>0?(g/e.length).toFixed(1):"0"})]})]})]}),x&&f.jsxs("div",{role:"region","aria-labelledby":"selected-node-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"selected-node-title",style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:"bold",color:"#374151"},children:"Selected Node"}),f.jsxs("div",{style:{padding:"12px",background:"#eff6ff",borderRadius:"6px",border:"1px solid #bfdbfe"},children:[f.jsxs("div",{style:{fontSize:"13px",fontWeight:"500",marginBottom:"8px",color:"#1e40af"},children:['"',x.data.label.substring(0,30),x.data.label.length>30?"...":"",'"']}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Characters:"}),f.jsx("span",{style:{fontSize:"13px",fontWeight:"500"},children:y})]}),f.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[f.jsx("span",{style:{fontSize:"12px",color:"#6b7280"},children:"Words:"}),f.jsx("span",{style:{fontSize:"13px",fontWeight:"500"},children:v})]})]})]}),Object.keys(c).length>0&&f.jsxs("div",{role:"region","aria-labelledby":"nodes-by-level-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"nodes-by-level-title",style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:"bold",color:"#374151"},children:"Nodes by Level"}),f.jsx("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb",display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(c).sort(([w],[_])=>parseInt(w)-parseInt(_)).map(([w,_])=>f.jsxs("div",{style:{padding:"6px 10px",background:"white",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px"},children:["Level ",w,": ",f.jsx("strong",{children:_})]},w))})]}),Object.keys(d).length>0&&f.jsxs("div",{role:"region","aria-labelledby":"icon-distribution-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"icon-distribution-title",style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:"bold",color:"#374151"},children:"Icons Used"}),f.jsx("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb",display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(d).map(([w,_])=>f.jsxs("div",{style:{padding:"6px 10px",background:"white",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},children:[f.jsx("span",{children:w}),f.jsxs("strong",{children:["",_]})]},w))})]}),Object.keys(h).length>0&&f.jsxs("div",{role:"region","aria-labelledby":"cloud-distribution-title",children:[f.jsx("h3",{id:"cloud-distribution-title",style:{margin:"0 0 10px 0",fontSize:"13px",fontWeight:"bold",color:"#374151"},children:"Clouds Used"}),f.jsx("div",{style:{padding:"12px",background:"#f9fafb",borderRadius:"6px",border:"1px solid #e5e7eb",display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.entries(h).map(([w,_])=>f.jsxs("div",{style:{padding:"6px 10px",background:"white",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px",display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("div",{style:{width:"16px",height:"16px",borderRadius:"50%",background:w,border:"1px solid #d1d5db"}}),f.jsxs("strong",{children:["",_]})]},w))})]})]})]})}function Ab({isOpen:e=!1,onClose:l,trapFocus:o=!0,autoFocus:a=!0,restoreFocus:s=!0}={}){const c=A.useRef(null),d=A.useRef(null);return A.useEffect(()=>{e&&s&&(d.current=document.activeElement)},[e,s]),A.useEffect(()=>{if(!e||!a||!c.current)return;const h=setTimeout(()=>{const g=C0(c.current);g.length>0&&g[0].focus()},10);return()=>clearTimeout(h)},[e,a]),A.useEffect(()=>{if(!(!e||!s))return()=>{const h=d.current;h&&document.contains(h)&&h.focus()}},[e,s]),A.useEffect(()=>{if(!e||!c.current)return;const h=g=>{if(g.key==="Escape"&&l){g.preventDefault(),l();return}if(g.key==="Tab"&&o){const m=C0(c.current);if(m.length===0){g.preventDefault();return}const x=m[0],y=m[m.length-1];if(g.shiftKey&&document.activeElement===x){g.preventDefault(),y.focus();return}if(!g.shiftKey&&document.activeElement===y){g.preventDefault(),x.focus();return}}};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[e,l,o]),c}function C0(e){const l=["button:not([disabled])","a[href]","input:not([disabled])","textarea:not([disabled])","select:not([disabled])",'[tabindex]:not([tabindex="-1"])','[contenteditable="true"]'].join(", ");return Array.from(e.querySelectorAll(l)).filter(a=>{const s=window.getComputedStyle(a);return s.display!=="none"&&s.visibility!=="hidden"&&a.offsetParent!==null})}const Tb=[{keys:["Tab"],action:"Create child node",category:"Node Operations"},{keys:["Enter"],action:"Create sibling node",category:"Node Operations"},{keys:["Delete","Backspace"],action:"Delete selected node",category:"Node Operations"},{keys:["E"],action:"Edit node text",category:"Node Operations"},{keys:["Space"],action:"Toggle collapse state",category:"Node Operations"},{keys:["Shift","Click"],action:"Multi-select nodes",category:"Node Operations"},{keys:["Ctrl","A"],action:"Select all nodes",category:"Node Operations"},{keys:["Ctrl","+"],action:"Zoom in",category:"Navigation & View"},{keys:["Ctrl","-"],action:"Zoom out",category:"Navigation & View"},{keys:["Ctrl","0"],action:"Fit view to all nodes",category:"Navigation & View"},{keys:["Ctrl","Z"],action:"Undo",category:"Editing"},{keys:["Ctrl","Shift","Z"],action:"Redo",category:"Editing"},{keys:["Ctrl","Y"],action:"Redo",category:"Editing"},{keys:["Ctrl","S"],action:"Manual save",category:"Editing"},{keys:["Ctrl","F"],action:"Open search panel",category:"Search & Navigation"},{keys:["Ctrl","G"],action:"Next search result",category:"Search & Navigation"},{keys:["Ctrl","Shift","G"],action:"Previous search result",category:"Search & Navigation"},{keys:["Ctrl","N"],action:"Toggle notes panel",category:"Panels"},{keys:["Ctrl","H"],action:"Toggle save history",category:"Panels"},{keys:["Ctrl","Shift","H"],action:"Toggle undo/redo history",category:"Panels"},{keys:["Ctrl","I"],action:"Toggle statistics",category:"Panels"},{keys:["Ctrl","Shift","A"],action:"Toggle AI Assistant",category:"Panels"},{keys:["Ctrl","Shift","C"],action:"Toggle comments panel",category:"Panels"},{keys:["Escape"],action:"Close panels",category:"Panels"},{keys:["?"],action:"Show keyboard shortcuts",category:"Panels"}],A0=Array.from(new Set(Tb.map(e=>e.category)));function H_({onClose:e}){const[l,o]=A.useState(""),[a,s]=A.useState(null),[c,d]=A.useState(!1),h=Ab({isOpen:!0,onClose:e,trapFocus:!0,autoFocus:!0,restoreFocus:!0});A.useEffect(()=>{const m=()=>{d(window.innerWidth<768)};return m(),window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const g=Tb.filter(m=>{const x=!l||m.action.toLowerCase().includes(l.toLowerCase())||m.keys.some(v=>v.toLowerCase().includes(l.toLowerCase())),y=!a||m.category===a;return x&&y});return f.jsxs("div",{ref:h,role:"dialog","aria-modal":"true","aria-labelledby":"keyboard-shortcuts-title",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:c?"90vw":"500px",maxWidth:c?"95vw":"650px",maxHeight:"80vh",display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsx("h2",{id:"keyboard-shortcuts-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:" Keyboard Shortcuts"}),f.jsx("button",{onClick:e,"aria-label":"Close keyboard shortcuts",style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#6b7280",padding:"4px 8px"},children:""})]}),f.jsxs("div",{role:"search",style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb"},children:[f.jsx("label",{htmlFor:"shortcuts-search",style:{display:"none"},children:"Search shortcuts"}),f.jsx("input",{id:"shortcuts-search",type:"text",value:l,onChange:m=>o(m.target.value),placeholder:"Search shortcuts...","aria-label":"Search keyboard shortcuts",style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px",outline:"none",marginBottom:"8px"}}),f.jsxs("div",{role:"group","aria-label":"Filter by category",style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[f.jsx("button",{onClick:()=>s(null),"aria-pressed":!a,style:{padding:"4px 10px",background:a?"#f3f4f6":"#3b82f6",color:a?"#374151":"white",border:"1px solid #d1d5db",borderRadius:"12px",cursor:"pointer",fontSize:"11px",fontWeight:"500"},children:"All"}),A0.map(m=>f.jsx("button",{onClick:()=>s(m),"aria-pressed":a===m,style:{padding:"4px 10px",background:a===m?"#3b82f6":"#f3f4f6",color:a===m?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"12px",cursor:"pointer",fontSize:"11px",fontWeight:"500"},children:m},m))]})]}),f.jsx("div",{role:"region","aria-label":"Keyboard shortcuts list",tabIndex:0,style:{padding:"12px",overflowY:"auto",flex:1},children:g.length===0?f.jsxs("div",{role:"status","aria-live":"polite",style:{padding:"24px",textAlign:"center",color:"#6b7280",fontSize:"14px"},children:['No shortcuts found matching "',l,'"']}):f.jsx("div",{role:"list",style:{display:"flex",flexDirection:"column",gap:"16px"},children:A0.filter(m=>!a||m===a).map(m=>f.jsxs("div",{role:"group","aria-label":m,children:[f.jsx("h3",{style:{margin:"0 0 8px 0",fontSize:"12px",fontWeight:"bold",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:m}),f.jsx("div",{role:"list",style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"8px"},children:g.filter(x=>x.category===m).map((x,y)=>f.jsxs("div",{role:"listitem",style:{padding:"8px 10px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"12px"},children:[f.jsx("span",{style:{color:"#374151"},children:x.action}),f.jsx("div",{style:{display:"flex",gap:"2px"},children:x.keys.map((v,S)=>f.jsxs("span",{children:[f.jsx("kbd",{style:{padding:"2px 6px",background:"white",border:"1px solid #d1d5db",borderRadius:"3px",fontSize:"11px",fontFamily:"monospace",fontWeight:"500"},children:v}),S<x.keys.length-1&&"+"]},S))})]},y))})]},m))})}),f.jsxs("div",{style:{padding:"12px 16px",borderTop:"1px solid #e5e7eb",fontSize:"11px",color:"#6b7280",background:"#f9fafb",borderRadius:"0 0 8px 8px",textAlign:"center"},children:["Press"," ",f.jsx("kbd",{style:{padding:"2px 4px",background:"white",border:"1px solid #d1d5db",borderRadius:"3px",fontSize:"10px"},children:"?"})," ","anytime to open this help"]})]})}const U_=["star","flag","heart","check","warning","idea","question","thumbs-up","thumbs-down","bookmark"],I_=[{name:"Red",value:"#fecaca"},{name:"Blue",value:"#bfdbfe"},{name:"Green",value:"#bbf7d0"},{name:"Yellow",value:"#fef08a"},{name:"Purple",value:"#e9d5ff"},{name:"Pink",value:"#fbcfe8"},{name:"Orange",value:"#fed7aa"},{name:"Gray",value:"#e5e7eb"}],Y_=[{name:"White",value:"white"},{name:"Light Red",value:"#fecaca"},{name:"Light Blue",value:"#bfdbfe"},{name:"Light Green",value:"#bbf7d0"},{name:"Light Yellow",value:"#fef08a"},{name:"Light Purple",value:"#e9d5ff"}];function $_({selectedCount:e,onBulkDelete:l,onBulkIconChange:o,onBulkCloudChange:a,onBulkColorChange:s,availableIcons:c,onClearSelection:d,onClose:h}){const[g,m]=A.useState(!1),[x,y]=A.useState(!1),[v,S]=A.useState(!1),[E,w]=A.useState(!1);return A.useEffect(()=>{const _=()=>{w(window.innerWidth<768)};return _(),window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)},[]),f.jsxs("div",{role:"region","aria-label":"Bulk operations panel",style:{position:"fixed",bottom:E?"70px":"20px",left:"50%",transform:"translateX(-50%)",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",zIndex:1e3,minWidth:E?"90vw":"400px",maxWidth:E?"95vw":"600px"},children:[f.jsxs("div",{style:{padding:"12px 16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("h2",{id:"bulk-ops-title",style:{margin:0,fontSize:"14px",fontWeight:"bold"},children:[" Bulk Operations (",e," nodes selected)"]}),f.jsx("button",{onClick:h,"aria-label":"Close bulk operations panel",style:{background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#6b7280",padding:"4px 8px"},children:""})]}),f.jsxs("div",{style:{padding:"12px 16px"},children:[f.jsxs("div",{role:"group","aria-label":"Bulk actions",style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"12px"},children:[f.jsx("button",{onClick:l,"aria-label":`Delete all ${e} selected nodes`,style:{padding:"6px 12px",background:"#fef2f2",color:"#dc2626",border:"1px solid #fecaca",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},title:"Delete all selected nodes",children:" Delete All"}),f.jsxs("div",{style:{position:"relative"},children:[f.jsx("button",{onClick:()=>{m(!g),y(!1),S(!1)},"aria-expanded":g,"aria-haspopup":"true",style:{padding:"6px 12px",background:g?"#3b82f6":"#f3f4f6",color:g?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:" Set Icon"}),g&&f.jsxs("div",{role:"menu","aria-label":"Select icon",style:{position:"absolute",bottom:"100%",left:0,marginBottom:"4px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",padding:"8px",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"4px",minWidth:"200px"},children:[f.jsx("button",{role:"menuitem",onClick:()=>{o(null),m(!1)},style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px",gridColumn:"1 / -1"},children:"Clear Icons"}),U_.map(_=>{const C=c.includes(_);return f.jsx("button",{role:"menuitem",onClick:()=>{o(_),m(!1)},"aria-label":`Set ${_} icon`,style:{padding:"4px",background:C?"#eff6ff":"white",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},title:_,children:G_(_)},_)})]})]}),f.jsxs("div",{style:{position:"relative"},children:[f.jsx("button",{onClick:()=>{y(!x),m(!1),S(!1)},"aria-expanded":x,"aria-haspopup":"true",style:{padding:"6px 12px",background:x?"#3b82f6":"#f3f4f6",color:x?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:" Set Cloud"}),x&&f.jsxs("div",{role:"menu","aria-label":"Select cloud color",style:{position:"absolute",bottom:"100%",left:0,marginBottom:"4px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",padding:"8px",display:"flex",flexDirection:"column",gap:"4px",minWidth:"150px"},children:[f.jsx("button",{role:"menuitem",onClick:()=>{a(null),y(!1)},style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:"Clear Clouds"}),I_.map(_=>f.jsx("button",{role:"menuitem",onClick:()=>{a({color:_.value}),y(!1)},"aria-label":`Set ${_.name} cloud`,style:{padding:"4px 8px",background:_.value,border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px",textAlign:"left"},children:_.name},_.value))]})]}),f.jsxs("div",{style:{position:"relative"},children:[f.jsx("button",{onClick:()=>{S(!v),m(!1),y(!1)},"aria-expanded":v,"aria-haspopup":"true",style:{padding:"6px 12px",background:v?"#3b82f6":"#f3f4f6",color:v?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:" Set Color"}),v&&f.jsx("div",{role:"menu","aria-label":"Select node color",style:{position:"absolute",bottom:"100%",left:0,marginBottom:"4px",background:"white",border:"1px solid #d1d5db",borderRadius:"6px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",padding:"8px",display:"flex",flexDirection:"column",gap:"4px",minWidth:"150px"},children:Y_.map(_=>f.jsx("button",{role:"menuitem",onClick:()=>{s(_.value),S(!1)},"aria-label":`Set ${_.name} color`,style:{padding:"4px 8px",background:_.value,border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px",textAlign:"left"},children:_.name},_.value))})]}),f.jsx("button",{onClick:d,"aria-label":"Clear all selections",style:{padding:"6px 12px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"12px",fontWeight:"500"},children:" Clear Selection"})]}),f.jsx("div",{role:"note","aria-label":"Usage tip",style:{fontSize:"11px",color:"#6b7280",textAlign:"center",paddingTop:"8px",borderTop:"1px solid #e5e7eb"},children:"Tip: Use Shift+Click to add/remove nodes from selection  Ctrl+A to select all"})]})]})}function G_(e){return{star:"",flag:"",heart:"",check:"",warning:"",idea:"",question:"","thumbs-up":"","thumbs-down":"",bookmark:""}[e]||""}function W_({onZoomIn:e,onZoomOut:l,onFitView:o,onAddNode:a,onUndo:s,onRedo:c,onToggleNotes:d,onToggleSearch:h,canUndo:g,canRedo:m,hasSelection:x}){return f.jsxs("div",{role:"toolbar","aria-label":"Mind map editing toolbar",style:{position:"fixed",bottom:0,left:0,right:0,background:"white",borderTop:"1px solid #d1d5db",padding:"8px 12px",display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"8px",zIndex:1e3,boxShadow:"0 -2px 8px rgba(0,0,0,0.1)"},children:[f.jsx("button",{onClick:l,style:Ol,"aria-label":"Zoom out",children:""}),f.jsx("button",{onClick:o,style:Ol,"aria-label":"Fit view",children:""}),f.jsx("button",{onClick:e,style:Ol,"aria-label":"Zoom in",children:"+"}),f.jsx("button",{onClick:a,style:Ol,"aria-label":"Add node",children:"+"}),f.jsx("button",{onClick:h,style:Ol,"aria-label":"Search",children:""}),f.jsx("button",{onClick:s,disabled:!g,style:{...Ol,opacity:g?1:.3},"aria-label":g?"Undo last action":"Cannot undo",children:""}),f.jsx("button",{onClick:c,disabled:!m,style:{...Ol,opacity:m?1:.3},"aria-label":m?"Redo last action":"Cannot redo",children:""}),x&&f.jsx("button",{onClick:d,style:Ol,"aria-label":"Toggle notes",children:""}),f.jsx("div",{style:{gridColumn:x?"span 2":"span 3"}})]})}const Ol={padding:"12px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"18px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"44px",minWidth:"44px",touchAction:"manipulation"};function q_({users:e,currentUser:l}){const o=e.filter(a=>a.id!==l.id);return o.length===0?null:f.jsxs(f.Fragment,{children:[o.map(a=>a.cursor&&f.jsxs("div",{role:"img","aria-label":`${a.name}'s cursor`,style:{position:"fixed",left:a.cursor.x,top:a.cursor.y,pointerEvents:"none",zIndex:9999,transition:"all 0.1s ease-out"},children:[f.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:f.jsx("path",{d:"M5.65376 12.3673H5.46026L5.31717 12.4976L0.500002 16.8829L0.500002 1.19138L11.7841 12.3673H5.65376Z",fill:a.color,stroke:"white",strokeWidth:"1"})}),f.jsx("div",{style:{position:"absolute",left:"16px",top:"16px",background:a.color,color:"white",padding:"2px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"bold",whiteSpace:"nowrap",boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},children:a.name})]},a.id)),f.jsxs("div",{role:"region","aria-labelledby":"presence-title",style:{position:"fixed",top:"20px",right:"20px",background:"white",border:"1px solid #d1d5db",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",padding:"12px",zIndex:1e3,minWidth:"200px"},children:[f.jsxs("h3",{id:"presence-title",style:{margin:"0 0 8px 0",fontSize:"12px",fontWeight:"bold",color:"#374151"},children:[" Online (",e.length,")"]}),f.jsx("div",{role:"list","aria-label":"Online users",style:{display:"flex",flexDirection:"column",gap:"6px"},children:e.map(a=>f.jsxs("div",{role:"listitem","aria-label":`${a.name}${a.id===l.id?" (you)":""}`,style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px"},children:[f.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:a.color,animation:"pulse 2s ease-in-out infinite"},"aria-hidden":"true"}),f.jsx("span",{style:{flex:1},children:a.name}),a.id===l.id&&f.jsx("span",{style:{fontSize:"10px",color:"#6b7280",fontStyle:"italic"},children:"(you)"})]},a.id))})]}),f.jsx("style",{children:`
        @keyframes pulse {
          0%, 100% {
            opacity: 1;
            transform: scale(1);
          }
          50% {
            opacity: 0.7;
            transform: scale(1.2);
          }
        }
      `})]})}class Zi extends A.Component{constructor(l){super(l),this.state={hasError:!1,error:null}}static getDerivedStateFromError(l){return{hasError:!0,error:l}}componentDidCatch(l,o){this.props.onError?.(l)}handleRetry=()=>{this.setState({hasError:!1,error:null})};render(){const{hasError:l,error:o}=this.state,{name:a,fallback:s,children:c}=this.props;return l?s?f.jsx(f.Fragment,{children:s}):f.jsxs("div",{style:{padding:"16px",margin:"16px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#991b1b"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),f.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Something went wrong"})]}),f.jsxs("p",{style:{fontSize:"14px",marginBottom:"8px"},children:["The ",f.jsx("strong",{children:a})," feature encountered an error."]}),o&&!1,f.jsx("p",{style:{fontSize:"13px",marginBottom:"12px",color:"#b91c1c"},children:"Please try refreshing the page. If the problem persists, contact support."}),f.jsx("button",{onClick:this.handleRetry,style:{padding:"8px 16px",background:"#dc2626",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Try Again"})]}):f.jsx(f.Fragment,{children:c})}}function V_(e){try{return JSON.parse(e)}catch{throw new Error("Invalid JSON format")}}function X_(e){return JSON.stringify(e,null,2)}function F_(e){const a=new DOMParser().parseFromString(e,"text/xml").querySelector("map > node");if(!a)throw new Error("Invalid FreeMind format: no root node found");return _b(a)}function _b(e){const l=[],o=e.children;for(let x=0;x<o.length;x++){const y=o[x];y.tagName==="node"&&l.push(_b(y))}let a,s,c,d,h,g,m;for(let x=0;x<o.length;x++){const y=o[x];y.tagName==="icon"?a=y.getAttribute("BUILTIN")||void 0:y.tagName==="edge"?s={color:y.getAttribute("COLOR")||void 0,width:y.getAttribute("WIDTH")?parseInt(y.getAttribute("WIDTH"),10):void 0,style:y.getAttribute("STYLE")||void 0}:y.tagName==="font"?(c=y.getAttribute("NAME")||void 0,d=y.getAttribute("SIZE")?parseInt(y.getAttribute("SIZE"),10):void 0,h=y.getAttribute("BOLD")==="true",g=y.getAttribute("ITALIC")==="true"):y.tagName==="cloud"&&(m={color:y.getAttribute("COLOR")||void 0})}return{id:bn(),content:e.getAttribute("TEXT")||"Untitled",children:l,style:{color:e.getAttribute("COLOR")||void 0,backgroundColor:e.getAttribute("BACKGROUND_COLOR")||void 0,fontName:c,fontSize:d,bold:h,italic:g},collapsed:e.getAttribute("FOLDED")==="true",link:e.getAttribute("LINK")||void 0,created:e.getAttribute("CREATED")?parseInt(e.getAttribute("CREATED"),10):void 0,modified:e.getAttribute("MODIFIED")?parseInt(e.getAttribute("MODIFIED"),10):void 0,icon:a,edgeStyle:s,cloud:m}}function K_(e){function l(a,s=0){const c="  ".repeat(s),d=[`TEXT="${rc(a.content)}"`,a.style?.color?`COLOR="${a.style.color}"`:"",a.style?.backgroundColor?`BACKGROUND_COLOR="${a.style.backgroundColor}"`:"",a.collapsed?'FOLDED="true"':"",a.link?`LINK="${rc(a.link)}"`:"",a.created?`CREATED="${a.created}"`:"",a.modified?`MODIFIED="${a.modified}"`:""].filter(Boolean).join(" ");let h=`${c}<node ${d}>
`;if(a.icon&&(h+=`${c}  <icon BUILTIN="${rc(a.icon)}"/>
`),a.edgeStyle){const g=[a.edgeStyle.color?`COLOR="${a.edgeStyle.color}"`:"",a.edgeStyle.width?`WIDTH="${a.edgeStyle.width}"`:"",a.edgeStyle.style?`STYLE="${a.edgeStyle.style}"`:""].filter(Boolean).join(" ");g&&(h+=`${c}  <edge ${g}/>
`)}if(a.style?.fontName||a.style?.fontSize!==void 0||a.style?.bold!==void 0||a.style?.italic!==void 0){const g=[a.style.fontName?`NAME="${rc(a.style.fontName)}"`:"",a.style.fontSize!==void 0?`SIZE="${a.style.fontSize}"`:"",a.style.bold!==void 0?`BOLD="${a.style.bold}"`:"",a.style.italic!==void 0?`ITALIC="${a.style.italic}"`:""].filter(Boolean).join(" ");g&&(h+=`${c}  <font ${g}/>
`)}if(a.cloud){const g=[a.cloud.color?`COLOR="${a.cloud.color}"`:""].filter(Boolean).join(" ");h+=`${c}  <cloud ${g}/>
`}return a.children.length>0&&a.children.forEach(g=>{h+=l(g,s+1)}),h+=`${c}</node>
`,h}return`<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0.1">
${l(e,1)}</map>`}function rc(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}function Z_(e){const a=new DOMParser().parseFromString(e,"text/xml").querySelector("body");if(!a)throw new Error("Invalid OPML format: no body element found");const s=a.querySelector(":scope > outline");return s?kb(s):{id:bn(),content:"Root",children:[]}}function kb(e){const l=[];return e.querySelectorAll(":scope > outline").forEach(a=>{l.push(kb(a))}),{id:bn(),content:e.getAttribute("text")||e.getAttribute("title")||e.getAttribute("TEXT")||"Untitled",children:l}}function Q_(e){function l(a,s=1){const c="  ".repeat(s),d=a.content.replace(/"/g,"&quot;");let h=`${c}<outline text="${d}"`;return a.children.length>0?(h+=`>
`,a.children.forEach(g=>{h+=l(g,s+1)}),h+=`${c}</outline>
`):h+=`/>
`,h}return`<?xml version="1.0" encoding="UTF-8"?>
<opml version="2.0">
  <head>
    <title>Mind Map</title>
  </head>
  <body>
${e.children.map(a=>l(a)).join("")}
  </body>
</opml>`}function P_(e){const l=e.split(`
`).filter(s=>s.trim()!=="");if(l.length===0)return{id:bn(),content:"Root",children:[]};const o={id:bn(),content:l[0].trim(),children:[]},a=[{node:o,indent:-1}];for(let s=1;s<l.length;s++){const c=l[s],d=J_(c),h=c.trim(),g={id:bn(),content:h,children:[]};for(;a.length>1&&a[a.length-1].indent>=d;)a.pop();a[a.length-1].node.children.push(g),a.push({node:g,indent:d})}return o}function J_(e){let l=0;for(;l<e.length&&(e[l]===" "||e[l]==="	");)l++;return Math.floor(l/2)}function e5(e){function l(o,a=0){const c=[`${"  ".repeat(a)}${o.content}`];return o.children.forEach(d=>{c.push(...l(d,a+1))}),c}return l(e).join(`
`)}function t5(e){const l=[];l.push("direction: right"),l.push("");function o(a,s){const c=a.content.replace(/"/g,'\\"'),d=a.id.replace(/-/g,"_");if(s){const h=s.replace(/-/g,"_");l.push(`${h}.${c}: ${d}`);const g=[];a.style?.color&&g.push(`stroke: ${a.style.color}`),a.style?.backgroundColor&&g.push(`fill: ${a.style.backgroundColor}`),a.icon&&g.push(`icon: ${a.icon}`),a.link&&g.push(`link: ${a.link}`),g.length>0&&(l.push(`${d}: {`),g.forEach(m=>l.push(`  ${m}`)),a.metadata?.description&&l.push(`  tooltip: ${a.metadata.description.replace(/"/g,'\\"')}`),l.push("}"))}else{const h=[];a.style?.color&&h.push(`stroke: ${a.style.color}`),a.style?.backgroundColor&&h.push(`fill: ${a.style.backgroundColor}`),a.icon&&h.push(`icon: ${a.icon}`),h.length>0?(l.push(`${c}: ${d} {`),h.forEach(g=>l.push(`  ${g}`)),l.push("}")):l.push(`${c}: ${d}`)}a.children&&a.children.length>0&&(a.children.length===1?o(a.children[0],a.id):(l.push(`${d}: {`),a.children.forEach(h=>{o(h,void 0)}),l.push("}")))}return o(e),l.join(`
`)}function jb(e){return typeof e>"u"||e===null}function n5(e){return typeof e=="object"&&e!==null}function i5(e){return Array.isArray(e)?e:jb(e)?[]:[e]}function l5(e,l){var o,a,s,c;if(l)for(c=Object.keys(l),o=0,a=c.length;o<a;o+=1)s=c[o],e[s]=l[s];return e}function o5(e,l){var o="",a;for(a=0;a<l;a+=1)o+=e;return o}function a5(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var r5=jb,s5=n5,c5=i5,u5=o5,d5=a5,f5=l5,Xt={isNothing:r5,isObject:s5,toArray:c5,repeat:u5,isNegativeZero:d5,extend:f5};function zb(e,l){var o="",a=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(o+='in "'+e.mark.name+'" '),o+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!l&&e.mark.snippet&&(o+=`

`+e.mark.snippet),a+" "+o):a}function Rr(e,l){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=l,this.message=zb(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Rr.prototype=Object.create(Error.prototype);Rr.prototype.constructor=Rr;Rr.prototype.toString=function(l){return this.name+": "+zb(this,l)};var vn=Rr;function vf(e,l,o,a,s){var c="",d="",h=Math.floor(s/2)-1;return a-l>h&&(c=" ... ",l=a-h+c.length),o-a>h&&(d=" ...",o=a+h-d.length),{str:c+e.slice(l,o).replace(/\t/g,"")+d,pos:a-l+c.length}}function Sf(e,l){return Xt.repeat(" ",l-e.length)+e}function p5(e,l){if(l=Object.create(l||null),!e.buffer)return null;l.maxLength||(l.maxLength=79),typeof l.indent!="number"&&(l.indent=1),typeof l.linesBefore!="number"&&(l.linesBefore=3),typeof l.linesAfter!="number"&&(l.linesAfter=2);for(var o=/\r?\n|\r|\0/g,a=[0],s=[],c,d=-1;c=o.exec(e.buffer);)s.push(c.index),a.push(c.index+c[0].length),e.position<=c.index&&d<0&&(d=a.length-2);d<0&&(d=a.length-1);var h="",g,m,x=Math.min(e.line+l.linesAfter,s.length).toString().length,y=l.maxLength-(l.indent+x+3);for(g=1;g<=l.linesBefore&&!(d-g<0);g++)m=vf(e.buffer,a[d-g],s[d-g],e.position-(a[d]-a[d-g]),y),h=Xt.repeat(" ",l.indent)+Sf((e.line-g+1).toString(),x)+" | "+m.str+`
`+h;for(m=vf(e.buffer,a[d],s[d],e.position,y),h+=Xt.repeat(" ",l.indent)+Sf((e.line+1).toString(),x)+" | "+m.str+`
`,h+=Xt.repeat("-",l.indent+x+3+m.pos)+`^
`,g=1;g<=l.linesAfter&&!(d+g>=s.length);g++)m=vf(e.buffer,a[d+g],s[d+g],e.position-(a[d]-a[d+g]),y),h+=Xt.repeat(" ",l.indent)+Sf((e.line+g+1).toString(),x)+" | "+m.str+`
`;return h.replace(/\n$/,"")}var h5=p5,g5=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],m5=["scalar","sequence","mapping"];function x5(e){var l={};return e!==null&&Object.keys(e).forEach(function(o){e[o].forEach(function(a){l[String(a)]=o})}),l}function y5(e,l){if(l=l||{},Object.keys(l).forEach(function(o){if(g5.indexOf(o)===-1)throw new vn('Unknown option "'+o+'" is met in definition of "'+e+'" YAML type.')}),this.options=l,this.tag=e,this.kind=l.kind||null,this.resolve=l.resolve||function(){return!0},this.construct=l.construct||function(o){return o},this.instanceOf=l.instanceOf||null,this.predicate=l.predicate||null,this.represent=l.represent||null,this.representName=l.representName||null,this.defaultStyle=l.defaultStyle||null,this.multi=l.multi||!1,this.styleAliases=x5(l.styleAliases||null),m5.indexOf(this.kind)===-1)throw new vn('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var rn=y5;function T0(e,l){var o=[];return e[l].forEach(function(a){var s=o.length;o.forEach(function(c,d){c.tag===a.tag&&c.kind===a.kind&&c.multi===a.multi&&(s=d)}),o[s]=a}),o}function b5(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},l,o;function a(s){s.multi?(e.multi[s.kind].push(s),e.multi.fallback.push(s)):e[s.kind][s.tag]=e.fallback[s.tag]=s}for(l=0,o=arguments.length;l<o;l+=1)arguments[l].forEach(a);return e}function Xf(e){return this.extend(e)}Xf.prototype.extend=function(l){var o=[],a=[];if(l instanceof rn)a.push(l);else if(Array.isArray(l))a=a.concat(l);else if(l&&(Array.isArray(l.implicit)||Array.isArray(l.explicit)))l.implicit&&(o=o.concat(l.implicit)),l.explicit&&(a=a.concat(l.explicit));else throw new vn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");o.forEach(function(c){if(!(c instanceof rn))throw new vn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(c.loadKind&&c.loadKind!=="scalar")throw new vn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(c.multi)throw new vn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),a.forEach(function(c){if(!(c instanceof rn))throw new vn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var s=Object.create(Xf.prototype);return s.implicit=(this.implicit||[]).concat(o),s.explicit=(this.explicit||[]).concat(a),s.compiledImplicit=T0(s,"implicit"),s.compiledExplicit=T0(s,"explicit"),s.compiledTypeMap=b5(s.compiledImplicit,s.compiledExplicit),s};var Rb=Xf,Mb=new rn("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Nb=new rn("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Db=new rn("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Ob=new Rb({explicit:[Mb,Nb,Db]});function v5(e){if(e===null)return!0;var l=e.length;return l===1&&e==="~"||l===4&&(e==="null"||e==="Null"||e==="NULL")}function S5(){return null}function w5(e){return e===null}var Lb=new rn("tag:yaml.org,2002:null",{kind:"scalar",resolve:v5,construct:S5,predicate:w5,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function E5(e){if(e===null)return!1;var l=e.length;return l===4&&(e==="true"||e==="True"||e==="TRUE")||l===5&&(e==="false"||e==="False"||e==="FALSE")}function C5(e){return e==="true"||e==="True"||e==="TRUE"}function A5(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Bb=new rn("tag:yaml.org,2002:bool",{kind:"scalar",resolve:E5,construct:C5,predicate:A5,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function T5(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function _5(e){return 48<=e&&e<=55}function k5(e){return 48<=e&&e<=57}function j5(e){if(e===null)return!1;var l=e.length,o=0,a=!1,s;if(!l)return!1;if(s=e[o],(s==="-"||s==="+")&&(s=e[++o]),s==="0"){if(o+1===l)return!0;if(s=e[++o],s==="b"){for(o++;o<l;o++)if(s=e[o],s!=="_"){if(s!=="0"&&s!=="1")return!1;a=!0}return a&&s!=="_"}if(s==="x"){for(o++;o<l;o++)if(s=e[o],s!=="_"){if(!T5(e.charCodeAt(o)))return!1;a=!0}return a&&s!=="_"}if(s==="o"){for(o++;o<l;o++)if(s=e[o],s!=="_"){if(!_5(e.charCodeAt(o)))return!1;a=!0}return a&&s!=="_"}}if(s==="_")return!1;for(;o<l;o++)if(s=e[o],s!=="_"){if(!k5(e.charCodeAt(o)))return!1;a=!0}return!(!a||s==="_")}function z5(e){var l=e,o=1,a;if(l.indexOf("_")!==-1&&(l=l.replace(/_/g,"")),a=l[0],(a==="-"||a==="+")&&(a==="-"&&(o=-1),l=l.slice(1),a=l[0]),l==="0")return 0;if(a==="0"){if(l[1]==="b")return o*parseInt(l.slice(2),2);if(l[1]==="x")return o*parseInt(l.slice(2),16);if(l[1]==="o")return o*parseInt(l.slice(2),8)}return o*parseInt(l,10)}function R5(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Xt.isNegativeZero(e)}var Hb=new rn("tag:yaml.org,2002:int",{kind:"scalar",resolve:j5,construct:z5,predicate:R5,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),M5=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function N5(e){return!(e===null||!M5.test(e)||e[e.length-1]==="_")}function D5(e){var l,o;return l=e.replace(/_/g,"").toLowerCase(),o=l[0]==="-"?-1:1,"+-".indexOf(l[0])>=0&&(l=l.slice(1)),l===".inf"?o===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:l===".nan"?NaN:o*parseFloat(l,10)}var O5=/^[-+]?[0-9]+e/;function L5(e,l){var o;if(isNaN(e))switch(l){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(l){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(l){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Xt.isNegativeZero(e))return"-0.0";return o=e.toString(10),O5.test(o)?o.replace("e",".e"):o}function B5(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Xt.isNegativeZero(e))}var Ub=new rn("tag:yaml.org,2002:float",{kind:"scalar",resolve:N5,construct:D5,predicate:B5,represent:L5,defaultStyle:"lowercase"}),Ib=Ob.extend({implicit:[Lb,Bb,Hb,Ub]}),Yb=Ib,$b=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Gb=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function H5(e){return e===null?!1:$b.exec(e)!==null||Gb.exec(e)!==null}function U5(e){var l,o,a,s,c,d,h,g=0,m=null,x,y,v;if(l=$b.exec(e),l===null&&(l=Gb.exec(e)),l===null)throw new Error("Date resolve error");if(o=+l[1],a=+l[2]-1,s=+l[3],!l[4])return new Date(Date.UTC(o,a,s));if(c=+l[4],d=+l[5],h=+l[6],l[7]){for(g=l[7].slice(0,3);g.length<3;)g+="0";g=+g}return l[9]&&(x=+l[10],y=+(l[11]||0),m=(x*60+y)*6e4,l[9]==="-"&&(m=-m)),v=new Date(Date.UTC(o,a,s,c,d,h,g)),m&&v.setTime(v.getTime()-m),v}function I5(e){return e.toISOString()}var Wb=new rn("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:H5,construct:U5,instanceOf:Date,represent:I5});function Y5(e){return e==="<<"||e===null}var qb=new rn("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Y5}),vp=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function $5(e){if(e===null)return!1;var l,o,a=0,s=e.length,c=vp;for(o=0;o<s;o++)if(l=c.indexOf(e.charAt(o)),!(l>64)){if(l<0)return!1;a+=6}return a%8===0}function G5(e){var l,o,a=e.replace(/[\r\n=]/g,""),s=a.length,c=vp,d=0,h=[];for(l=0;l<s;l++)l%4===0&&l&&(h.push(d>>16&255),h.push(d>>8&255),h.push(d&255)),d=d<<6|c.indexOf(a.charAt(l));return o=s%4*6,o===0?(h.push(d>>16&255),h.push(d>>8&255),h.push(d&255)):o===18?(h.push(d>>10&255),h.push(d>>2&255)):o===12&&h.push(d>>4&255),new Uint8Array(h)}function W5(e){var l="",o=0,a,s,c=e.length,d=vp;for(a=0;a<c;a++)a%3===0&&a&&(l+=d[o>>18&63],l+=d[o>>12&63],l+=d[o>>6&63],l+=d[o&63]),o=(o<<8)+e[a];return s=c%3,s===0?(l+=d[o>>18&63],l+=d[o>>12&63],l+=d[o>>6&63],l+=d[o&63]):s===2?(l+=d[o>>10&63],l+=d[o>>4&63],l+=d[o<<2&63],l+=d[64]):s===1&&(l+=d[o>>2&63],l+=d[o<<4&63],l+=d[64],l+=d[64]),l}function q5(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Vb=new rn("tag:yaml.org,2002:binary",{kind:"scalar",resolve:$5,construct:G5,predicate:q5,represent:W5}),V5=Object.prototype.hasOwnProperty,X5=Object.prototype.toString;function F5(e){if(e===null)return!0;var l=[],o,a,s,c,d,h=e;for(o=0,a=h.length;o<a;o+=1){if(s=h[o],d=!1,X5.call(s)!=="[object Object]")return!1;for(c in s)if(V5.call(s,c))if(!d)d=!0;else return!1;if(!d)return!1;if(l.indexOf(c)===-1)l.push(c);else return!1}return!0}function K5(e){return e!==null?e:[]}var Xb=new rn("tag:yaml.org,2002:omap",{kind:"sequence",resolve:F5,construct:K5}),Z5=Object.prototype.toString;function Q5(e){if(e===null)return!0;var l,o,a,s,c,d=e;for(c=new Array(d.length),l=0,o=d.length;l<o;l+=1){if(a=d[l],Z5.call(a)!=="[object Object]"||(s=Object.keys(a),s.length!==1))return!1;c[l]=[s[0],a[s[0]]]}return!0}function P5(e){if(e===null)return[];var l,o,a,s,c,d=e;for(c=new Array(d.length),l=0,o=d.length;l<o;l+=1)a=d[l],s=Object.keys(a),c[l]=[s[0],a[s[0]]];return c}var Fb=new rn("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Q5,construct:P5}),J5=Object.prototype.hasOwnProperty;function e3(e){if(e===null)return!0;var l,o=e;for(l in o)if(J5.call(o,l)&&o[l]!==null)return!1;return!0}function t3(e){return e!==null?e:{}}var Kb=new rn("tag:yaml.org,2002:set",{kind:"mapping",resolve:e3,construct:t3}),Sp=Yb.extend({implicit:[Wb,qb],explicit:[Vb,Xb,Fb,Kb]}),Gl=Object.prototype.hasOwnProperty,Cc=1,Zb=2,Qb=3,Ac=4,wf=1,n3=2,_0=3,i3=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,l3=/[\x85\u2028\u2029]/,o3=/[,\[\]\{\}]/,Pb=/^(?:!|!!|![a-z\-]+!)$/i,Jb=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function k0(e){return Object.prototype.toString.call(e)}function Ei(e){return e===10||e===13}function po(e){return e===9||e===32}function Rn(e){return e===9||e===32||e===10||e===13}function la(e){return e===44||e===91||e===93||e===123||e===125}function a3(e){var l;return 48<=e&&e<=57?e-48:(l=e|32,97<=l&&l<=102?l-97+10:-1)}function r3(e){return e===120?2:e===117?4:e===85?8:0}function s3(e){return 48<=e&&e<=57?e-48:-1}function j0(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?"":e===76?"\u2028":e===80?"\u2029":""}function c3(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function e1(e,l,o){l==="__proto__"?Object.defineProperty(e,l,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[l]=o}var t1=new Array(256),n1=new Array(256);for(var ta=0;ta<256;ta++)t1[ta]=j0(ta)?1:0,n1[ta]=j0(ta);function u3(e,l){this.input=e,this.filename=l.filename||null,this.schema=l.schema||Sp,this.onWarning=l.onWarning||null,this.legacy=l.legacy||!1,this.json=l.json||!1,this.listener=l.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function i1(e,l){var o={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return o.snippet=h5(o),new vn(l,o)}function Te(e,l){throw i1(e,l)}function Tc(e,l){e.onWarning&&e.onWarning.call(null,i1(e,l))}var z0={YAML:function(l,o,a){var s,c,d;l.version!==null&&Te(l,"duplication of %YAML directive"),a.length!==1&&Te(l,"YAML directive accepts exactly one argument"),s=/^([0-9]+)\.([0-9]+)$/.exec(a[0]),s===null&&Te(l,"ill-formed argument of the YAML directive"),c=parseInt(s[1],10),d=parseInt(s[2],10),c!==1&&Te(l,"unacceptable YAML version of the document"),l.version=a[0],l.checkLineBreaks=d<2,d!==1&&d!==2&&Tc(l,"unsupported YAML version of the document")},TAG:function(l,o,a){var s,c;a.length!==2&&Te(l,"TAG directive accepts exactly two arguments"),s=a[0],c=a[1],Pb.test(s)||Te(l,"ill-formed tag handle (first argument) of the TAG directive"),Gl.call(l.tagMap,s)&&Te(l,'there is a previously declared suffix for "'+s+'" tag handle'),Jb.test(c)||Te(l,"ill-formed tag prefix (second argument) of the TAG directive");try{c=decodeURIComponent(c)}catch{Te(l,"tag prefix is malformed: "+c)}l.tagMap[s]=c}};function Yl(e,l,o,a){var s,c,d,h;if(l<o){if(h=e.input.slice(l,o),a)for(s=0,c=h.length;s<c;s+=1)d=h.charCodeAt(s),d===9||32<=d&&d<=1114111||Te(e,"expected valid JSON character");else i3.test(h)&&Te(e,"the stream contains non-printable characters");e.result+=h}}function R0(e,l,o,a){var s,c,d,h;for(Xt.isObject(o)||Te(e,"cannot merge mappings; the provided source object is unacceptable"),s=Object.keys(o),d=0,h=s.length;d<h;d+=1)c=s[d],Gl.call(l,c)||(e1(l,c,o[c]),a[c]=!0)}function oa(e,l,o,a,s,c,d,h,g){var m,x;if(Array.isArray(s))for(s=Array.prototype.slice.call(s),m=0,x=s.length;m<x;m+=1)Array.isArray(s[m])&&Te(e,"nested arrays are not supported inside keys"),typeof s=="object"&&k0(s[m])==="[object Object]"&&(s[m]="[object Object]");if(typeof s=="object"&&k0(s)==="[object Object]"&&(s="[object Object]"),s=String(s),l===null&&(l={}),a==="tag:yaml.org,2002:merge")if(Array.isArray(c))for(m=0,x=c.length;m<x;m+=1)R0(e,l,c[m],o);else R0(e,l,c,o);else!e.json&&!Gl.call(o,s)&&Gl.call(l,s)&&(e.line=d||e.line,e.lineStart=h||e.lineStart,e.position=g||e.position,Te(e,"duplicated mapping key")),e1(l,s,c),delete o[s];return l}function wp(e){var l;l=e.input.charCodeAt(e.position),l===10?e.position++:l===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):Te(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function $t(e,l,o){for(var a=0,s=e.input.charCodeAt(e.position);s!==0;){for(;po(s);)s===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),s=e.input.charCodeAt(++e.position);if(l&&s===35)do s=e.input.charCodeAt(++e.position);while(s!==10&&s!==13&&s!==0);if(Ei(s))for(wp(e),s=e.input.charCodeAt(e.position),a++,e.lineIndent=0;s===32;)e.lineIndent++,s=e.input.charCodeAt(++e.position);else break}return o!==-1&&a!==0&&e.lineIndent<o&&Tc(e,"deficient indentation"),a}function Ic(e){var l=e.position,o;return o=e.input.charCodeAt(l),!!((o===45||o===46)&&o===e.input.charCodeAt(l+1)&&o===e.input.charCodeAt(l+2)&&(l+=3,o=e.input.charCodeAt(l),o===0||Rn(o)))}function Ep(e,l){l===1?e.result+=" ":l>1&&(e.result+=Xt.repeat(`
`,l-1))}function d3(e,l,o){var a,s,c,d,h,g,m,x,y=e.kind,v=e.result,S;if(S=e.input.charCodeAt(e.position),Rn(S)||la(S)||S===35||S===38||S===42||S===33||S===124||S===62||S===39||S===34||S===37||S===64||S===96||(S===63||S===45)&&(s=e.input.charCodeAt(e.position+1),Rn(s)||o&&la(s)))return!1;for(e.kind="scalar",e.result="",c=d=e.position,h=!1;S!==0;){if(S===58){if(s=e.input.charCodeAt(e.position+1),Rn(s)||o&&la(s))break}else if(S===35){if(a=e.input.charCodeAt(e.position-1),Rn(a))break}else{if(e.position===e.lineStart&&Ic(e)||o&&la(S))break;if(Ei(S))if(g=e.line,m=e.lineStart,x=e.lineIndent,$t(e,!1,-1),e.lineIndent>=l){h=!0,S=e.input.charCodeAt(e.position);continue}else{e.position=d,e.line=g,e.lineStart=m,e.lineIndent=x;break}}h&&(Yl(e,c,d,!1),Ep(e,e.line-g),c=d=e.position,h=!1),po(S)||(d=e.position+1),S=e.input.charCodeAt(++e.position)}return Yl(e,c,d,!1),e.result?!0:(e.kind=y,e.result=v,!1)}function f3(e,l){var o,a,s;if(o=e.input.charCodeAt(e.position),o!==39)return!1;for(e.kind="scalar",e.result="",e.position++,a=s=e.position;(o=e.input.charCodeAt(e.position))!==0;)if(o===39)if(Yl(e,a,e.position,!0),o=e.input.charCodeAt(++e.position),o===39)a=e.position,e.position++,s=e.position;else return!0;else Ei(o)?(Yl(e,a,s,!0),Ep(e,$t(e,!1,l)),a=s=e.position):e.position===e.lineStart&&Ic(e)?Te(e,"unexpected end of the document within a single quoted scalar"):(e.position++,s=e.position);Te(e,"unexpected end of the stream within a single quoted scalar")}function p3(e,l){var o,a,s,c,d,h;if(h=e.input.charCodeAt(e.position),h!==34)return!1;for(e.kind="scalar",e.result="",e.position++,o=a=e.position;(h=e.input.charCodeAt(e.position))!==0;){if(h===34)return Yl(e,o,e.position,!0),e.position++,!0;if(h===92){if(Yl(e,o,e.position,!0),h=e.input.charCodeAt(++e.position),Ei(h))$t(e,!1,l);else if(h<256&&t1[h])e.result+=n1[h],e.position++;else if((d=r3(h))>0){for(s=d,c=0;s>0;s--)h=e.input.charCodeAt(++e.position),(d=a3(h))>=0?c=(c<<4)+d:Te(e,"expected hexadecimal character");e.result+=c3(c),e.position++}else Te(e,"unknown escape sequence");o=a=e.position}else Ei(h)?(Yl(e,o,a,!0),Ep(e,$t(e,!1,l)),o=a=e.position):e.position===e.lineStart&&Ic(e)?Te(e,"unexpected end of the document within a double quoted scalar"):(e.position++,a=e.position)}Te(e,"unexpected end of the stream within a double quoted scalar")}function h3(e,l){var o=!0,a,s,c,d=e.tag,h,g=e.anchor,m,x,y,v,S,E=Object.create(null),w,_,C,R;if(R=e.input.charCodeAt(e.position),R===91)x=93,S=!1,h=[];else if(R===123)x=125,S=!0,h={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=h),R=e.input.charCodeAt(++e.position);R!==0;){if($t(e,!0,l),R=e.input.charCodeAt(e.position),R===x)return e.position++,e.tag=d,e.anchor=g,e.kind=S?"mapping":"sequence",e.result=h,!0;o?R===44&&Te(e,"expected the node content, but found ','"):Te(e,"missed comma between flow collection entries"),_=w=C=null,y=v=!1,R===63&&(m=e.input.charCodeAt(e.position+1),Rn(m)&&(y=v=!0,e.position++,$t(e,!0,l))),a=e.line,s=e.lineStart,c=e.position,ga(e,l,Cc,!1,!0),_=e.tag,w=e.result,$t(e,!0,l),R=e.input.charCodeAt(e.position),(v||e.line===a)&&R===58&&(y=!0,R=e.input.charCodeAt(++e.position),$t(e,!0,l),ga(e,l,Cc,!1,!0),C=e.result),S?oa(e,h,E,_,w,C,a,s,c):y?h.push(oa(e,null,E,_,w,C,a,s,c)):h.push(w),$t(e,!0,l),R=e.input.charCodeAt(e.position),R===44?(o=!0,R=e.input.charCodeAt(++e.position)):o=!1}Te(e,"unexpected end of the stream within a flow collection")}function g3(e,l){var o,a,s=wf,c=!1,d=!1,h=l,g=0,m=!1,x,y;if(y=e.input.charCodeAt(e.position),y===124)a=!1;else if(y===62)a=!0;else return!1;for(e.kind="scalar",e.result="";y!==0;)if(y=e.input.charCodeAt(++e.position),y===43||y===45)wf===s?s=y===43?_0:n3:Te(e,"repeat of a chomping mode identifier");else if((x=s3(y))>=0)x===0?Te(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):d?Te(e,"repeat of an indentation width identifier"):(h=l+x-1,d=!0);else break;if(po(y)){do y=e.input.charCodeAt(++e.position);while(po(y));if(y===35)do y=e.input.charCodeAt(++e.position);while(!Ei(y)&&y!==0)}for(;y!==0;){for(wp(e),e.lineIndent=0,y=e.input.charCodeAt(e.position);(!d||e.lineIndent<h)&&y===32;)e.lineIndent++,y=e.input.charCodeAt(++e.position);if(!d&&e.lineIndent>h&&(h=e.lineIndent),Ei(y)){g++;continue}if(e.lineIndent<h){s===_0?e.result+=Xt.repeat(`
`,c?1+g:g):s===wf&&c&&(e.result+=`
`);break}for(a?po(y)?(m=!0,e.result+=Xt.repeat(`
`,c?1+g:g)):m?(m=!1,e.result+=Xt.repeat(`
`,g+1)):g===0?c&&(e.result+=" "):e.result+=Xt.repeat(`
`,g):e.result+=Xt.repeat(`
`,c?1+g:g),c=!0,d=!0,g=0,o=e.position;!Ei(y)&&y!==0;)y=e.input.charCodeAt(++e.position);Yl(e,o,e.position,!1)}return!0}function M0(e,l){var o,a=e.tag,s=e.anchor,c=[],d,h=!1,g;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=c),g=e.input.charCodeAt(e.position);g!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Te(e,"tab characters must not be used in indentation")),!(g!==45||(d=e.input.charCodeAt(e.position+1),!Rn(d))));){if(h=!0,e.position++,$t(e,!0,-1)&&e.lineIndent<=l){c.push(null),g=e.input.charCodeAt(e.position);continue}if(o=e.line,ga(e,l,Qb,!1,!0),c.push(e.result),$t(e,!0,-1),g=e.input.charCodeAt(e.position),(e.line===o||e.lineIndent>l)&&g!==0)Te(e,"bad indentation of a sequence entry");else if(e.lineIndent<l)break}return h?(e.tag=a,e.anchor=s,e.kind="sequence",e.result=c,!0):!1}function m3(e,l,o){var a,s,c,d,h,g,m=e.tag,x=e.anchor,y={},v=Object.create(null),S=null,E=null,w=null,_=!1,C=!1,R;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=y),R=e.input.charCodeAt(e.position);R!==0;){if(!_&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,Te(e,"tab characters must not be used in indentation")),a=e.input.charCodeAt(e.position+1),c=e.line,(R===63||R===58)&&Rn(a))R===63?(_&&(oa(e,y,v,S,E,null,d,h,g),S=E=w=null),C=!0,_=!0,s=!0):_?(_=!1,s=!0):Te(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,R=a;else{if(d=e.line,h=e.lineStart,g=e.position,!ga(e,o,Zb,!1,!0))break;if(e.line===c){for(R=e.input.charCodeAt(e.position);po(R);)R=e.input.charCodeAt(++e.position);if(R===58)R=e.input.charCodeAt(++e.position),Rn(R)||Te(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(oa(e,y,v,S,E,null,d,h,g),S=E=w=null),C=!0,_=!1,s=!1,S=e.tag,E=e.result;else if(C)Te(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=m,e.anchor=x,!0}else if(C)Te(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=m,e.anchor=x,!0}if((e.line===c||e.lineIndent>l)&&(_&&(d=e.line,h=e.lineStart,g=e.position),ga(e,l,Ac,!0,s)&&(_?E=e.result:w=e.result),_||(oa(e,y,v,S,E,w,d,h,g),S=E=w=null),$t(e,!0,-1),R=e.input.charCodeAt(e.position)),(e.line===c||e.lineIndent>l)&&R!==0)Te(e,"bad indentation of a mapping entry");else if(e.lineIndent<l)break}return _&&oa(e,y,v,S,E,null,d,h,g),C&&(e.tag=m,e.anchor=x,e.kind="mapping",e.result=y),C}function x3(e){var l,o=!1,a=!1,s,c,d;if(d=e.input.charCodeAt(e.position),d!==33)return!1;if(e.tag!==null&&Te(e,"duplication of a tag property"),d=e.input.charCodeAt(++e.position),d===60?(o=!0,d=e.input.charCodeAt(++e.position)):d===33?(a=!0,s="!!",d=e.input.charCodeAt(++e.position)):s="!",l=e.position,o){do d=e.input.charCodeAt(++e.position);while(d!==0&&d!==62);e.position<e.length?(c=e.input.slice(l,e.position),d=e.input.charCodeAt(++e.position)):Te(e,"unexpected end of the stream within a verbatim tag")}else{for(;d!==0&&!Rn(d);)d===33&&(a?Te(e,"tag suffix cannot contain exclamation marks"):(s=e.input.slice(l-1,e.position+1),Pb.test(s)||Te(e,"named tag handle cannot contain such characters"),a=!0,l=e.position+1)),d=e.input.charCodeAt(++e.position);c=e.input.slice(l,e.position),o3.test(c)&&Te(e,"tag suffix cannot contain flow indicator characters")}c&&!Jb.test(c)&&Te(e,"tag name cannot contain such characters: "+c);try{c=decodeURIComponent(c)}catch{Te(e,"tag name is malformed: "+c)}return o?e.tag=c:Gl.call(e.tagMap,s)?e.tag=e.tagMap[s]+c:s==="!"?e.tag="!"+c:s==="!!"?e.tag="tag:yaml.org,2002:"+c:Te(e,'undeclared tag handle "'+s+'"'),!0}function y3(e){var l,o;if(o=e.input.charCodeAt(e.position),o!==38)return!1;for(e.anchor!==null&&Te(e,"duplication of an anchor property"),o=e.input.charCodeAt(++e.position),l=e.position;o!==0&&!Rn(o)&&!la(o);)o=e.input.charCodeAt(++e.position);return e.position===l&&Te(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(l,e.position),!0}function b3(e){var l,o,a;if(a=e.input.charCodeAt(e.position),a!==42)return!1;for(a=e.input.charCodeAt(++e.position),l=e.position;a!==0&&!Rn(a)&&!la(a);)a=e.input.charCodeAt(++e.position);return e.position===l&&Te(e,"name of an alias node must contain at least one character"),o=e.input.slice(l,e.position),Gl.call(e.anchorMap,o)||Te(e,'unidentified alias "'+o+'"'),e.result=e.anchorMap[o],$t(e,!0,-1),!0}function ga(e,l,o,a,s){var c,d,h,g=1,m=!1,x=!1,y,v,S,E,w,_;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,c=d=h=Ac===o||Qb===o,a&&$t(e,!0,-1)&&(m=!0,e.lineIndent>l?g=1:e.lineIndent===l?g=0:e.lineIndent<l&&(g=-1)),g===1)for(;x3(e)||y3(e);)$t(e,!0,-1)?(m=!0,h=c,e.lineIndent>l?g=1:e.lineIndent===l?g=0:e.lineIndent<l&&(g=-1)):h=!1;if(h&&(h=m||s),(g===1||Ac===o)&&(Cc===o||Zb===o?w=l:w=l+1,_=e.position-e.lineStart,g===1?h&&(M0(e,_)||m3(e,_,w))||h3(e,w)?x=!0:(d&&g3(e,w)||f3(e,w)||p3(e,w)?x=!0:b3(e)?(x=!0,(e.tag!==null||e.anchor!==null)&&Te(e,"alias node should not have any properties")):d3(e,w,Cc===o)&&(x=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):g===0&&(x=h&&M0(e,_))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&Te(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),y=0,v=e.implicitTypes.length;y<v;y+=1)if(E=e.implicitTypes[y],E.resolve(e.result)){e.result=E.construct(e.result),e.tag=E.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Gl.call(e.typeMap[e.kind||"fallback"],e.tag))E=e.typeMap[e.kind||"fallback"][e.tag];else for(E=null,S=e.typeMap.multi[e.kind||"fallback"],y=0,v=S.length;y<v;y+=1)if(e.tag.slice(0,S[y].tag.length)===S[y].tag){E=S[y];break}E||Te(e,"unknown tag !<"+e.tag+">"),e.result!==null&&E.kind!==e.kind&&Te(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+E.kind+'", not "'+e.kind+'"'),E.resolve(e.result,e.tag)?(e.result=E.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):Te(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||x}function v3(e){var l=e.position,o,a,s,c=!1,d;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(d=e.input.charCodeAt(e.position))!==0&&($t(e,!0,-1),d=e.input.charCodeAt(e.position),!(e.lineIndent>0||d!==37));){for(c=!0,d=e.input.charCodeAt(++e.position),o=e.position;d!==0&&!Rn(d);)d=e.input.charCodeAt(++e.position);for(a=e.input.slice(o,e.position),s=[],a.length<1&&Te(e,"directive name must not be less than one character in length");d!==0;){for(;po(d);)d=e.input.charCodeAt(++e.position);if(d===35){do d=e.input.charCodeAt(++e.position);while(d!==0&&!Ei(d));break}if(Ei(d))break;for(o=e.position;d!==0&&!Rn(d);)d=e.input.charCodeAt(++e.position);s.push(e.input.slice(o,e.position))}d!==0&&wp(e),Gl.call(z0,a)?z0[a](e,a,s):Tc(e,'unknown document directive "'+a+'"')}if($t(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,$t(e,!0,-1)):c&&Te(e,"directives end mark is expected"),ga(e,e.lineIndent-1,Ac,!1,!0),$t(e,!0,-1),e.checkLineBreaks&&l3.test(e.input.slice(l,e.position))&&Tc(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ic(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,$t(e,!0,-1));return}if(e.position<e.length-1)Te(e,"end of the stream or a document separator is expected");else return}function l1(e,l){e=String(e),l=l||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var o=new u3(e,l),a=e.indexOf("\0");for(a!==-1&&(o.position=a,Te(o,"null byte is not allowed in input")),o.input+="\0";o.input.charCodeAt(o.position)===32;)o.lineIndent+=1,o.position+=1;for(;o.position<o.length-1;)v3(o);return o.documents}function S3(e,l,o){l!==null&&typeof l=="object"&&typeof o>"u"&&(o=l,l=null);var a=l1(e,o);if(typeof l!="function")return a;for(var s=0,c=a.length;s<c;s+=1)l(a[s])}function w3(e,l){var o=l1(e,l);if(o.length!==0){if(o.length===1)return o[0];throw new vn("expected a single document in the stream, but found more")}}var E3=S3,C3=w3,o1={loadAll:E3,load:C3},a1=Object.prototype.toString,r1=Object.prototype.hasOwnProperty,Cp=65279,A3=9,Mr=10,T3=13,_3=32,k3=33,j3=34,Ff=35,z3=37,R3=38,M3=39,N3=42,s1=44,D3=45,_c=58,O3=61,L3=62,B3=63,H3=64,c1=91,u1=93,U3=96,d1=123,I3=124,f1=125,pn={};pn[0]="\\0";pn[7]="\\a";pn[8]="\\b";pn[9]="\\t";pn[10]="\\n";pn[11]="\\v";pn[12]="\\f";pn[13]="\\r";pn[27]="\\e";pn[34]='\\"';pn[92]="\\\\";pn[133]="\\N";pn[160]="\\_";pn[8232]="\\L";pn[8233]="\\P";var Y3=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],$3=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function G3(e,l){var o,a,s,c,d,h,g;if(l===null)return{};for(o={},a=Object.keys(l),s=0,c=a.length;s<c;s+=1)d=a[s],h=String(l[d]),d.slice(0,2)==="!!"&&(d="tag:yaml.org,2002:"+d.slice(2)),g=e.compiledTypeMap.fallback[d],g&&r1.call(g.styleAliases,h)&&(h=g.styleAliases[h]),o[d]=h;return o}function W3(e){var l,o,a;if(l=e.toString(16).toUpperCase(),e<=255)o="x",a=2;else if(e<=65535)o="u",a=4;else if(e<=4294967295)o="U",a=8;else throw new vn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+o+Xt.repeat("0",a-l.length)+l}var q3=1,Nr=2;function V3(e){this.schema=e.schema||Sp,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Xt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=G3(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?Nr:q3,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function N0(e,l){for(var o=Xt.repeat(" ",l),a=0,s=-1,c="",d,h=e.length;a<h;)s=e.indexOf(`
`,a),s===-1?(d=e.slice(a),a=h):(d=e.slice(a,s+1),a=s+1),d.length&&d!==`
`&&(c+=o),c+=d;return c}function Kf(e,l){return`
`+Xt.repeat(" ",e.indent*l)}function X3(e,l){var o,a,s;for(o=0,a=e.implicitTypes.length;o<a;o+=1)if(s=e.implicitTypes[o],s.resolve(l))return!0;return!1}function kc(e){return e===_3||e===A3}function Dr(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Cp||65536<=e&&e<=1114111}function D0(e){return Dr(e)&&e!==Cp&&e!==T3&&e!==Mr}function O0(e,l,o){var a=D0(e),s=a&&!kc(e);return(o?a:a&&e!==s1&&e!==c1&&e!==u1&&e!==d1&&e!==f1)&&e!==Ff&&!(l===_c&&!s)||D0(l)&&!kc(l)&&e===Ff||l===_c&&s}function F3(e){return Dr(e)&&e!==Cp&&!kc(e)&&e!==D3&&e!==B3&&e!==_c&&e!==s1&&e!==c1&&e!==u1&&e!==d1&&e!==f1&&e!==Ff&&e!==R3&&e!==N3&&e!==k3&&e!==I3&&e!==O3&&e!==L3&&e!==M3&&e!==j3&&e!==z3&&e!==H3&&e!==U3}function K3(e){return!kc(e)&&e!==_c}function Sr(e,l){var o=e.charCodeAt(l),a;return o>=55296&&o<=56319&&l+1<e.length&&(a=e.charCodeAt(l+1),a>=56320&&a<=57343)?(o-55296)*1024+a-56320+65536:o}function p1(e){var l=/^\n* /;return l.test(e)}var h1=1,Zf=2,g1=3,m1=4,na=5;function Z3(e,l,o,a,s,c,d,h){var g,m=0,x=null,y=!1,v=!1,S=a!==-1,E=-1,w=F3(Sr(e,0))&&K3(Sr(e,e.length-1));if(l||d)for(g=0;g<e.length;m>=65536?g+=2:g++){if(m=Sr(e,g),!Dr(m))return na;w=w&&O0(m,x,h),x=m}else{for(g=0;g<e.length;m>=65536?g+=2:g++){if(m=Sr(e,g),m===Mr)y=!0,S&&(v=v||g-E-1>a&&e[E+1]!==" ",E=g);else if(!Dr(m))return na;w=w&&O0(m,x,h),x=m}v=v||S&&g-E-1>a&&e[E+1]!==" "}return!y&&!v?w&&!d&&!s(e)?h1:c===Nr?na:Zf:o>9&&p1(e)?na:d?c===Nr?na:Zf:v?m1:g1}function Q3(e,l,o,a,s){e.dump=(function(){if(l.length===0)return e.quotingType===Nr?'""':"''";if(!e.noCompatMode&&(Y3.indexOf(l)!==-1||$3.test(l)))return e.quotingType===Nr?'"'+l+'"':"'"+l+"'";var c=e.indent*Math.max(1,o),d=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-c),h=a||e.flowLevel>-1&&o>=e.flowLevel;function g(m){return X3(e,m)}switch(Z3(l,h,e.indent,d,g,e.quotingType,e.forceQuotes&&!a,s)){case h1:return l;case Zf:return"'"+l.replace(/'/g,"''")+"'";case g1:return"|"+L0(l,e.indent)+B0(N0(l,c));case m1:return">"+L0(l,e.indent)+B0(N0(P3(l,d),c));case na:return'"'+J3(l)+'"';default:throw new vn("impossible error: invalid scalar style")}})()}function L0(e,l){var o=p1(e)?String(l):"",a=e[e.length-1]===`
`,s=a&&(e[e.length-2]===`
`||e===`
`),c=s?"+":a?"":"-";return o+c+`
`}function B0(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function P3(e,l){for(var o=/(\n+)([^\n]*)/g,a=(function(){var m=e.indexOf(`
`);return m=m!==-1?m:e.length,o.lastIndex=m,H0(e.slice(0,m),l)})(),s=e[0]===`
`||e[0]===" ",c,d;d=o.exec(e);){var h=d[1],g=d[2];c=g[0]===" ",a+=h+(!s&&!c&&g!==""?`
`:"")+H0(g,l),s=c}return a}function H0(e,l){if(e===""||e[0]===" ")return e;for(var o=/ [^ ]/g,a,s=0,c,d=0,h=0,g="";a=o.exec(e);)h=a.index,h-s>l&&(c=d>s?d:h,g+=`
`+e.slice(s,c),s=c+1),d=h;return g+=`
`,e.length-s>l&&d>s?g+=e.slice(s,d)+`
`+e.slice(d+1):g+=e.slice(s),g.slice(1)}function J3(e){for(var l="",o=0,a,s=0;s<e.length;o>=65536?s+=2:s++)o=Sr(e,s),a=pn[o],!a&&Dr(o)?(l+=e[s],o>=65536&&(l+=e[s+1])):l+=a||W3(o);return l}function ek(e,l,o){var a="",s=e.tag,c,d,h;for(c=0,d=o.length;c<d;c+=1)h=o[c],e.replacer&&(h=e.replacer.call(o,String(c),h)),(il(e,l,h,!1,!1)||typeof h>"u"&&il(e,l,null,!1,!1))&&(a!==""&&(a+=","+(e.condenseFlow?"":" ")),a+=e.dump);e.tag=s,e.dump="["+a+"]"}function U0(e,l,o,a){var s="",c=e.tag,d,h,g;for(d=0,h=o.length;d<h;d+=1)g=o[d],e.replacer&&(g=e.replacer.call(o,String(d),g)),(il(e,l+1,g,!0,!0,!1,!0)||typeof g>"u"&&il(e,l+1,null,!0,!0,!1,!0))&&((!a||s!=="")&&(s+=Kf(e,l)),e.dump&&Mr===e.dump.charCodeAt(0)?s+="-":s+="- ",s+=e.dump);e.tag=c,e.dump=s||"[]"}function tk(e,l,o){var a="",s=e.tag,c=Object.keys(o),d,h,g,m,x;for(d=0,h=c.length;d<h;d+=1)x="",a!==""&&(x+=", "),e.condenseFlow&&(x+='"'),g=c[d],m=o[g],e.replacer&&(m=e.replacer.call(o,g,m)),il(e,l,g,!1,!1)&&(e.dump.length>1024&&(x+="? "),x+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),il(e,l,m,!1,!1)&&(x+=e.dump,a+=x));e.tag=s,e.dump="{"+a+"}"}function nk(e,l,o,a){var s="",c=e.tag,d=Object.keys(o),h,g,m,x,y,v;if(e.sortKeys===!0)d.sort();else if(typeof e.sortKeys=="function")d.sort(e.sortKeys);else if(e.sortKeys)throw new vn("sortKeys must be a boolean or a function");for(h=0,g=d.length;h<g;h+=1)v="",(!a||s!=="")&&(v+=Kf(e,l)),m=d[h],x=o[m],e.replacer&&(x=e.replacer.call(o,m,x)),il(e,l+1,m,!0,!0,!0)&&(y=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,y&&(e.dump&&Mr===e.dump.charCodeAt(0)?v+="?":v+="? "),v+=e.dump,y&&(v+=Kf(e,l)),il(e,l+1,x,!0,y)&&(e.dump&&Mr===e.dump.charCodeAt(0)?v+=":":v+=": ",v+=e.dump,s+=v));e.tag=c,e.dump=s||"{}"}function I0(e,l,o){var a,s,c,d,h,g;for(s=o?e.explicitTypes:e.implicitTypes,c=0,d=s.length;c<d;c+=1)if(h=s[c],(h.instanceOf||h.predicate)&&(!h.instanceOf||typeof l=="object"&&l instanceof h.instanceOf)&&(!h.predicate||h.predicate(l))){if(o?h.multi&&h.representName?e.tag=h.representName(l):e.tag=h.tag:e.tag="?",h.represent){if(g=e.styleMap[h.tag]||h.defaultStyle,a1.call(h.represent)==="[object Function]")a=h.represent(l,g);else if(r1.call(h.represent,g))a=h.represent[g](l,g);else throw new vn("!<"+h.tag+'> tag resolver accepts not "'+g+'" style');e.dump=a}return!0}return!1}function il(e,l,o,a,s,c,d){e.tag=null,e.dump=o,I0(e,o,!1)||I0(e,o,!0);var h=a1.call(e.dump),g=a,m;a&&(a=e.flowLevel<0||e.flowLevel>l);var x=h==="[object Object]"||h==="[object Array]",y,v;if(x&&(y=e.duplicates.indexOf(o),v=y!==-1),(e.tag!==null&&e.tag!=="?"||v||e.indent!==2&&l>0)&&(s=!1),v&&e.usedDuplicates[y])e.dump="*ref_"+y;else{if(x&&v&&!e.usedDuplicates[y]&&(e.usedDuplicates[y]=!0),h==="[object Object]")a&&Object.keys(e.dump).length!==0?(nk(e,l,e.dump,s),v&&(e.dump="&ref_"+y+e.dump)):(tk(e,l,e.dump),v&&(e.dump="&ref_"+y+" "+e.dump));else if(h==="[object Array]")a&&e.dump.length!==0?(e.noArrayIndent&&!d&&l>0?U0(e,l-1,e.dump,s):U0(e,l,e.dump,s),v&&(e.dump="&ref_"+y+e.dump)):(ek(e,l,e.dump),v&&(e.dump="&ref_"+y+" "+e.dump));else if(h==="[object String]")e.tag!=="?"&&Q3(e,e.dump,l,c,g);else{if(h==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new vn("unacceptable kind of an object to dump "+h)}e.tag!==null&&e.tag!=="?"&&(m=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?m="!"+m:m.slice(0,18)==="tag:yaml.org,2002:"?m="!!"+m.slice(18):m="!<"+m+">",e.dump=m+" "+e.dump)}return!0}function ik(e,l){var o=[],a=[],s,c;for(Qf(e,o,a),s=0,c=a.length;s<c;s+=1)l.duplicates.push(o[a[s]]);l.usedDuplicates=new Array(c)}function Qf(e,l,o){var a,s,c;if(e!==null&&typeof e=="object")if(s=l.indexOf(e),s!==-1)o.indexOf(s)===-1&&o.push(s);else if(l.push(e),Array.isArray(e))for(s=0,c=e.length;s<c;s+=1)Qf(e[s],l,o);else for(a=Object.keys(e),s=0,c=a.length;s<c;s+=1)Qf(e[a[s]],l,o)}function lk(e,l){l=l||{};var o=new V3(l);o.noRefs||ik(e,o);var a=e;return o.replacer&&(a=o.replacer.call({"":a},"",a)),il(o,0,a,!0,!0)?o.dump+`
`:""}var ok=lk,ak={dump:ok};function Ap(e,l){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+l+" instead, which is now safe by default.")}}var rk=rn,sk=Rb,ck=Ob,uk=Ib,dk=Yb,fk=Sp,pk=o1.load,hk=o1.loadAll,gk=ak.dump,mk=vn,xk={binary:Vb,float:Ub,map:Db,null:Lb,pairs:Fb,set:Kb,timestamp:Wb,bool:Bb,int:Hb,merge:qb,omap:Xb,seq:Nb,str:Mb},yk=Ap("safeLoad","load"),bk=Ap("safeLoadAll","loadAll"),vk=Ap("safeDump","dump"),x1={Type:rk,Schema:sk,FAILSAFE_SCHEMA:ck,JSON_SCHEMA:uk,CORE_SCHEMA:dk,DEFAULT_SCHEMA:fk,load:pk,loadAll:hk,dump:gk,YAMLException:mk,types:xk,safeLoad:yk,safeLoadAll:bk,safeDump:vk};function Sk(e){const l=a=>{const s={content:a.content};return a.children&&a.children.length>0&&(s.children=a.children.map(l)),a.metadata&&(a.metadata.notes&&(s.notes=a.metadata.notes),a.metadata.link&&(s.link=a.metadata.link)),a.icon&&(s.icon=a.icon),a.cloud&&(s.cloud=a.cloud),s},o=l(e);return x1.dump(o,{indent:2,lineWidth:-1,noRefs:!0})}function wk(e){const l=x1.load(e);if(!l||typeof l!="object")throw new Error("Invalid YAML format");const o=a=>{const s={id:String(Date.now()+Math.random()),content:a.content||a.label||"Root",children:[]};return a.children&&Array.isArray(a.children)&&(s.children=a.children.map(o)),(a.notes||a.link)&&(s.metadata={},a.notes&&(s.metadata.notes=a.notes),a.link&&(s.metadata.link=a.link)),a.icon&&(s.icon=a.icon),a.cloud&&(s.cloud=a.cloud),s};return o(l)}function Y0(e){const l=b1(e);return Ek(l)}const y1={nodeWidth:120,nodeHeight:40,horizontalSpacing:80,verticalSpacing:60,edgeColor:"#666666",edgeWidth:2,fontSize:14,fontFamily:"Arial, sans-serif",padding:20};function b1(e,l=0,o=0,a=y1){const{nodeWidth:s,nodeHeight:c,verticalSpacing:d,horizontalSpacing:h}=a,g=o,m=l*(c+d),x={id:e.id,content:e.content,x:g,y:m,width:s,height:c,style:e.style,link:e.link,icon:e.icon,cloud:e.cloud,edgeStyle:e.edgeStyle,collapsed:e.collapsed,children:[]};if(!e.collapsed&&e.children&&e.children.length>0){let y=o-(e.children.length-1)*(s+h)/2;for(const v of e.children){const S=b1(v,l+1,y,a);x.children.push(S),y+=s+h}}return x}function Ek(e,l=y1){const{edgeColor:o,edgeWidth:a,fontSize:s,fontFamily:c,padding:d}=l,h=v1(e),g=h.maxX-h.minX+2*d,m=h.maxY-h.minY+2*d,x=[];x.push('<?xml version="1.0" encoding="UTF-8"?>'),x.push(`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${g} ${m}" width="${g}" height="${m}">`),x.push("<defs>"),x.push('  <style type="text/css"><![CDATA['),x.push("    .node-text {"),x.push(`      font-family: ${c};`),x.push(`      font-size: ${s}px;`),x.push("      fill: #333333;"),x.push("      text-anchor: middle;"),x.push("      dominant-baseline: middle;"),x.push("    }"),x.push("    .node-link {"),x.push("      cursor: pointer;"),x.push("    }"),x.push("  ]]></style>"),x.push("</defs>");function y(v,S,E){const w=v.x-h.minX+d,_=v.y-h.minY+d;if(S!==void 0&&E!==void 0){const ee=v.edgeStyle?.color||o,oe=v.edgeStyle?.width||a;x.push(`  <line x1="${S}" y1="${E+v.height/2}" x2="${w}" y2="${_}" stroke="${ee}" stroke-width="${oe}" />`)}if(v.cloud){const ee=v.cloud.color||"#e0e0e0",oe=v.width+20,de=v.height+20,pe=w-10,N=_-10;x.push(`  <rect x="${pe}" y="${N}" width="${oe}" height="${de}" rx="10" ry="10" fill="${ee}" opacity="0.3" />`)}const C=v.style?.backgroundColor||"#ffffff",R=v.style?.color||"#333333";if(x.push(`  <rect x="${w}" y="${_}" width="${v.width}" height="${v.height}" rx="5" ry="5" fill="${C}" stroke="${R}" stroke-width="1" />`),v.icon){const ee=w+10,oe=_+v.height/2;x.push(`  <text x="${ee}" y="${oe}" font-family="Arial" font-size="12" fill="${R}">${Ef(v.icon)}</text>`)}const k=w+v.width/2,M=_+v.height/2,B=v.style?.bold?"bold":"normal",O=v.style?.italic?"italic":"normal",Y=v.style?.fontSize||s,H=v.style?.color||"#333333";let V=`<text x="${k}" y="${M}" class="node-text" font-weight="${B}" font-style="${O}" font-size="${Y}" fill="${H}">${Ef(v.content)}</text>`;v.link&&(V=`<a href="${Ef(v.link)}" target="_blank" class="node-link">${V}</a>`),x.push(`  ${V}`);for(const ee of v.children)y(ee,w+v.width/2,_+v.height)}return y(e),x.push("</svg>"),x.join(`
`)}function v1(e){let l=e.x,o=e.x+e.width,a=e.y,s=e.y+e.height;for(const c of e.children){const d=v1(c);l=Math.min(l,d.minX),o=Math.max(o,d.maxX),a=Math.min(a,d.minY),s=Math.max(s,d.maxY)}return{minX:l,maxX:o,minY:a,maxY:s}}function Ef(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ck(e){const l=window.open("","_blank");if(!l)return;const o=Ak(e);l.document.write(o),l.document.close(),l.onload=()=>{setTimeout(()=>{l.print()},250)}}function Ak(e){const l=(o,a=0)=>{const s=a*20,c=o.children.map(d=>l(d,a+1)).join("");return`
      <div style="margin-left: ${s}px; margin-bottom: 8px;">
        <strong>${jc(o.content)}</strong>
      </div>
      ${c}
    `};return`
    <!DOCTYPE html>
    <html>
    <head>
      <title>Mind Map Export</title>
      <style>
        body {
          font-family: Arial, sans-serif;
          padding: 40px;
          line-height: 1.6;
        }
        h1 {
          color: #333;
          border-bottom: 2px solid #333;
          padding-bottom: 10px;
        }
        @media print {
          body { padding: 20px; }
          .no-print { display: none; }
        }
      </style>
    </head>
    <body>
      <h1>Mind Map: ${jc(e.content)}</h1>
      <div>${l(e)}</div>
      <div class="no-print" style="margin-top: 40px; text-align: center;">
        <button onclick="window.print()" style="
          padding: 12px 24px;
          background: #3b82f6;
          color: white;
          border: none;
          border-radius: 6px;
          cursor: pointer;
          font-size: 16px;
        ">Print / Save as PDF</button>
      </div>
    </body>
    </html>
  `}async function Tk(e){const l=_k(e),o=new Blob([l],{type:"text/html"}),a=URL.createObjectURL(o),s=document.createElement("a");s.href=a,s.download="mindmap.ppt",s.click(),URL.revokeObjectURL(a)}function _k(e){const l=o=>{const s=o.children.slice(0,6).map(c=>`<li>${jc(c.content)}</li>`).join("");return`
      <div style="slide: true;">
        <h1 style="font-size: 44pt; color: #333;">${jc(o.content)}</h1>
        <ul style="font-size: 28pt; margin-left: 60px;">
          ${s}
        </ul>
      </div>
    `};return`
    <!DOCTYPE html>
    <html xmlns:o="urn:schemas-microsoft-com:office:office"
          xmlns:x="urn:schemas-microsoft-com:office:powerpoint">
    <head>
      <meta charset="utf-8">
      <title>Mind Map Presentation</title>
      <style>
        body { font-family: Arial, sans-serif; }
        div[slide=true] {
          page-break-after: always;
          padding: 40px;
          min-height: 100vh;
        }
      </style>
    </head>
    <body>
      ${l(e)}
      ${e.children.map(o=>l(o)).join("")}
    </body>
    </html>
  `}function kk(e,l){const o=[];return o.push(`# ${e.content}`),o.push(""),S1(e,o,0),o.join(`
`)}function S1(e,l,o){const a=o>0?"	".repeat(o):"",s=o===0?"":"-";l.push(`${a}${s} ${e.content}`),e.children.length>0&&e.children.forEach(c=>S1(c,l,o+1))}function jk(e,l="mindmap.md"){const o=kk(e),a=new Blob([o],{type:"text/markdown"}),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download=l,c.click(),URL.revokeObjectURL(s)}function jc(e){const l=document.createElement("div");return l.textContent=e,l.innerHTML}function zk(e){const l=[],o=h=>{const m=h.children.slice(0,5).map(x=>`  - ${x.content}`).join(`
`);l.push(`
---
# ${h.content}

${m}
`),h.children.forEach(x=>o(x))};o(e);const a=l.join(`
`),s=new Blob([a],{type:"text/markdown"}),c=URL.createObjectURL(s),d=document.createElement("a");d.href=c,d.download="mindmap-presentation.md",d.click(),URL.revokeObjectURL(c)}const Pf=100,w1="mindmap_error_history";let aa=[];function Rk(){try{const e=localStorage.getItem(w1);if(e){const l=JSON.parse(e);Array.isArray(l)&&(aa=l.slice(0,Pf))}}catch(e){console.warn("Failed to load error history from localStorage:",e)}}function Mk(){try{localStorage.setItem(w1,JSON.stringify(aa))}catch(e){console.warn("Failed to save error history to localStorage:",e)}}function Nk(){return`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}function ti(e,l){const o=typeof e=="string"?e:e.message,a=typeof e=="string"?void 0:e.stack,s={id:Nk(),message:o,severity:"error",context:l,stack:a,timestamp:Date.now(),userAgent:navigator.userAgent,url:window.location.href};Dk(s)}function Dk(e){aa.push(e),aa.length>Pf&&(aa=aa.slice(-Pf)),Mk()}Rk();function Ok({nodes:e,edges:l,setNodes:o,setEdges:a,fitView:s}){const c=A.useCallback(m=>{const x=Pi(e,l);if(!x)return;if(m==="pdf"){Ck(x);return}if(m==="powerpoint"){Tk(x);return}if(m==="presentation"){zk(x);return}let y,v,S;switch(m){case"json":y=X_(x),v="mindmap.json",S="application/json";break;case"freemind":y=K_(x),v="mindmap.mm",S="application/xml";break;case"opml":y=Q_(x),v="mindmap.opml",S="application/xml";break;case"markdown":y=e5(x),v="mindmap.md",S="text/markdown";break;case"d2":y=t5(x),v="mindmap.d2",S="text/plain";break;case"yaml":y=Sk(x),v="mindmap.yaml",S="text/yaml";break;case"svg":y=Y0(x),v="mindmap.svg",S="image/svg+xml";break;default:return}const E=new Blob([y],{type:S}),w=URL.createObjectURL(E),_=document.createElement("a");_.href=w,_.download=v,_.click(),URL.revokeObjectURL(w)},[e,l]),d=A.useCallback(m=>{const x=document.createElement("input");x.type="file",x.accept=m==="json"?".json":m==="freemind"?".mm":m==="opml"?".opml":m==="yaml"?".yaml,.yml":".md",x.onchange=async y=>{const v=y.target.files?.[0];if(!v)return;const S=await v.text();let E;try{switch(m){case"json":E=V_(S);break;case"freemind":E=F_(S);break;case"opml":E=Z_(S);break;case"markdown":E=P_(S);break;case"yaml":E=wk(S);break}const{nodes:w,edges:_}=hc(E,!0);o(w),a(_),setTimeout(()=>s({padding:.2}),100)}catch(w){ti(w instanceof Error?w:new Error(String(w)),`loadFromFile-${m}`),alert(`Error loading file: ${w}`)}},x.click()},[s,o,a]),h=A.useCallback(()=>{const m=document.createElement("canvas");m.width=1920,m.height=1080;const x=m.getContext("2d");if(!x)return;x.fillStyle="#ffffff",x.fillRect(0,0,m.width,m.height);const y=document.querySelector(".react-flow__viewport");if(!y)return;const v=new XMLSerializer().serializeToString(y),S=new Image,E=new Blob([v],{type:"image/svg+xml;charset=utf-8"}),w=URL.createObjectURL(E);S.onload=()=>{x.drawImage(S,0,0),URL.revokeObjectURL(w);const _=m.toDataURL("image/png"),C=document.createElement("a");C.href=_,C.download="mindmap.png",C.click()},S.src=w},[]),g=A.useCallback(()=>{const m=Pi(e,l);if(!m)return;const x=Y0(m),y=new Blob([x],{type:"image/svg+xml"}),v=URL.createObjectURL(y),S=document.createElement("a");S.href=v,S.download="mindmap.svg",S.click(),URL.revokeObjectURL(v)},[e,l]);return{saveToFile:c,loadFromFile:d,exportAsPNG:h,exportAsSVG:g}}function Lk(e){const l=e.split(`
`).filter(s=>s.trim());if(l.length===0)throw new Error("Empty mind map");const o={id:bn(),content:l[0].trim(),children:[]},a=[{node:o,level:0}];for(let s=1;s<l.length;s++){const c=l[s],d=c.search(/\S/),h=c.trim();if(!h)continue;const g={id:bn(),content:h,children:[]};for(;a.length>0&&a[a.length-1].level>=d;)a.pop();a.length===0?(o.children.push(g),a.push({node:g,level:d})):(a[a.length-1].node.children.push(g),a.push({node:g,level:d}))}return o}function Bk(e={}){const[l,o]=A.useState(navigator.onLine),[a,s]=A.useState(!1),[c,d]=A.useState(null),[h,g]=A.useState(!1),[m,x]=A.useState(0),[y,v]=A.useState(0),S=A.useRef(null);A.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js",{type:"module"}).then(H=>{console.log("[PWA] Service worker registered:",H),d(H),H.addEventListener("updatefound",()=>{const V=H.installing;V&&V.addEventListener("statechange",()=>{V.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[PWA] New content available"),g(!0),e.onUpdateAvailable?.())})}),navigator.serviceWorker.controller&&(console.log("[PWA] Service worker is controlling"),e.onControlling?.()),H.waiting&&(console.log("[PWA] Service worker waiting"),g(!0))}).catch(H=>{console.error("[PWA] Service worker registration failed:",H)})},[e]);const E=A.useCallback(async()=>{if(!c)return 0;try{const H=new MessageChannel,V=new Promise(oe=>{H.port1.onmessage=de=>{oe(de.data.requests?.length||0)}});c.active?.postMessage({type:"GET_OFFLINE_REQUESTS"},[H.port2]);const ee=await V;return v(ee),ee}catch(H){return ti(H instanceof Error?H:new Error(String(H)),"checkPendingSync"),console.error("[PWA] Failed to check pending sync:",H),0}},[c]),w=A.useCallback(async()=>{if(!c||!l)return!1;try{"sync"in c&&await c.sync.register("sync-offline-requests");const H=await E();return console.log("[PWA] Synced offline requests"),H===0}catch(H){return ti(H instanceof Error?H:new Error(String(H)),"syncOfflineRequestsNow"),console.error("[PWA] Failed to sync:",H),!1}},[c,l,E]);A.useEffect(()=>{const H=()=>{console.log("[PWA] Online"),o(!0),s(!1),w(),e.onOnline?.()},V=()=>{console.log("[PWA] Offline"),o(!1),s(!0),e.onOffline?.()};return window.addEventListener("online",H),window.addEventListener("offline",V),()=>{window.removeEventListener("online",H),window.removeEventListener("offline",V)}},[e,w]),A.useEffect(()=>{if(l&&c)return S.current=setInterval(()=>{E()},3e4),()=>{S.current&&clearInterval(S.current)}},[l,c,E]);const _=A.useCallback(async()=>{if(!c)return 0;try{const H=new MessageChannel,V=new Promise(oe=>{H.port1.onmessage=de=>{oe(de.data.size||0)}});c.active?.postMessage({type:"GET_CACHE_SIZE"},[H.port2]);const ee=await V;return x(ee),ee}catch(H){return ti(H instanceof Error?H:new Error(String(H)),"getCacheSize"),console.error("[PWA] Failed to get cache size:",H),0}},[c]),C=A.useCallback(async()=>{if(c)try{const H=new MessageChannel,V=new Promise(ee=>{H.port1.onmessage=()=>ee()});c.active?.postMessage({type:"CLEAR_CACHE"},[H.port2]),await V,x(0),console.log("[PWA] Cache cleared")}catch(H){ti(H instanceof Error?H:new Error(String(H)),"clearCache"),console.error("[PWA] Failed to clear cache:",H)}},[c]),R=A.useCallback(()=>{c&&c.waiting&&(c.waiting.postMessage({type:"SKIP_WAITING"}),g(!1),console.log("[PWA] Update applied"))},[c]),k=A.useCallback(()=>{window.location.reload()},[]),M=A.useCallback((H,V)=>{try{const ee={data:V,timestamp:Date.now()};return localStorage.setItem(`offline_${H}`,JSON.stringify(ee)),!0}catch(ee){return ti(ee instanceof Error?ee:new Error(String(ee)),"storeOfflineData"),console.error("[PWA] Failed to store offline data:",ee),!1}},[]),B=A.useCallback(H=>{try{const V=localStorage.getItem(`offline_${H}`);if(!V)return null;const{data:ee,timestamp:oe}=JSON.parse(V);return Date.now()-oe>1440*60*1e3?(localStorage.removeItem(`offline_${H}`),null):ee}catch(V){return ti(V instanceof Error?V:new Error(String(V)),"getOfflineData"),console.error("[PWA] Failed to retrieve offline data:",V),null}},[]),O=A.useCallback(H=>{try{return H?localStorage.removeItem(`offline_${H}`):Object.keys(localStorage).filter(V=>V.startsWith("offline_")).forEach(V=>localStorage.removeItem(V)),!0}catch(V){return ti(V instanceof Error?V:new Error(String(V)),"clearOfflineData"),console.error("[PWA] Failed to clear offline data:",V),!1}},[]),Y=A.useCallback(H=>{if(H===0)return"0 Bytes";const V=1024,ee=["Bytes","KB","MB","GB"],oe=Math.floor(Math.log(H)/Math.log(V));return Math.round(H/Math.pow(V,oe)*100)/100+" "+ee[oe]},[]);return{isOnline:l,isOfflineMode:a,updateAvailable:h,cacheSize:m,pendingSyncCount:y,applyUpdate:R,forceReload:k,clearCache:C,getCacheSize:_,checkPendingSync:E,syncOfflineRequestsNow:w,storeOfflineData:M,getOfflineData:B,clearOfflineData:O,formatBytes:Y}}function Hk({onGestureChange:e,onPinch:l,onRotate:o,onPan:a,enabled:s=!0}){const[c,d]=A.useState({scale:1,rotation:0,panX:0,panY:0}),{getViewport:h,setViewport:g,zoomTo:m}=Hr(),x=A.useRef(new Map),y=A.useRef(0),v=A.useRef(0),S=A.useRef(null),E=(k,M)=>Math.sqrt(Math.pow(M.x-k.x,2)+Math.pow(M.y-k.y,2)),w=(k,M)=>Math.atan2(M.y-k.y,M.x-k.x)*(180/Math.PI),_=k=>{if(!s)return;x.current.set(k.pointerId,{x:k.clientX,y:k.clientY,identifier:k.pointerId});const M=x.current;if(M.size===2){const[B,O]=Array.from(M.values());y.current=E(B,O),v.current=w(B,O)}M.size===1&&(S.current={x:k.clientX,y:k.clientY}),k.target.setPointerCapture(k.pointerId)},C=k=>{if(!s)return;const M=x.current;if(M.has(k.pointerId)&&M.set(k.pointerId,{x:k.clientX,y:k.clientY,identifier:k.pointerId}),M.size===2){const[B,O]=Array.from(M.values()),Y=E(B,O),H=w(B,O);if(y.current>0){const V=Y/y.current,ee=Math.max(.1,Math.min(5,c.scale*V));m(ee),l&&l(V),d(oe=>({...oe,scale:ee}))}if(v.current!==null){const V=H-v.current,ee=c.rotation+V;o&&o(ee),d(oe=>({...oe,rotation:ee}))}}if(M.size===1&&S.current){const B=k.clientX-S.current.x,O=k.clientY-S.current.y,Y=h();g({x:Y.x-B/Y.zoom,y:Y.y-O/Y.zoom,zoom:Y.zoom}),a&&a(B,O),d(H=>({...H,panX:H.panX+B,panY:H.panY+O})),S.current={x:k.clientX,y:k.clientY}}e&&e(c)},R=k=>{s&&(x.current.delete(k.pointerId),S.current=null,y.current=0,v.current=0)};return A.useEffect(()=>{const k=document.querySelector(".react-flow");if(k)return k.addEventListener("pointerdown",_),k.addEventListener("pointermove",C),k.addEventListener("pointerup",R),k.addEventListener("pointercancel",R),k.addEventListener("pointerout",R),k.addEventListener("pointerleave",R),()=>{k.removeEventListener("pointerdown",_),k.removeEventListener("pointermove",C),k.removeEventListener("pointerup",R),k.removeEventListener("pointercancel",R),k.removeEventListener("pointerout",R),k.removeEventListener("pointerleave",R)}},[s,c,h,g,m]),{gestureState:c,resetGestures:()=>{d({scale:1,rotation:0,panX:0,panY:0})}}}function Uk(e,l){const{selectedNodeId:o,selectedNodeIds:a,nodes:s,edges:c,showNotesPanel:d,showSearch:h,showSaveHistory:g,showHistoryPanel:m,showStatistics:x,showShortcuts:y,showAIAssistant:v,showCommentsPanel:S,showWebhookPanel:E,showCalendarPanel:w,showEmailPanel:_,showPresentation:C,show3DView:R,showTemplatesPanel:k,showThemeSettings:M,showBulkOperations:B,crossLinkMode:O,searchResults:Y,currentResultIndex:H,canUndo:V,canRedo:ee}=e,{zoomIn:oe,zoomOut:de,fitView:pe,setShowNotesPanel:N,setShowSearch:P,setShowSaveHistory:z,setShowHistoryPanel:W,setShowStatistics:q,setShowShortcuts:G,setShowAIAssistant:te,setShowCommentsPanel:j,setShowWebhookPanel:I,setShowCalendarPanel:F,setShowEmailPanel:le,setShowPresentation:se,setShow3DView:me,setShowTemplatesPanel:xe,setShowThemeSettings:Ce,setCrossLinkMode:we,setCrossLinkSource:Re,createChildNode:Pe,createSiblingNode:Xe,deleteNode:Je,editNode:Ue,toggleCollapse:He,handleUndo:ot,handleRedo:Oe,handleNextResult:ye,handlePreviousResult:nt,handleClearSelection:ut,handleBulkDelete:Gt,handleSelectAll:Bt,saveNow:Jt,toggleDarkMode:We,setCurrentTheme:Nt,getEffectiveTheme:vt}=l;A.useEffect(()=>{const dt=K=>{document.activeElement?.classList.contains("node-content")||(K.key==="Tab"&&o&&(K.preventDefault(),Pe(o)),K.key==="Enter"&&o&&(K.preventDefault(),Xe(o)),(K.key==="Delete"||K.key==="Backspace")&&o&&(K.preventDefault(),Je(o)),K.key==="e"&&o&&!K.ctrlKey&&!K.metaKey&&!K.altKey&&(K.preventDefault(),Ue(o)),K.key===" "&&o&&(K.preventDefault(),He(o)),(K.key==="="||K.key==="+")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),oe()),(K.key==="-"||K.key==="_")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),de()),K.key==="0"&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),pe()),(K.key==="n"||K.key==="N")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),o&&N(!d)),(K.key==="z"||K.key==="Z")&&(K.ctrlKey||K.metaKey)&&(K.shiftKey?(K.preventDefault(),Oe()):(K.preventDefault(),ot())),(K.key==="y"||K.key==="Y")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),Oe()),(K.key==="f"||K.key==="F")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),P(!0)),(K.key==="g"||K.key==="G")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),K.shiftKey?nt():ye()),K.key==="Escape"&&(h&&P(!1),d&&N(!1),g&&z(!1),m&&W(!1),x&&q(!1),y&&G(!1),v&&te(!1),S&&j(!1),E&&I(!1),w&&F(!1),_&&le(!1),C&&se(!1),R&&me(!1),k&&xe(!1),M&&Ce(!1),O&&(we(!1),Re(null)),(B||a.size>0)&&ut()),K.key==="?"&&(K.preventDefault(),G(!y)),(K.key==="s"||K.key==="S")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),Jt()),(K.key==="h"||K.key==="H")&&(K.ctrlKey||K.metaKey)&&(K.shiftKey?(K.preventDefault(),W(!m)):(K.preventDefault(),z(!g))),(K.key==="i"||K.key==="I")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),q(!x)),(K.key==="a"||K.key==="A")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),te(!v)),(K.key==="c"||K.key==="C")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),j(!S)),(K.key==="w"||K.key==="W")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),I(!E)),(K.key==="d"||K.key==="D")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),F(!w)),(K.key==="e"||K.key==="E")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),le(!_)),(K.key==="p"||K.key==="P")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),se(!C)),K.key==="3"&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),me(!R)),(K.key==="t"||K.key==="T")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),xe(!k)),K.key===";"&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),Ce(!M)),(K.key==="l"||K.key==="L")&&(K.ctrlKey||K.metaKey)&&K.shiftKey&&(K.preventDefault(),We(),Nt(vt())),(K.key==="a"||K.key==="A")&&(K.ctrlKey||K.metaKey)&&(K.preventDefault(),Bt()),(K.key==="Delete"||K.key==="Backspace")&&a.size>1&&(K.preventDefault(),Gt()))};return document.addEventListener("keydown",dt),()=>document.removeEventListener("keydown",dt)},[o,a,s,c,oe,de,pe,d,h,g,m,x,y,v,S,E,w,_,C,R,k,M,B,O,Y,H,V,ee,Pe,Xe,Je,Ue,He,ot,Oe,ye,nt,ut,Gt,Bt,Jt,We,Nt,vt])}const ho=[{id:"default",name:"Classic Blue",description:"Traditional blue gradient theme",preview:["#667eea","#764ba2"],colors:{primary:"#667eea",secondary:"#764ba2",background:"#ffffff",surface:"#f9fafb",text:"#111827",textSecondary:"#6b7280",border:"#d1d5db",nodeBackground:"#ffffff",nodeBorder:"#d1d5db",edge:"#9ca3af"}},{id:"ocean",name:"Ocean",description:"Calm blue and teal tones",preview:["#0ea5e9","#14b8a6"],colors:{primary:"#0ea5e9",secondary:"#14b8a6",background:"#f0f9ff",surface:"#e0f2fe",text:"#0c4a6e",textSecondary:"#075985",border:"#bae6fd",nodeBackground:"#ffffff",nodeBorder:"#7dd3fc",edge:"#38bdf8"}},{id:"forest",name:"Forest",description:"Natural green palette",preview:["#22c55e","#16a34a"],colors:{primary:"#22c55e",secondary:"#16a34a",background:"#f0fdf4",surface:"#dcfce7",text:"#14532d",textSecondary:"#166534",border:"#bbf7d0",nodeBackground:"#ffffff",nodeBorder:"#86efac",edge:"#4ade80"}},{id:"sunset",name:"Sunset",description:"Warm orange and coral",preview:["#f97316","#ef4444"],colors:{primary:"#f97316",secondary:"#ef4444",background:"#fff7ed",surface:"#ffedd5",text:"#7c2d12",textSecondary:"#9a3412",border:"#fed7aa",nodeBackground:"#ffffff",nodeBorder:"#fdba74",edge:"#fb923c"}},{id:"purple",name:"Royal Purple",description:"Elegant purple tones",preview:["#a855f7","#7c3aed"],colors:{primary:"#a855f7",secondary:"#7c3aed",background:"#faf5ff",surface:"#f3e8ff",text:"#581c87",textSecondary:"#6b21a8",border:"#e9d5ff",nodeBackground:"#ffffff",nodeBorder:"#c4b5fd",edge:"#a78bfa"}},{id:"dark",name:"Dark Mode",description:"Dark theme for night work",preview:["#1f2937","#111827"],colors:{primary:"#6366f1",secondary:"#8b5cf6",background:"#111827",surface:"#1f2937",text:"#f9fafb",textSecondary:"#d1d5db",border:"#374151",nodeBackground:"#1f2937",nodeBorder:"#4b5563",edge:"#6b7280"}},{id:"midnight",name:"Midnight Blue",description:"Deep blue dark theme",preview:["#1e3a8a","#172554"],colors:{primary:"#3b82f6",secondary:"#2563eb",background:"#0f172a",surface:"#1e293b",text:"#f1f5f9",textSecondary:"#cbd5e1",border:"#334155",nodeBackground:"#1e293b",nodeBorder:"#475569",edge:"#64748b"}},{id:"rose",name:"Rose Garden",description:"Soft pink and rose tones",preview:["#fb7185","#f43f5e"],colors:{primary:"#fb7185",secondary:"#f43f5e",background:"#fff1f2",surface:"#ffe4e6",text:"#881337",textSecondary:"#9f1239",border:"#fecdd3",nodeBackground:"#ffffff",nodeBorder:"#fda4af",edge:"#fb7185"}},{id:"amber",name:"Golden Hour",description:"Warm amber and yellow",preview:["#f59e0b","#d97706"],colors:{primary:"#f59e0b",secondary:"#d97706",background:"#fffbeb",surface:"#fef3c7",text:"#78350f",textSecondary:"#92400e",border:"#fde68a",nodeBackground:"#ffffff",nodeBorder:"#fcd34d",edge:"#fbbf24"}},{id:"slate",name:"Slate Gray",description:"Professional gray tones",preview:["#64748b","#475569"],colors:{primary:"#64748b",secondary:"#475569",background:"#f8fafc",surface:"#f1f5f9",text:"#0f172a",textSecondary:"#334155",border:"#e2e8f0",nodeBackground:"#ffffff",nodeBorder:"#cbd5e1",edge:"#94a3b8"}}];function $l(){return localStorage.getItem("theme_mode")||"auto"}function Tp(e){localStorage.setItem("theme_mode",e),zc(e)}function $0(){const l=$l()==="dark"?"light":"dark";Tp(l)}function sc(){const e=$l();return e==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}function wr(){const e=localStorage.getItem("color_scheme");return ho.find(l=>l.id===e)||ho[0]}function Jf(e){const l=ho.find(o=>o.id===e);l&&(localStorage.setItem("color_scheme",e),Rc(l))}function zc(e){const l=document.documentElement;if(e==="auto"){const o=window.matchMedia("(prefers-color-scheme: dark)").matches;l.setAttribute("data-theme",o?"dark":"light")}else l.setAttribute("data-theme",e)}function Rc(e){const l=document.documentElement,o=e.colors;l.style.setProperty("--color-primary",o.primary),l.style.setProperty("--color-secondary",o.secondary),l.style.setProperty("--color-background",o.background),l.style.setProperty("--color-surface",o.surface),l.style.setProperty("--color-text",o.text),l.style.setProperty("--color-text-secondary",o.textSecondary),l.style.setProperty("--color-border",o.border),l.style.setProperty("--color-node-background",o.nodeBackground),l.style.setProperty("--color-node-border",o.nodeBorder),l.style.setProperty("--color-edge",o.edge)}function Ik(){const e=$l(),l=wr();zc(e),Rc(l)}function Yk(e){const l=window.matchMedia("(prefers-color-scheme: dark)"),o=a=>{$l()==="auto"&&e(a.matches?"dark":"light")};return l.addEventListener("change",o),()=>{l.removeEventListener("change",o)}}function $k(e,l){const o=ho[0];return{id:`custom_${Date.now()}`,name:e,description:"Custom color scheme",preview:[l.primary||o.colors.primary,l.secondary||o.colors.secondary],colors:{...o.colors,...l}}}function Gk(e){const l=Ul();l.push(e),localStorage.setItem("custom_color_schemes",JSON.stringify(l))}function Ul(){try{const e=localStorage.getItem("custom_color_schemes");return e?JSON.parse(e):[]}catch{return[]}}function Wk(e){const o=Ul().filter(a=>a.id!==e);localStorage.setItem("custom_color_schemes",JSON.stringify(o))}function qk(){const e={mode:$l(),colorScheme:wr().id,customSchemes:Ul()};return JSON.stringify(e,null,2)}function Vk(e){try{const l=JSON.parse(e);return l.mode&&Tp(l.mode),l.colorScheme&&Jf(l.colorScheme),l.customSchemes&&Array.isArray(l.customSchemes)&&localStorage.setItem("custom_color_schemes",JSON.stringify(l.customSchemes)),!0}catch{return!1}}const Xk=A.lazy(()=>ll(()=>Promise.resolve().then(()=>uj),void 0,import.meta.url)),Fk=A.lazy(()=>ll(()=>Promise.resolve().then(()=>fj),void 0,import.meta.url)),Kk=A.lazy(()=>ll(()=>Promise.resolve().then(()=>bj),void 0,import.meta.url)),Zk=A.lazy(()=>ll(()=>Promise.resolve().then(()=>jj),void 0,import.meta.url)),Qk=A.lazy(()=>ll(()=>Promise.resolve().then(()=>Ij),void 0,import.meta.url)),Pk=A.lazy(()=>ll(()=>Promise.resolve().then(()=>Wj),void 0,import.meta.url)),Jk=A.lazy(()=>ll(()=>Promise.resolve().then(()=>Xj),void 0,import.meta.url)),ej=A.lazy(()=>ll(()=>Promise.resolve().then(()=>r6),void 0,import.meta.url)),tj=A.lazy(()=>ll(()=>Promise.resolve().then(()=>u6),void 0,import.meta.url)),nj={mindmap:Eb},ij={crosslink:Vf,default:Vf};function lj({initialData:e}){const{nodes:l,edges:o}=e?hc(e):{nodes:[],edges:[]},[a,s,c]=ST(l),[d,h,g]=wT(o),[m,x]=A.useState(null),[y,v]=A.useState(new Set),[S,E]=A.useState(!1),[w,_]=A.useState(!1),[C,R]=A.useState(!1),[k,M]=A.useState(null),[B,O]=A.useState("saved"),[Y,H]=A.useState(!1),[,V]=A.useState(""),[ee,oe]=A.useState([]),[de,pe]=A.useState(0),[N,P]=A.useState(!1),[z,W]=A.useState(null),[q,G]=A.useState(!1),[te,j]=A.useState(!1),[I,F]=A.useState(!1),[le,se]=A.useState(!1),[me,xe]=A.useState(!1),[Ce,we]=A.useState(!1),[Re,Pe]=A.useState([]),[Xe,Je]=A.useState(!1),[Ue,He]=A.useState(!1),[ot,Oe]=A.useState(!1),[ye,nt]=A.useState(!1),[ut,Gt]=A.useState(!1),[Bt,Jt]=A.useState(!1),[We,Nt]=A.useState(!1),[vt,dt]=A.useState(sc),[K]=A.useState(()=>{const ne=localStorage.getItem("user_name")||`User ${Math.floor(Math.random()*1e3)}`,he=localStorage.getItem("user_color")||"#3b82f6";return{id:Date.now().toString(),name:ne,color:he}}),[Mn]=A.useState([K]),Wt=m?a.find(ne=>ne.id===m):null,{zoomIn:bt,zoomOut:qt,fitView:Et}=Hr(),rt=A.useCallback(ne=>{s(he=>{const fe=new Set,Ae=[ne];for(;Ae.length>0;){const Me=Ae.shift();d.filter(Fe=>Fe.source===Me).forEach(Fe=>{fe.add(Fe.target),Ae.push(Fe.target)})}return he.map(Me=>fe.has(Me.id)?{...Me,data:{...Me.data,collapsed:!0}}:Me)})},[d,s]),ft=A.useCallback(ne=>{s(he=>{const fe=new Set,Ae=[ne];for(;Ae.length>0;){const Me=Ae.shift();d.filter(Fe=>Fe.source===Me).forEach(Fe=>{fe.add(Fe.target),Ae.push(Fe.target)})}return he.map(Me=>fe.has(Me.id)?{...Me,data:{...Me.data,collapsed:!1}}:Me)})},[d,s]),Qe=A.useMemo(()=>a.map(ne=>({...ne,selected:ne.id===m||y.has(ne.id)})),[a,m,y]),{saveNow:cn,saveHistory:$n,restoreFromHistory:Ai,deleteHistorySlot:en}=k_({nodes:a,edges:d,onSaveStatusChange:O,onConflictFound:ne=>W(ne)}),{saveToFile:Ct,loadFromFile:hn,exportAsPNG:kt,exportAsSVG:gi}=Ok({nodes:a,edges:d,setNodes:s,setEdges:h,fitView:Et}),{canUndo:tn,canRedo:it,undo:Nn,redo:Ti,getFullHistory:Gn,jumpToHistory:_i}=M_();Bk({onOnline:()=>{console.log("Back online - syncing data")},onOffline:()=>{console.log("Gone offline - changes will be saved locally")}}),Hk({enabled:!0}),A.useEffect(()=>{Ik()},[]),A.useEffect(()=>{const ne=Me=>{const{nodeId:ze,label:Fe}=Me.detail;s(cl=>cl.map(Tt=>Tt.id===ze?{...Tt,data:{...Tt.data,label:Fe,lastModified:Date.now()}}:Tt))},he=Me=>{const{nodeId:ze,checked:Fe}=Me.detail;s(cl=>cl.map(Tt=>Tt.id===ze?{...Tt,data:{...Tt.data,checked:Fe,lastModified:Date.now()}}:Tt))},fe=Me=>{rt(Me.detail.nodeId)},Ae=Me=>{ft(Me.detail.nodeId)};return window.addEventListener("nodeLabelChange",ne),window.addEventListener("nodeCheckboxChange",he),window.addEventListener("collapseAllDescendants",fe),window.addEventListener("expandAllDescendants",Ae),()=>{window.removeEventListener("nodeLabelChange",ne),window.removeEventListener("nodeCheckboxChange",he),window.removeEventListener("collapseAllDescendants",fe),window.removeEventListener("expandAllDescendants",Ae)}},[rt,ft,s]);const Wn=A.useCallback(ne=>{const he=a.find(Ae=>Ae.id===ne);if(!he)return;const fe={id:bn(),type:"mindmap",position:{x:he.position.x+250,y:he.position.y+Math.random()*50},data:{label:"New Node",lastModified:Date.now()}};s(Ae=>[...Ae,fe]),h(Ae=>[...Ae,{id:`${ne}-${fe.id}`,source:ne,target:fe.id,type:"smoothstep"}]),x(fe.id),setTimeout(()=>{const Ae=new CustomEvent("triggerNodeEdit",{detail:{nodeId:fe.id}});window.dispatchEvent(Ae)},100)},[a,s,h,x]),ki=A.useCallback(ne=>{const he=a.find(ze=>ze.id===ne);if(!he)return;const fe=d.find(ze=>ze.target===ne);if(!fe){const ze={id:bn(),type:"mindmap",position:{x:he.position.x,y:he.position.y+100},data:{label:"New Sibling",lastModified:Date.now()}};s(Fe=>[...Fe,ze]),x(ze.id),setTimeout(()=>{const Fe=new CustomEvent("triggerNodeEdit",{detail:{nodeId:ze.id}});window.dispatchEvent(Fe)},100);return}const Ae=fe.source,Me={id:bn(),type:"mindmap",position:{x:he.position.x,y:he.position.y+100},data:{label:"New Sibling",lastModified:Date.now()}};s(ze=>[...ze,Me]),h(ze=>[...ze,{id:`${Ae}-${Me.id}`,source:Ae,target:Me.id,type:"smoothstep"}]),x(Me.id),setTimeout(()=>{const ze=new CustomEvent("triggerNodeEdit",{detail:{nodeId:Me.id}});window.dispatchEvent(ze)},100)},[a,d,s,h,x]),ol=A.useCallback(ne=>{if(a.length===1)return;const he=new Set([ne]),fe=[ne];for(;fe.length>0;){const Ae=fe.shift();d.filter(ze=>ze.source===Ae).forEach(ze=>{he.add(ze.target),fe.push(ze.target)})}s(Ae=>Ae.filter(Me=>!he.has(Me.id))),h(Ae=>Ae.filter(Me=>!he.has(Me.source)&&!he.has(Me.target))),(m===ne||he.has(m||""))&&x(null)},[a,d,m,s,h,x]),Kt=A.useCallback(ne=>{const he=document.querySelector(`[data-nodeid="${ne}"] .node-content`);if(he){he.focus();const fe=document.createRange();fe.selectNodeContents(he);const Ae=window.getSelection();Ae?.removeAllRanges(),Ae?.addRange(fe)}},[]),gn=A.useCallback(ne=>{s(he=>he.map(fe=>fe.id===ne?{...fe,data:{...fe.data,collapsed:!fe.data.collapsed}}:fe))},[s]);A.useEffect(()=>{const ne=()=>{se(window.innerWidth<768)};return ne(),window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),A.useEffect(()=>{const ne=()=>{dt(sc())};return window.addEventListener("storage",ne),window.addEventListener("themeChange",ne),()=>{window.removeEventListener("storage",ne),window.removeEventListener("themeChange",ne)}},[]);const qn=()=>{if(!tn)return;const ne=Nn();ne&&(s(ne.nodes),h(ne.edges))},Vn=()=>{if(!it)return;const ne=Ti();ne&&(s(ne.nodes),h(ne.edges))},un=ne=>{const{nodes:he,edges:fe}=hc(ne);s(he),h(fe),Et({duration:800})},At=(ne,he)=>{if(!ne.trim()&&!he.filterIcon&&!he.filterCloud&&!he.filterDate){oe([]),V(""),pe(0);return}const fe=Date.now(),Ae={hour:3600*1e3,day:1440*60*1e3,week:10080*60*1e3,month:720*60*60*1e3},Me=a.filter(ze=>{if(ne.trim()){const Fe=ze.data.label||"",cl=ze.data.metadata?.notes||"",Tt=he.searchInNotes?`${Fe} ${cl}`:Fe;let mi=ne,Ri=Tt;if(he.caseSensitive||(mi=mi.toLowerCase(),Ri=Ri.toLowerCase()),he.useRegex)try{if(!new RegExp(mi,he.caseSensitive?"g":"gi").test(Ri))return!1}catch{if(!Ri.includes(mi))return!1}else if(he.wholeWord){if(!Ri.split(/\s+/).some(ul=>ul===mi))return!1}else if(!Ri.includes(mi))return!1}if(he.filterIcon&&ze.data.icon!==he.filterIcon||he.filterCloud&&ze.data.cloud?.color!==he.filterCloud)return!1;if(he.filterDate){const Fe=ze.data.lastModified||fe;if(fe-Fe>Ae[he.filterDate])return!1}return!0}).map(ze=>ze.id);oe(Me),V(ne),pe(0),Me.length>0&&x(Me[0])},at=()=>{if(ee.length===0)return;const ne=(de+1)%ee.length;pe(ne),x(ee[ne])},En=()=>{if(ee.length===0)return;const ne=(de-1+ee.length)%ee.length;pe(ne),x(ee[ne])},oi=ne=>{m&&s(he=>he.map(fe=>fe.id===m?{...fe,data:{...fe.data,metadata:Object.keys(ne).length>0?ne:void 0,lastModified:Date.now()}}:fe))},al=ne=>{m&&s(he=>he.map(fe=>fe.id===m?{...fe,data:{...fe.data,icon:ne||void 0,lastModified:Date.now()}}:fe))},rl=ne=>{m&&s(he=>he.map(fe=>fe.id===m?{...fe,data:{...fe.data,cloud:ne||void 0,lastModified:Date.now()}}:fe))},sl=(ne,he)=>{v(fe=>{const Ae=new Set(fe);return Ae.has(ne)?Ae.delete(ne):Ae.add(ne),E(Ae.size>1),Ae})},ve=()=>{v(new Set),x(null),E(!1)},U=()=>{v(new Set(a.map(ne=>ne.id))),E(!0)},ge=()=>{if(y.size===0)return;if(y.size>=a.length){alert("Cannot delete all nodes");return}const ne=new Set(y);let he=!0;for(;he;)he=!1,d.forEach(fe=>{ne.has(fe.source)&&!ne.has(fe.target)&&(ne.add(fe.target),he=!0)});s(fe=>fe.filter(Ae=>!ne.has(Ae.id))),h(fe=>fe.filter(Ae=>!ne.has(Ae.source)&&!ne.has(Ae.target))),ve()},be=ne=>{y.size!==0&&s(he=>he.map(fe=>y.has(fe.id)?{...fe,data:{...fe.data,icon:ne||void 0,lastModified:Date.now()}}:fe))},Ze=ne=>{y.size!==0&&s(he=>he.map(fe=>y.has(fe.id)?{...fe,data:{...fe.data,cloud:ne||void 0,lastModified:Date.now()}}:fe))},mt=ne=>{y.size!==0&&s(he=>he.map(fe=>y.has(fe.id)?{...fe,data:{...fe.data,backgroundColor:ne,lastModified:Date.now()}}:fe))},De=ne=>{try{const he=Lk(ne),{nodes:fe,edges:Ae}=hc(he);s(fe),h(Ae)}catch(he){alert(`Error generating mind map: ${he instanceof Error?he.message:"Unknown error"}`)}},Dt=ne=>{const he=["Consider related concepts","Add examples","Include counter-arguments","Add references","Create sub-categories"],fe=a.find(ze=>ze.id===ne);if(!fe)return;const Ae=he.map(ze=>({id:bn(),type:"mindmap",position:{x:fe.position.x+250,y:fe.position.y+Math.random()*100},data:{label:ze,lastModified:Date.now()}})),Me=Ae.map(ze=>({id:`${ne}-${ze.id}`,source:ne,target:ze.id,type:"smoothstep"}));s(ze=>[...ze,...Ae]),h(ze=>[...ze,...Me])},dn=ne=>{const he=a.find(Fe=>Fe.id===ne);if(!he)return;const fe=new Set([ne]);let Ae=!0;for(;Ae;)Ae=!1,d.forEach(Fe=>{fe.has(Fe.source)&&!fe.has(Fe.target)&&(fe.add(Fe.target),Ae=!0)});const Me=a.filter(Fe=>fe.has(Fe.id)),ze=`Branch: ${he.data.label}
Contains ${Me.length} nodes`;alert(ze)},Zt=ne=>{if(!m)return;const he={id:bn(),nodeId:m,author:K.name,authorColor:K.color,content:ne,timestamp:Date.now(),resolved:!1};Pe(fe=>[...fe,he])},mn=ne=>{Pe(he=>he.map(fe=>fe.id===ne?{...fe,resolved:!fe.resolved}:fe))},jt=ne=>{Pe(he=>he.filter(fe=>fe.id!==ne))},ji=A.useCallback(ne=>{const he={...ne,type:"crosslink",data:{isCrossLink:C},style:C?{stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5,5"}:void 0};h(fe=>My(he,fe)),C&&(R(!1),M(null))},[h,C]),zi=ne=>{if(C){if(k===null)M(ne);else if(k!==ne){if(!d.find(fe=>fe.source===k&&fe.target===ne)){const fe={id:`${k}-${ne}`,source:k,target:ne,type:"crosslink",data:{isCrossLink:!0},style:{stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5,5"}};h(Ae=>[...Ae,fe])}R(!1),M(null)}}};Uk({selectedNodeId:m,selectedNodeIds:y,nodes:a,edges:d,showNotesPanel:w,showSearch:Y,showSaveHistory:N,showHistoryPanel:q,showStatistics:te,showShortcuts:I,showAIAssistant:me,showCommentsPanel:Ce,showWebhookPanel:Xe,showCalendarPanel:Ue,showEmailPanel:ot,showPresentation:ye,show3DView:ut,showTemplatesPanel:Bt,showThemeSettings:We,showBulkOperations:S,crossLinkMode:C,searchResults:ee,currentResultIndex:de,canUndo:tn,canRedo:it},{zoomIn:bt,zoomOut:qt,fitView:Et,setShowNotesPanel:_,setShowSearch:H,setShowSaveHistory:P,setShowHistoryPanel:G,setShowStatistics:j,setShowShortcuts:F,setShowAIAssistant:xe,setShowCommentsPanel:we,setShowWebhookPanel:Je,setShowCalendarPanel:He,setShowEmailPanel:Oe,setShowPresentation:nt,setShow3DView:Gt,setShowTemplatesPanel:Jt,setShowThemeSettings:Nt,setCrossLinkMode:R,setCrossLinkSource:M,createChildNode:Wn,createSiblingNode:ki,deleteNode:ol,editNode:Kt,toggleCollapse:gn,handleUndo:qn,handleRedo:Vn,handleNextResult:at,handlePreviousResult:En,handleClearSelection:ve,handleBulkDelete:ge,handleSelectAll:U,saveNow:cn,toggleDarkMode:$0,setCurrentTheme:dt,getEffectiveTheme:sc});const Wl=ne=>{const he=Ai(ne);he&&(s(he.nodes),h(he.edges),P(!1))},xo=()=>{z&&(s(z.nodes),h(z.edges),W(null))},yo=(ne,he)=>{const fe=_i(ne,he);fe&&(s(fe.nodes),h(fe.edges))};return f.jsxs("div",{style:{width:"100vw",height:"100vh"},children:[f.jsxs(fb,{nodes:Qe,edges:d,onNodesChange:c,onEdgesChange:g,onConnect:ji,nodeTypes:nj,edgeTypes:ij,onNodeClick:(ne,he)=>{C?zi(he.id):ne.shiftKey?sl(he.id):(y.size>0&&ve(),x(he.id))},onPaneClick:()=>{x(null),ve(),C&&(R(!1),M(null))},fitView:!0,children:[f.jsx(qT,{}),f.jsx(Cb,{nodes:a}),f.jsx(UT,{}),f.jsx(MT,{}),f.jsx(Qi,{position:"top-center",style:{background:"transparent"},children:f.jsxs("div",{style:{padding:"6px 12px",borderRadius:"6px",background:"white",border:"1px solid #d1d5db",fontSize:"12px",display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[B==="saved"&&f.jsxs(f.Fragment,{children:[f.jsx("span",{style:{color:"#10b981"},children:""}),f.jsx("span",{style:{color:"#10b981",fontWeight:"bold"},children:"Saved"})]}),B==="unsaved"&&f.jsxs(f.Fragment,{children:[f.jsx("span",{style:{color:"#f59e0b"},children:""}),f.jsx("span",{style:{color:"#f59e0b"},children:"Unsaved changes"})]}),B==="saving"&&f.jsxs(f.Fragment,{children:[f.jsx("span",{style:{color:"#3b82f6"},children:""}),f.jsx("span",{style:{color:"#3b82f6"},children:"Saving..."})]})]}),f.jsxs("div",{style:{display:"flex",gap:"4px"},children:[f.jsx("button",{onClick:cn,title:"Save now (Ctrl+S)","aria-label":"Save now",style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"500"},children:"Save"}),f.jsxs("button",{onClick:()=>P(!0),title:"View save history (Ctrl+H)","aria-label":"Show save history",style:{padding:"4px 8px",background:"#f3f4f6",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"500"},children:["History (",$n.length,")"]})]})]})}),Y&&f.jsx(Qi,{position:"top-center",style:{top:"60px"},children:f.jsx(E_,{onSearch:At,onNext:at,onPrevious:En,resultCount:ee.length,currentResult:de,availableIcons:Array.from(new Set(a.map(ne=>ne.data.icon).filter(ne=>!!ne))),availableClouds:Array.from(new Set(a.map(ne=>ne.data.cloud?.color).filter(ne=>!!ne)))})}),f.jsxs(Qi,{position:"bottom-right",style:{display:"flex",gap:"8px"},children:[f.jsx("button",{onClick:qn,disabled:!tn,title:"Undo (Ctrl+Z)","aria-label":"Undo",style:{width:"32px",height:"32px",borderRadius:"6px",background:"white",border:"1px solid #d1d5db",cursor:tn?"pointer":"not-allowed",fontSize:"16px",opacity:tn?1:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:""}),f.jsx("button",{onClick:Vn,disabled:!it,title:"Redo (Ctrl+Y)","aria-label":"Redo",style:{width:"32px",height:"32px",borderRadius:"6px",background:"white",border:"1px solid #d1d5db",cursor:it?"pointer":"not-allowed",fontSize:"16px",opacity:it?1:.5,display:"flex",alignItems:"center",justifyContent:"center"},children:""}),f.jsx("button",{onClick:()=>G(!0),title:"History (Ctrl+Shift+H)","aria-label":"Show history",style:{width:"32px",height:"32px",borderRadius:"6px",background:"white",border:"1px solid #d1d5db",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center"},children:""}),f.jsx("button",{onClick:()=>bt(),title:"Zoom In (Ctrl +)","aria-label":"Zoom in",style:{width:"32px",height:"32px",borderRadius:"6px",background:"white",border:"1px solid #d1d5db",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center"},children:"+"}),f.jsx("button",{onClick:()=>qt(),title:"Zoom Out (Ctrl -)","aria-label":"Zoom out",style:{width:"32px",height:"32px",borderRadius:"6px",background:"white",border:"1px solid #d1d5db",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center"},children:"-"}),f.jsx("button",{onClick:()=>Et(),title:"Fit View (Ctrl 0)","aria-label":"Fit view",style:{width:"32px",height:"32px",borderRadius:"6px",background:"white",border:"1px solid #d1d5db",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]}),f.jsx(Qi,{position:"top-right",className:"controls-panel",children:f.jsxs("div",{style:{display:"flex",gap:"8px",flexDirection:"column"},children:[f.jsxs("button",{onClick:()=>{$0(),dt(sc())},title:"Toggle dark mode (Ctrl+Shift+D)","aria-label":"Toggle dark mode",style:{padding:"8px 12px",background:vt==="dark"?"#1e293b":"#f3f4f6",color:vt==="dark"?"#f1f5f9":"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",fontWeight:"bold"},children:[vt==="dark"?"":"",vt==="dark"?"Light":"Dark"]}),f.jsx("hr",{}),f.jsx("button",{onClick:()=>Wn(a[0]?.id||bn()),"aria-label":"Add node",children:"+ New Root"}),f.jsx("hr",{}),f.jsx("div",{children:f.jsx("strong",{children:"Save As:"})}),f.jsx("button",{onClick:()=>Ct("json"),"aria-label":"Save as JSON",children:"JSON"}),f.jsx("button",{onClick:()=>Ct("freemind"),"aria-label":"Save as FreeMind",children:"FreeMind (.mm)"}),f.jsx("button",{onClick:()=>Ct("opml"),"aria-label":"Save as OPML",children:"OPML"}),f.jsx("button",{onClick:()=>Ct("markdown"),"aria-label":"Save as Markdown",children:"Markdown"}),f.jsx("button",{onClick:()=>Ct("d2"),"aria-label":"Save as D2",children:"D2"}),f.jsx("button",{onClick:()=>Ct("yaml"),"aria-label":"Save as YAML",children:"YAML"}),f.jsx("button",{onClick:()=>Ct("svg"),"aria-label":"Save as SVG",children:"SVG"}),f.jsx("hr",{}),f.jsx("div",{children:f.jsx("strong",{children:"Enhanced Exports:"})}),f.jsx("button",{onClick:()=>Ct("pdf"),"aria-label":"Export as PDF",children:"PDF (Print)"}),f.jsx("button",{onClick:()=>Ct("powerpoint"),"aria-label":"Export as PowerPoint",children:"PowerPoint"}),f.jsx("button",{onClick:()=>Ct("presentation"),"aria-label":"Export as Presentation",children:"Presentation"}),f.jsx("button",{onClick:()=>jk(Pi(a,d),"notion.md"),"aria-label":"Export as Notion/Obsidian",children:"Notion/Obsidian"}),f.jsx("hr",{}),f.jsx("div",{children:f.jsx("strong",{children:"Export As Image:"})}),f.jsx("button",{onClick:gi,"aria-label":"Export as SVG",children:"SVG"}),f.jsx("button",{onClick:kt,"aria-label":"Export as PNG",children:"PNG"}),f.jsx("hr",{}),f.jsx("div",{children:f.jsx("strong",{children:"Load From:"})}),f.jsx("button",{onClick:()=>hn("json"),"aria-label":"Load from JSON",children:"JSON"}),f.jsx("button",{onClick:()=>hn("freemind"),"aria-label":"Load from FreeMind",children:"FreeMind (.mm)"}),f.jsx("button",{onClick:()=>hn("opml"),"aria-label":"Load from OPML",children:"OPML"}),f.jsx("button",{onClick:()=>hn("markdown"),"aria-label":"Load from Markdown",children:"Markdown"}),f.jsx("button",{onClick:()=>hn("yaml"),"aria-label":"Load from YAML",children:"YAML"}),f.jsx("hr",{}),f.jsx("div",{children:f.jsx("strong",{children:"Cross-Links:"})}),f.jsx("button",{onClick:()=>R(!C),"aria-label":"Toggle cross-link mode",className:C?"active":"",style:{background:C?"#f59e0b":"#f3f4f6",color:C?"white":"#374151"},children:C?"Cancel Link Mode":"Add Cross-Link"}),C&&f.jsx("div",{style:{fontSize:"11px",color:"#666",marginTop:"4px"},children:k?"Source selected. Click target node.":"Click source node first."})]})}),f.jsx(Qi,{position:"bottom-left",children:f.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:[f.jsx("strong",{children:"Shortcuts:"}),f.jsx("br",{}),"Tab - Create child",f.jsx("br",{}),"Enter - Create sibling",f.jsx("br",{}),"Delete - Remove node",f.jsx("br",{}),"F2 - Edit text",f.jsx("br",{}),"Space - Toggle collapse",f.jsx("br",{}),f.jsx("strong",{children:"Multi-Select:"})," Shift+Click",f.jsx("br",{}),f.jsx("strong",{children:"Select All:"})," Ctrl+A",f.jsx("br",{}),f.jsx("strong",{children:"Zoom:"})," Ctrl +/-/0",f.jsx("br",{}),f.jsx("strong",{children:"Notes:"})," F3 / Ctrl+N",f.jsx("br",{}),f.jsx("strong",{children:"Stats:"})," Ctrl+I",f.jsx("br",{}),f.jsx("strong",{children:"Help:"})," ?",m&&f.jsx("button",{onClick:()=>_(!w),"aria-label":"Toggle notes panel",style:{marginTop:"8px",padding:"4px 8px",background:w?"#3b82f6":"#f3f4f6",color:w?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:w?"Hide Notes":"Show Notes"}),f.jsx("button",{onClick:()=>j(!0),"aria-label":"Show statistics",style:{marginTop:"4px",padding:"4px 8px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Statistics"}),f.jsx("button",{onClick:()=>F(!0),"aria-label":"Show keyboard shortcuts",style:{marginTop:"4px",padding:"4px 8px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Shortcuts"}),f.jsx("button",{onClick:()=>xe(!me),"aria-label":"Toggle AI assistant",style:{marginTop:"4px",padding:"4px 8px",background:me?"#8b5cf6":"#f3f4f6",color:me?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" AI Assistant"}),f.jsx("button",{onClick:()=>Je(!Xe),title:"Webhook Integration (Ctrl+Shift+W)","aria-label":"Toggle webhook panel",style:{marginTop:"4px",padding:"4px 8px",background:Xe?"#8b5cf6":"#f3f4f6",color:Xe?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Webhooks"}),f.jsx("button",{onClick:()=>He(!Ue),title:"Calendar Export (Ctrl+Shift+D)","aria-label":"Toggle calendar panel",style:{marginTop:"4px",padding:"4px 8px",background:Ue?"#8b5cf6":"#f3f4f6",color:Ue?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Calendar"}),f.jsx("button",{onClick:()=>Oe(!ot),title:"Email Integration (Ctrl+Shift+E)","aria-label":"Toggle email panel",style:{marginTop:"4px",padding:"4px 8px",background:ot?"#8b5cf6":"#f3f4f6",color:ot?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Email"}),f.jsx("button",{onClick:()=>nt(!ye),title:"Presentation Mode (Ctrl+Shift+P)","aria-label":"Start presentation mode",style:{marginTop:"4px",padding:"4px 8px",background:ye?"#8b5cf6":"#f3f4f6",color:ye?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Present"}),f.jsx("button",{onClick:()=>Gt(!ut),title:"3D View (Ctrl+Shift+3)","aria-label":"Toggle 3D view",style:{marginTop:"4px",padding:"4px 8px",background:ut?"#8b5cf6":"#f3f4f6",color:ut?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" 3D View"}),f.jsx("button",{onClick:()=>Jt(!Bt),title:"Templates (Ctrl+Shift+T)","aria-label":"Open templates panel",style:{marginTop:"4px",padding:"4px 8px",background:Bt?"#8b5cf6":"#f3f4f6",color:Bt?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Templates"}),f.jsx("button",{onClick:()=>Nt(!We),title:"Theme Settings (Ctrl+Shift+;)","aria-label":"Toggle theme settings",style:{marginTop:"4px",padding:"4px 8px",background:We?"#8b5cf6":"#f3f4f6",color:We?"white":"#374151",border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},children:" Theme"})]})}),f.jsx(Qi,{position:"top-left",children:f.jsx(S_,{nodeId:m,nodeLabel:Wt?.data.label||"",metadata:Wt?.data.metadata,icon:Wt?.data.icon,cloud:Wt?.data.cloud,onUpdateMetadata:oi,onUpdateIcon:al,onUpdateCloud:rl},m||"no-selection")})]}),f.jsx(w_,{visible:w,onClose:()=>_(!1),notes:Wt?.data.metadata?.notes||"",onSave:ne=>{m&&oi({...Wt?.data.metadata||{},notes:ne||void 0})}}),N&&f.jsx(j_,{saveHistory:$n,onRestore:Wl,onDelete:en,onClose:()=>P(!1)}),z&&f.jsx(z_,{saveSlot:z,onRestore:xo,onDismiss:()=>W(null)}),q&&f.jsx(N_,{history:Gn(),canUndo:tn,canRedo:it,onJump:yo,onUndo:qn,onRedo:Vn,onClose:()=>G(!1)}),te&&f.jsx(B_,{nodes:a,edges:d,selectedNodeId:m,onClose:()=>j(!1)}),I&&f.jsx(H_,{onClose:()=>F(!1)}),S&&y.size>1&&f.jsx($_,{selectedCount:y.size,onBulkDelete:ge,onBulkIconChange:be,onBulkCloudChange:Ze,onBulkColorChange:mt,availableIcons:Array.from(new Set(a.map(ne=>ne.data.icon).filter(ne=>!!ne))),onClearSelection:ve,onClose:()=>E(!1)}),le&&f.jsx(W_,{onZoomIn:bt,onZoomOut:qt,onFitView:Et,onAddNode:()=>a[0]&&Wn(a[0].id),onUndo:qn,onRedo:Vn,onToggleNotes:()=>_(!w),onToggleSearch:()=>H(!Y),canUndo:tn,canRedo:it,hasSelection:!!m}),f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading AI Assistant..."}),children:f.jsx(Zi,{name:"AIAssistant",children:f.jsx(Xk,{visible:me,onClose:()=>xe(!1),onGenerateMindMap:De,onSuggestIdeas:Dt,onSummarizeBranch:dn,selectedNodeId:m})})}),f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading Comments..."}),children:f.jsx(Zi,{name:"CommentsPanel",children:f.jsx(Fk,{visible:Ce,onClose:()=>we(!1),nodeId:m,nodeLabel:Wt?.data?.label||"",comments:Re,onAddComment:Zt,onResolveComment:mn,onDeleteComment:jt})})}),f.jsx(q_,{users:Mn,currentUser:K}),f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading Webhook Integration..."}),children:f.jsx(Zi,{name:"WebhookIntegration",children:f.jsx(Kk,{visible:Xe,onClose:()=>Je(!1),tree:Pi(a,d),onWebhookData:ne=>{ne.parentId&&Wn(ne.parentId)}})})}),f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading Calendar Export..."}),children:f.jsx(Zi,{name:"CalendarExport",children:f.jsx(Zk,{visible:Ue,onClose:()=>He(!1),tree:Pi(a,d)})})}),f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading Email Integration..."}),children:f.jsx(Zi,{name:"EmailIntegration",children:f.jsx(Qk,{visible:ot,onClose:()=>Oe(!1),tree:Pi(a,d)})})}),ye&&f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading Presentation..."}),children:f.jsx(Zi,{name:"PresentationMode",children:f.jsx(Pk,{visible:ye,onClose:()=>nt(!1),tree:Pi(a,d)})})}),ut&&f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading 3D View..."}),children:f.jsx(Zi,{name:"ThreeDView",children:f.jsx(Jk,{visible:ut,onClose:()=>Gt(!1),tree:Pi(a,d)})})}),f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading Templates..."}),children:f.jsx(Zi,{name:"TemplatesPanel",children:f.jsx(ej,{visible:Bt,onClose:()=>Jt(!1),onApplyTemplate:un})})}),f.jsx(A.Suspense,{fallback:f.jsx("div",{style:{padding:"20px",textAlign:"center"},children:"Loading Theme Settings..."}),children:f.jsx(Zi,{name:"ThemeSettings",children:f.jsx(tj,{visible:We,onClose:()=>Nt(!1),onThemeChange:()=>{}})})})]})}function oj(e){return f.jsx(bp,{children:f.jsx(lj,{...e})})}class aj extends A.Component{constructor(l){super(l),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(l,o){console.error("Error Boundary caught an error:",l,o),this.setState({error:l,errorInfo:o})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:f.jsxs("div",{style:{padding:"48px",maxWidth:"600px",margin:"48px auto",textAlign:"center",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px"},children:[f.jsx("h2",{style:{color:"#dc2626",marginBottom:"16px",fontSize:"24px"},children:"Something went wrong"}),f.jsx("p",{style:{color:"#7f1d1d",marginBottom:"24px",lineHeight:"1.6"},children:"The application encountered an unexpected error. You can try resetting the application or reload the page."}),f.jsxs("details",{style:{textAlign:"left",background:"white",padding:"16px",borderRadius:"4px",marginBottom:"24px",border:"1px solid #e5e7eb"},children:[f.jsx("summary",{style:{cursor:"pointer",fontWeight:"bold",marginBottom:"8px",color:"#374151"},children:"Error details"}),f.jsxs("pre",{style:{fontSize:"12px",overflow:"auto",maxHeight:"200px",background:"#f9fafb",padding:"12px",borderRadius:"4px",border:"1px solid #e5e7eb"},children:[this.state.error&&this.state.error.toString(),`
`,this.state.errorInfo&&this.state.errorInfo.componentStack]})]}),f.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[f.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"Try Again"}),f.jsx("button",{onClick:()=>window.location.reload(),style:{padding:"12px 24px",background:"white",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"16px"},children:"Reload Page"})]})]}):this.props.children}}function rj(){const e={id:"root",content:"Central Topic",children:[],position:{x:400,y:300}};return f.jsx(aj,{children:f.jsx(oj,{initialData:e})})}IS.createRoot(document.getElementById("root")).render(f.jsx(A.StrictMode,{children:f.jsx(rj,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(e=>{console.log("Service Worker registered with scope:",e.scope)}).catch(e=>{console.error("Service Worker registration failed:",e)})});function sj({visible:e,onClose:l,onGenerateMindMap:o,onSuggestIdeas:a,onSummarizeBranch:s,selectedNodeId:c}){const[d,h]=A.useState(()=>localStorage.getItem("ai_api_key")||""),[g,m]=A.useState(()=>localStorage.getItem("ai_provider")||"none"),[x,y]=A.useState(""),[v,S]=A.useState(""),[E,w]=A.useState(!1),_=A.useRef(null),C=Ab({isOpen:e,onClose:l,trapFocus:!0,autoFocus:!0,restoreFocus:!0});A.useEffect(()=>{localStorage.setItem("ai_api_key",d)},[d]),A.useEffect(()=>{localStorage.setItem("ai_provider",g)},[g]),A.useEffect(()=>{_.current?.scrollIntoView({behavior:"smooth"})},[v]);const R=async()=>{if(!(!x.trim()||!d)){w(!0);try{const B=await Cf(x,"generate",g,d);S(B);const O=cj(B);O&&o(O)}catch(B){ti(B instanceof Error?B:new Error(String(B)),"AIAssistant-handleGenerate"),S(`Error: ${B instanceof Error?B.message:"Unknown error"}`)}finally{w(!1)}}},k=async()=>{if(!(!c||!d)){w(!0);try{const B=await Cf("Generate 5 creative ideas related to the selected node","suggest",g,d);S(B),a(c)}catch(B){ti(B instanceof Error?B:new Error(String(B)),"AIAssistant-handleSuggestIdeas"),S(`Error: ${B instanceof Error?B.message:"Unknown error"}`)}finally{w(!1)}}},M=async()=>{if(!(!c||!d)){w(!0);try{const B=await Cf("Summarize the mind map branch for the selected node","summarize",g,d);S(B),s(c)}catch(B){ti(B instanceof Error?B:new Error(String(B)),"AIAssistant-handleSummarize"),S(`Error: ${B instanceof Error?B.message:"Unknown error"}`)}finally{w(!1)}}};return e?f.jsxs("div",{ref:C,role:"dialog","aria-modal":"true","aria-labelledby":"ai-assistant-title",style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",width:"400px",maxWidth:"90vw",background:"white",border:"1px solid #d1d5db",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column",maxHeight:"80vh"},children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px 12px 0 0"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),f.jsx("h2",{id:"ai-assistant-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"AI Assistant"})]}),f.jsx("button",{onClick:l,"aria-label":"Close AI assistant panel",style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},children:""})]}),f.jsxs("div",{style:{padding:"16px",overflowY:"auto",flex:1},children:[f.jsxs("div",{role:"group","aria-labelledby":"ai-config-title",style:{marginBottom:"16px"},children:[f.jsx("h3",{id:"ai-config-title",style:{fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"AI Provider"}),f.jsx("label",{htmlFor:"ai-provider-select",style:{display:"none"},children:"Select AI provider"}),f.jsxs("select",{id:"ai-provider-select",value:g,onChange:B=>m(B.target.value),"aria-label":"Select AI provider",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",marginBottom:"8px"},children:[f.jsx("option",{value:"none",children:"Select Provider..."}),f.jsx("option",{value:"openai",children:"OpenAI (GPT-4)"}),f.jsx("option",{value:"anthropic",children:"Anthropic (Claude)"})]}),g!=="none"&&f.jsxs(f.Fragment,{children:[f.jsx("label",{htmlFor:"ai-api-key",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"API Key"}),f.jsx("input",{id:"ai-api-key",type:"password",value:d,onChange:B=>h(B.target.value),placeholder:"Enter your API key...","aria-label":"Enter your API key for the selected AI provider",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:" Your API key is stored locally and never sent to our servers"})]})]}),g!=="none"&&d&&f.jsxs("div",{role:"group","aria-labelledby":"quick-actions-title",style:{marginBottom:"16px"},children:[f.jsx("label",{id:"quick-actions-title",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"8px"},children:"Quick Actions"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[f.jsx("button",{onClick:k,disabled:!c||E,"aria-label":c?E?"Generating ideas...":"Generate ideas for selected node":"Select a node to generate ideas",style:{padding:"10px",background:c?"#3b82f6":"#d1d5db",color:"white",border:"none",borderRadius:"6px",cursor:c&&!E?"pointer":"not-allowed",fontSize:"13px",opacity:c&&!E?1:.5,display:"flex",alignItems:"center",gap:"8px"},children:" Generate Ideas for Selected Node"}),f.jsx("button",{onClick:M,disabled:!c||E,"aria-label":c?E?"Summarizing...":"Summarize branch for selected node":"Select a node to summarize branch",style:{padding:"10px",background:c?"#8b5cf6":"#d1d5db",color:"white",border:"none",borderRadius:"6px",cursor:c&&!E?"pointer":"not-allowed",fontSize:"13px",opacity:c&&!E?1:.5,display:"flex",alignItems:"center",gap:"8px"},children:" Summarize Branch"})]})]}),g!=="none"&&d&&f.jsxs("div",{role:"group","aria-labelledby":"generate-title",style:{marginBottom:"16px"},children:[f.jsx("label",{id:"generate-title",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"8px"},children:"Generate Mind Map from Text"}),f.jsx("label",{htmlFor:"ai-prompt",style:{display:"none"},children:"Enter text to generate mind map"}),f.jsx("textarea",{id:"ai-prompt",value:x,onChange:B=>y(B.target.value),placeholder:"Enter a topic or paste text to generate a mind map...","aria-label":"Enter topic or text to generate mind map from",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px",minHeight:"80px",resize:"vertical",fontFamily:"inherit"}}),f.jsx("button",{onClick:R,disabled:!x.trim()||E,"aria-label":x.trim()?E?"Generating mind map...":"Generate mind map from text":"Enter text to generate mind map",style:{marginTop:"8px",padding:"10px 16px",background:x.trim()&&!E?"#10b981":"#d1d5db",color:"white",border:"none",borderRadius:"6px",cursor:x.trim()&&!E?"pointer":"not-allowed",fontSize:"13px",fontWeight:"bold",opacity:x.trim()&&!E?1:.5},children:E?" Generating...":" Generate Mind Map"})]}),v&&f.jsxs("div",{role:"region","aria-labelledby":"ai-response-title",style:{padding:"12px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",whiteSpace:"pre-wrap",maxHeight:"200px",overflowY:"auto"},children:[f.jsx("h4",{id:"ai-response-title",style:{margin:"0 0 8px 0",fontSize:"12px",fontWeight:"bold",color:"#374151"},children:"AI Response"}),v]}),f.jsx("div",{ref:_})]})]}):null}async function Cf(e,l,o,a){const s={generate:`You are a mind map generator. Convert the user's text into a hierarchical mind map structure.
Use indentation to show hierarchy. Format:
Root Topic
  Subtopic 1
    Detail 1.1
    Detail 1.2
  Subtopic 2
    Detail 2.1`,suggest:`You are a creative brainstorming assistant. Generate 5 creative, relevant ideas related to the user's topic.
Each idea should be concise (1-2 sentences) and actionable.`,summarize:"You are a summarization expert. Create a clear, concise summary of the provided content."},c=s[l]||s.generate;if(o==="openai"){const d=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify({model:"gpt-4",messages:[{role:"system",content:c},{role:"user",content:e}],temperature:.7})});if(!d.ok){const g=await d.json();throw new Error(g.error?.message||"API request failed")}return(await d.json()).choices[0]?.message?.content||"No response"}else if(o==="anthropic"){const d=await fetch("https://api.anthropic.com/v1/messages",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":a,"anthropic-version":"2023-06-01"},body:JSON.stringify({model:"claude-3-sonnet-20240229",max_tokens:1024,system:c,messages:[{role:"user",content:e}]})});if(!d.ok){const g=await d.json();throw new Error(g.error?.message||"API request failed")}return(await d.json()).content[0]?.text||"No response"}throw new Error("No AI provider selected")}function cj(e){return e.split(`
`).filter(o=>o.trim()).join(`
`)}const uj=Object.freeze(Object.defineProperty({__proto__:null,default:sj},Symbol.toStringTag,{value:"Module"}));function dj({visible:e,onClose:l,nodeId:o,nodeLabel:a,comments:s,onAddComment:c,onResolveComment:d,onDeleteComment:h}){const[g,m]=A.useState(""),x=A.useRef(null);if(A.useEffect(()=>{x.current?.scrollIntoView({behavior:"smooth"})},[s]),!e)return null;const y=s.filter(E=>E.nodeId===o),v=y.filter(E=>!E.resolved).length,S=E=>{E.preventDefault(),g.trim()&&(c(g),m(""))};return f.jsxs("div",{role:"region","aria-labelledby":"comments-panel-title",style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",width:"350px",maxHeight:"70vh",background:"white",border:"1px solid #d1d5db",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px 12px 0 0"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),f.jsxs("div",{children:[f.jsx("h2",{id:"comments-panel-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Comments"}),v>0&&f.jsxs("span",{style:{fontSize:"11px",opacity:.9},"aria-label":`${v} unresolved comments`,children:[v," unresolved"]})]})]}),f.jsx("button",{onClick:l,"aria-label":"Close comments panel",style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},children:""})]}),o&&f.jsxs("div",{style:{padding:"12px 16px",background:"#f9fafb",borderBottom:"1px solid #e5e7eb",fontSize:"12px"},children:[f.jsx("strong",{children:"Node:"})," ",a]}),f.jsxs("div",{role:"list","aria-label":`Comments for ${a||"selected node"}`,style:{flex:1,overflowY:"auto",padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[o?y.length===0?f.jsx("div",{role:"status",style:{textAlign:"center",color:"#6b7280",fontSize:"14px",padding:"24px"},children:"No comments yet. Be the first to comment!"}):y.map(E=>f.jsxs("div",{role:"listitem","aria-label":`Comment by ${E.author}: ${E.content.slice(0,50)}${E.content.length>50?"...":""}${E.resolved?", resolved":""}`,style:{padding:"12px",background:E.resolved?"#f0fdf4":"#f9fafb",border:`1px solid ${E.resolved?"#86efac":"#e5e7eb"}`,borderRadius:"8px",opacity:E.resolved?.7:1},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"8px"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[f.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:E.authorColor,color:"white",fontSize:"10px",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center"},children:E.author.charAt(0).toUpperCase()}),f.jsx("span",{style:{fontSize:"12px",fontWeight:"bold"},children:E.author}),E.resolved&&f.jsx("span",{style:{fontSize:"10px",background:"#86efac",color:"#166534",padding:"2px 6px",borderRadius:"4px"},children:" Resolved"})]}),f.jsx("span",{style:{fontSize:"10px",color:"#6b7280"},children:new Date(E.timestamp).toLocaleTimeString()})]}),f.jsx("p",{style:{margin:0,fontSize:"13px",color:"#374151",lineHeight:"1.4"},children:E.content}),f.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:[!E.resolved&&f.jsx("button",{onClick:()=>d(E.id),"aria-label":`Resolve comment from ${E.author}`,style:{padding:"4px 8px",background:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"Resolve"}),f.jsx("button",{onClick:()=>h(E.id),"aria-label":`Delete comment from ${E.author}`,style:{padding:"4px 8px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},children:"Delete"})]})]},E.id)):f.jsx("div",{role:"status",style:{textAlign:"center",color:"#6b7280",fontSize:"14px",padding:"24px"},children:"Select a node to view comments"}),f.jsx("div",{ref:x})]}),o&&f.jsxs("form",{onSubmit:S,style:{padding:"12px",borderTop:"1px solid #e5e7eb",display:"flex",gap:"8px"},children:[f.jsx("label",{htmlFor:"comment-input",style:{display:"none"},children:"Add a comment"}),f.jsx("input",{id:"comment-input",type:"text",value:g,onChange:E=>m(E.target.value),placeholder:"Add a comment...","aria-label":"Add a new comment",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"13px"}}),f.jsx("button",{type:"submit",disabled:!g.trim(),"aria-label":g.trim()?"Submit comment":"Enter comment text to submit",style:{padding:"8px 16px",background:g.trim()?"#8b5cf6":"#d1d5db",color:"white",border:"none",borderRadius:"6px",cursor:g.trim()?"pointer":"not-allowed",fontSize:"13px",fontWeight:"bold",opacity:g.trim()?1:.5},children:"Send"})]})]})}const fj=Object.freeze(Object.defineProperty({__proto__:null,default:dj},Symbol.toStringTag,{value:"Module"}));function pj(e){return`${window.location.origin}/api/webhook/${e}`}function G0(e){localStorage.setItem("mindmap_webhook_config",JSON.stringify(e))}function hj(){const e=localStorage.getItem("mindmap_webhook_config");if(e)try{return JSON.parse(e)}catch{return null}return null}async function gj(e,l,o,a){try{const s={action:a,data:{tree:o,timestamp:Date.now(),url:window.location.href},apiKey:l};return(await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":l},body:JSON.stringify(s)})).ok}catch(s){return ti(s instanceof Error?s:new Error(String(s)),"triggerWebhook"),console.error("Webhook trigger failed:",s),!1}}function mj(){return{action:"add_node",data:{content:"New idea from Zapier",metadata:{source:"Trello",cardId:"12345",list:"Ideas"}},source:"zapier",timestamp:Date.now()}}function xj(e){return typeof e=="object"&&e!==null&&"action"in e&&"data"in e&&"source"in e&&"timestamp"in e&&typeof e.action=="string"&&typeof e.data=="object"&&typeof e.data.content=="string"&&typeof e.source=="string"&&typeof e.timestamp=="number"&&["create","update","add_node"].includes(e.action)}function yj({visible:e,onClose:l,tree:o,onWebhookData:a}){const[s,c]=A.useState({enabled:!1,webhookUrl:"",apiKey:""}),[d,h]=A.useState(""),[g,m]=A.useState(""),[x,y]=A.useState(""),[v,S]=A.useState(null);A.useEffect(()=>{const k=hj();k&&(c(k),k.lastTriggered&&y(new Date(k.lastTriggered).toLocaleString())),h(JSON.stringify(mj(),null,2))},[]);const E=A.useCallback((k,M)=>{S({type:k,text:M}),setTimeout(()=>S(null),3e3)},[]),w=()=>{G0(s),E("success","Webhook configuration saved!")},_=A.useCallback(async()=>{if(!s.webhookUrl||!o){E("error","Please enter a webhook URL");return}if(await gj(s.webhookUrl,s.apiKey,o,"updated")){const M=Date.now(),B={...s,lastTriggered:M};G0(B),c(B),y(new Date(M).toLocaleString()),E("success","Webhook triggered successfully!")}else E("error","Failed to trigger webhook. Check URL and API key.")},[s,o]),C=A.useCallback(()=>{try{const k=JSON.parse(g);xj(k)?(a?.({nodeId:`webhook_${Date.now()}`,content:k.data.content,parentId:k.data.parentId}),E("success","Incoming webhook data processed!"),m("")):E("error","Invalid webhook payload format")}catch{E("error","Invalid JSON format")}},[g,a]);if(!e)return null;const R=s.apiKey?pj(s.apiKey):"";return f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"webhook-integration-title",style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",width:"450px",maxHeight:"80vh",background:"white",border:"1px solid #d1d5db",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px 12px 0 0"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),f.jsx("h2",{id:"webhook-integration-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Webhook Integration"})]}),f.jsx("button",{onClick:l,"aria-label":"Close webhook integration panel",style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},children:""})]}),f.jsxs("div",{style:{padding:"16px",overflowY:"auto",flex:1},children:[v&&f.jsx("div",{role:"alert","aria-live":"polite",style:{padding:"12px",marginBottom:"16px",borderRadius:"6px",background:v.type==="success"?"#d1fae5":"#fee2e2",color:v.type==="success"?"#065f46":"#991b1b",fontSize:"13px"},children:v.text}),f.jsxs("div",{role:"group","aria-labelledby":"webhook-config-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"webhook-config-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Configuration"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{htmlFor:"webhook-enabled",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Enable Webhooks"}),f.jsxs("select",{id:"webhook-enabled",value:s.enabled?"enabled":"disabled",onChange:k=>c({...s,enabled:k.target.value==="enabled"}),"aria-label":"Enable or disable webhooks",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[f.jsx("option",{value:"disabled",children:"Disabled"}),f.jsx("option",{value:"enabled",children:"Enabled"})]})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{htmlFor:"webhook-url",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Webhook URL"}),f.jsx("input",{id:"webhook-url",type:"text",value:s.webhookUrl,onChange:k=>c({...s,webhookUrl:k.target.value}),placeholder:"https://hooks.zapier.com/hooks/catch/...","aria-label":"Enter your webhook URL",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),f.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"4px"},children:"Enter your Zapier/Make webhook URL"})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{htmlFor:"webhook-api-key",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"API Key"}),f.jsx("input",{id:"webhook-api-key",type:"password",value:s.apiKey,onChange:k=>c({...s,apiKey:k.target.value}),placeholder:"Enter your API key...","aria-label":"Enter your API key for webhook authentication",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),R&&f.jsxs("div",{role:"region","aria-label":"Your webhook endpoint",style:{padding:"8px",background:"#f3f4f6",borderRadius:"6px",fontSize:"11px",marginBottom:"12px"},children:[f.jsx("strong",{children:"Your endpoint:"})," ",R]}),x&&f.jsxs("div",{role:"status","aria-live":"polite",style:{fontSize:"11px",color:"#6b7280"},children:["Last triggered: ",x]}),f.jsx("button",{onClick:w,"aria-label":"Save webhook configuration",style:{marginTop:"8px",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"Save Configuration"})]}),f.jsxs("div",{role:"group","aria-labelledby":"test-webhook-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"test-webhook-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Test Webhook"}),f.jsxs("div",{role:"region","aria-labelledby":"test-payload-title",style:{padding:"12px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"11px",fontFamily:"monospace",marginBottom:"8px",maxHeight:"120px",overflowY:"auto"},children:[f.jsx("h4",{id:"test-payload-title",style:{margin:"0 0 4px 0",fontSize:"10px",fontWeight:"bold",color:"#6b7280"},children:"Test Payload Preview"}),d]}),f.jsx("button",{onClick:_,disabled:!s.webhookUrl,"aria-label":s.webhookUrl?"Send test payload to webhook":"Enter webhook URL to enable testing",style:{padding:"8px 16px",background:s.webhookUrl?"#10b981":"#d1d5db",color:"white",border:"none",borderRadius:"6px",cursor:s.webhookUrl?"pointer":"not-allowed",fontSize:"13px",fontWeight:"bold",opacity:s.webhookUrl?1:.5},children:"Send Test Payload"})]}),f.jsxs("div",{role:"group","aria-labelledby":"incoming-webhook-title",children:[f.jsx("h3",{id:"incoming-webhook-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Simulate Incoming Webhook"}),f.jsx("label",{htmlFor:"webhook-incoming",style:{display:"none"},children:"Enter webhook payload to simulate"}),f.jsx("textarea",{id:"webhook-incoming",value:g,onChange:k=>m(k.target.value),placeholder:'{"action":"add_node","data":{"content":"New idea"},"source":"zapier","timestamp":1234567890}',"aria-label":"Enter JSON webhook payload to simulate incoming webhook",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"12px",fontFamily:"monospace",minHeight:"80px",resize:"vertical",marginBottom:"8px"}}),f.jsx("button",{onClick:C,disabled:!g.trim(),"aria-label":g.trim()?"Process incoming webhook data":"Enter JSON data to process",style:{padding:"8px 16px",background:g.trim()?"#8b5cf6":"#d1d5db",color:"white",border:"none",borderRadius:"6px",cursor:g.trim()?"pointer":"not-allowed",fontSize:"13px",fontWeight:"bold",opacity:g.trim()?1:.5},children:"Process Incoming Data"})]}),f.jsxs("div",{role:"region","aria-labelledby":"webhook-help-title",style:{marginTop:"20px",padding:"12px",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"6px",fontSize:"11px",color:"#1e40af"},children:[f.jsx("strong",{id:"webhook-help-title",children:"How to use:"}),f.jsxs("ol",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[f.jsx("li",{children:"Create a webhook in Zapier or Make"}),f.jsx("li",{children:"Paste the webhook URL above"}),f.jsx("li",{children:"Configure trigger actions"}),f.jsx("li",{children:"Test your integration"})]})]})]})]})}const bj=Object.freeze(Object.defineProperty({__proto__:null,default:yj},Symbol.toStringTag,{value:"Module"}));function vj(e,l="mindmap.ics"){const o=Yc(e),a=Sj(o),s=new Blob([a],{type:"text/calendar;charset=utf-8"}),c=URL.createObjectURL(s),d=document.createElement("a");d.href=c,d.download=l,d.click(),URL.revokeObjectURL(c)}function Sj(e){const l=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//MindMapWeb//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH"];return e.forEach(o=>{l.push("BEGIN:VEVENT"),l.push(`UID:${Date.now()}_${Math.random().toString(36).substr(2,9)}@mindmapweb`),l.push(`DTSTAMP:${ra(new Date)}`),l.push(`DTSTART:${ra(o.start)}`),l.push(`DTEND:${ra(o.end)}`),o.due&&l.push(`DUE:${ra(o.due)}`),o.status&&l.push(`STATUS:${o.status}`),o.priority&&l.push(`PRIORITY:${o.priority}`),o.location&&l.push(`LOCATION:${Af(o.location)}`),l.push(`SUMMARY:${Af(o.summary)}`),l.push(`DESCRIPTION:${Af(o.description)}`),l.push("END:VEVENT")}),l.push("END:VCALENDAR"),l.join(`\r
`)}function ra(e){return e.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z"}function Af(e){return e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n").substring(0,2e3)}function Yc(e){const l=[],o=new Date,a=(s,c=0)=>{let d,h,g;s.metadata?.dueDate&&(d=new Date(s.metadata.dueDate));const m=s.content.toLowerCase();if(s.metadata?.checked||s.metadata?.completed||m.includes("")||m.includes("done")?h="COMPLETED":(m.includes("in progress")||m.includes("doing"))&&(h="IN-PROCESS"),s.metadata?.priority?g=s.metadata.priority:m.includes("urgent")||m.includes("asap")?g=1:m.includes("important")&&(g=5),s.metadata?.task||s.metadata?.checked!==void 0||m.match(/task|todo|deadline|due|deliverable/i)||d){const y=d||o,v=d?new Date(d.getTime()+3600*1e3):new Date(o.getTime()+3600*1e3);l.push({summary:s.content,description:wj(s,c),location:s.metadata?.location,start:y,end:v,due:d,status:h,priority:g})}s.children&&s.children.forEach(y=>a(y,c+1))};return a(e),l}function wj(e,l){const o=[];e.metadata?.notes&&o.push(`Notes: ${e.metadata.notes}`),e.metadata?.link&&o.push(`Link: ${e.metadata.link}`);const a=e.children?.length||0;return a>0&&o.push(`Subtasks: ${a}`),o.push(`Mind Map Depth: ${l}`),o.join("\\n")}function ep(e){const l=new URLSearchParams({action:"TEMPLATE",text:e.summary,details:e.description.replace(/\\n/g,`
`),dates:`${ra(e.start)}/${ra(e.end)}`});return e.location&&l.set("location",e.location),`https://calendar.google.com/calendar/render?${l.toString()}`}function Ej(e){const l=Yc(e);if(l.length===0){alert("No task or deadline events found in the mind map.");return}const o=ep(l[0]);window.open(o,"_blank")}function Cj(e){const l=Yc(e);if(l.length===0){alert("No task or deadline events found in the mind map.");return}if(l.length===1)window.open(ep(l[0]),"_blank");else{let o=0;const a=()=>{o<l.length&&(window.open(ep(l[o]),"_blank"),o++,setTimeout(a,500))};a()}}function Aj(e){const l={total:0,completed:0,pending:0,overdue:0,upcoming:0},o=new Date,a=s=>{if(s.metadata?.task||s.metadata?.checked!==void 0||s.content.toLowerCase().match(/task|todo|deadline|due|deliverable/i)){if(l.total++,s.metadata?.checked||s.metadata?.completed||s.content.includes(""))l.completed++;else if(l.pending++,s.metadata?.dueDate){const d=new Date(s.metadata.dueDate);d<o?l.overdue++:d.getTime()-o.getTime()<10080*60*1e3&&l.upcoming++}}s.children&&s.children.forEach(a)};return a(e),l}function Tj(e){const l=new Map,o=a=>{if(a.metadata?.dueDate||a.metadata?.created){const c=new Date(a.metadata.dueDate||a.metadata.created).toISOString().split("T")[0];l.set(c,(l.get(c)||0)+1)}a.children&&a.children.forEach(o)};return o(e),Array.from(l.entries()).map(([a,s])=>({date:a,count:s})).sort((a,s)=>a.date.localeCompare(s.date))}function _j(e,l="mindmap-tasks.csv"){const o=Yc(e),s=[["Subject","Start Date","Start Time","End Date","End Time","Description","Location","Status"]];o.forEach(m=>{s.push([m.summary,m.start.toISOString().split("T")[0],m.start.toTimeString().slice(0,5),m.end.toISOString().split("T")[0],m.end.toTimeString().slice(0,5),m.description.replace(/\\n/g," "),m.location||"",m.status||"NEEDS-ACTION"])});const c=s.map(m=>m.map(x=>`"${x}"`).join(",")).join(`
`),d=new Blob([c],{type:"text/csv;charset=utf-8"}),h=URL.createObjectURL(d),g=document.createElement("a");g.href=h,g.download=l,g.click(),URL.revokeObjectURL(h)}function kj({visible:e,onClose:l,tree:o}){const a=A.useMemo(()=>o?Aj(o):{total:0,completed:0,pending:0,overdue:0,upcoming:0},[o]),s=A.useMemo(()=>o?Tj(o):[],[o]),c=()=>{o&&vj(o,"mindmap-tasks.ics")},d=()=>{o&&_j(o,"mindmap-tasks.csv")},h=()=>{o&&Ej(o)},g=()=>{o&&Cj(o)};if(!e)return null;const m=()=>a.total===0?0:Math.round(a.completed/a.total*100),x=Math.max(...s.map(y=>y.count),1);return f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"calendar-export-title",style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",width:"420px",maxHeight:"80vh",background:"white",border:"1px solid #d1d5db",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px 12px 0 0"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),f.jsx("h2",{id:"calendar-export-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Calendar Export"})]}),f.jsx("button",{onClick:l,"aria-label":"Close calendar export panel",style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},children:""})]}),f.jsxs("div",{style:{padding:"16px",overflowY:"auto",flex:1},children:[f.jsxs("div",{role:"region","aria-labelledby":"task-summary-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"task-summary-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Task Summary"}),f.jsxs("div",{role:"group","aria-label":`Task statistics: ${a.total} total, ${a.completed} completed, ${a.pending} pending, ${a.overdue} overdue`,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"12px"},children:[f.jsxs("div",{style:{padding:"12px",background:"#f3f4f6",borderRadius:"6px",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#3b82f6"},children:a.total}),f.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"Total Tasks"})]}),f.jsxs("div",{style:{padding:"12px",background:"#ecfdf5",borderRadius:"6px",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#10b981"},children:a.completed}),f.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"Completed"})]}),f.jsxs("div",{style:{padding:"12px",background:"#fef3c7",borderRadius:"6px",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#f59e0b"},children:a.pending}),f.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"Pending"})]}),f.jsxs("div",{style:{padding:"12px",background:"#fee2e2",borderRadius:"6px",textAlign:"center"},children:[f.jsx("div",{style:{fontSize:"24px",fontWeight:"bold",color:"#ef4444"},children:a.overdue}),f.jsx("div",{style:{fontSize:"11px",color:"#6b7280"},children:"Overdue"})]})]}),f.jsxs("div",{role:"progressbar","aria-valuenow":m(),"aria-valuemin":0,"aria-valuemax":100,"aria-label":`Task completion: ${m()}%`,style:{marginBottom:"8px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"11px",marginBottom:"4px"},children:[f.jsx("span",{style:{color:"#6b7280"},children:"Progress"}),f.jsxs("span",{style:{fontWeight:"bold",color:"#374151"},children:[m(),"%"]})]}),f.jsx("div",{style:{width:"100%",height:"8px",background:"#e5e7eb",borderRadius:"4px"},children:f.jsx("div",{style:{width:`${m()}%`,height:"100%",background:"linear-gradient(90deg, #10b981 0%, #3b82f6 100%)",borderRadius:"4px",transition:"width 0.3s"}})})]})]}),f.jsxs("div",{role:"group","aria-labelledby":"export-options-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"export-options-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Export Options"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[f.jsxs("button",{onClick:c,"aria-label":"Download mind map tasks as ICS file for iCalendar",style:{padding:"12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Download ICS File (iCalendar)"]}),f.jsxs("button",{onClick:d,"aria-label":"Export mind map tasks as CSV file",style:{padding:"12px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Export as CSV"]}),f.jsxs("button",{onClick:h,"aria-label":"Open first task in Google Calendar",style:{padding:"12px",background:"#4285f4",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Open in Google Calendar (First Task)"]}),f.jsxs("button",{onClick:g,"aria-label":"Export all tasks to Google Calendar",style:{padding:"12px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Export All to Google Calendar"]})]})]}),s.length>0&&f.jsxs("div",{role:"region","aria-labelledby":"activity-calendar-title",children:[f.jsx("h3",{id:"activity-calendar-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Activity Calendar"}),f.jsx("div",{role:"grid","aria-label":`Activity calendar showing ${s.length} days`,style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"4px",marginBottom:"8px"},children:s.slice(-28).map(({date:y,count:v})=>{const S=v/x,E=S===0?"#f3f4f6":S<.25?"#c7d2fe":S<.5?"#818cf8":S<.75?"#4f46e5":"#312e81";return f.jsx("div",{role:"gridcell","aria-label":`${y}: ${v} tasks`,title:`${y}: ${v} tasks`,style:{aspectRatio:1,background:E,borderRadius:"2px",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:w=>{w.currentTarget.style.transform="scale(1.2)"},onMouseLeave:w=>{w.currentTarget.style.transform="scale(1)"}},y)})}),f.jsxs("div",{role:"legend","aria-label":"Activity intensity legend",style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"10px",color:"#6b7280"},children:[f.jsx("span",{children:"Less"}),f.jsxs("div",{style:{display:"flex",gap:"2px"},children:[f.jsx("div",{style:{width:"12px",height:"12px",background:"#f3f4f6",borderRadius:"2px"}}),f.jsx("div",{style:{width:"12px",height:"12px",background:"#c7d2fe",borderRadius:"2px"}}),f.jsx("div",{style:{width:"12px",height:"12px",background:"#818cf8",borderRadius:"2px"}}),f.jsx("div",{style:{width:"12px",height:"12px",background:"#4f46e5",borderRadius:"2px"}}),f.jsx("div",{style:{width:"12px",height:"12px",background:"#312e81",borderRadius:"2px"}})]}),f.jsx("span",{children:"More"})]})]}),f.jsxs("div",{role:"region","aria-labelledby":"calendar-help-title",style:{marginTop:"20px",padding:"12px",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"6px",fontSize:"11px",color:"#1e40af"},children:[f.jsx("strong",{id:"calendar-help-title",children:"Tip:"}),' Add due dates to nodes using metadata to create calendar events. Tasks are detected from checkbox nodes or content containing "task", "todo", or "deadline".']})]})]})}const jj=Object.freeze(Object.defineProperty({__proto__:null,default:kj},Symbol.toStringTag,{value:"Module"}));function zj(e,l){const o=Rj(e,l),a=encodeURIComponent(l.subject||`Mind Map: ${e.content}`),s=encodeURIComponent(o);window.location.href=`mailto:${l.recipient}?subject=${a}&body=${s}`}function Rj(e,l){switch(l.format){case"summary":return tp(e,l);case"detailed":return Mj(e);case"bullet-points":return Nj(e);case"newsletter":return Dj(e);default:return tp(e,l)}}function tp(e,l){const o=[];return o.push("MIND MAP SUMMARY"),o.push("=".repeat(50)),o.push(""),o.push(`Title: ${e.content}`),o.push(`Total Nodes: ${Ur(e)}`),o.push(`Depth: ${_p(e)}`),o.push(""),l.includePlainText&&(o.push("STRUCTURE:"),o.push(E1(e,0))),e.metadata?.notes&&(o.push(""),o.push("NOTES:"),o.push(e.metadata.notes)),o.join(`
`)}function Mj(e,l){const o=[];o.push("MIND MAP - DETAILED VIEW"),o.push("=".repeat(50)),o.push("");const a=(s,c=0)=>{const d="  ".repeat(c),h=c===0?"":`${d} `;o.push(`${h}${s.content}`),s.metadata?.notes&&o.push(`${d}  Notes: ${s.metadata.notes}`),s.metadata?.link&&o.push(`${d}  Link: ${s.metadata.link}`),s.children&&s.children.length>0&&s.children.forEach(g=>a(g,c+1))};return a(e),o.push(""),o.push("---"),o.push("Generated by MindMapWeb"),o.push(`Date: ${new Date().toLocaleDateString()}`),o.join(`
`)}function Nj(e,l){const o=[];o.push(` ${e.content}`),o.push("");const a=(s,c=0)=>{const d=c===0?"":"  ".repeat(c-1)+(c>0?" ":"");o.push(`${d}${s.content}`),s.children&&s.children.length>0&&s.children.forEach(h=>a(h,c+1))};return e.children&&e.children.forEach(s=>a(s,1)),o.join(`
`)}function Dj(e,l){const o=[];return o.push(""),o.push("       MIND MAP NEWSLETTER             "),o.push(""),o.push(""),o.push(` ${e.content.toUpperCase()}`),o.push(""),o.push("".repeat(50)),o.push(""),e.children&&e.children.length>0&&e.children.slice(0,5).forEach((a,s)=>{o.push(`${s+1}. ${a.content.toUpperCase()}`),o.push(""),a.children&&a.children.length>0&&a.children.slice(0,3).forEach(c=>{o.push(`    ${c.content}`)}),o.push("")}),o.push("".repeat(50)),o.push(""),o.push(" Quick Stats:"),o.push(`    Total Topics: ${Ur(e)}`),o.push(`    Main Sections: ${e.children?.length||0}`),o.push(""),o.push("Thank you for reading!"),o.push(""),o.push("".repeat(50)),o.push("Generated by MindMapWeb"),o.join(`
`)}function E1(e,l){const o=[],a="  ".repeat(l);return o.push(`${a}${e.content}`),e.children&&e.children.length>0&&e.children.forEach(s=>{o.push(E1(s,l+1))}),o.join(`
`)}function C1(e){return`
<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>${Mc(e.content)}</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
      padding: 20px;
    }
    .header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 20px;
      border-radius: 8px;
      margin-bottom: 20px;
    }
    .header h1 {
      margin: 0;
      font-size: 24px;
    }
    .node {
      margin: 10px 0;
      padding: 8px;
      background: #f9fafb;
      border-left: 3px solid #667eea;
      border-radius: 4px;
    }
    .node-children {
      margin-left: 20px;
    }
    .footer {
      margin-top: 30px;
      padding-top: 20px;
      border-top: 1px solid #e5e7eb;
      font-size: 12px;
      color: #6b7280;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1> ${Mc(e.content)}</h1>
  </div>
  <div class="content">
    ${A1(e)}
  </div>
  <div class="footer">
    <p>Generated by MindMapWeb on ${new Date().toLocaleDateString()}</p>
    <p>Total nodes: ${Ur(e)} | Depth: ${_p(e)}</p>
  </div>
</body>
</html>
  `}function A1(e,l=0){const o=e.children?e.children.map(a=>A1(a,l+1)).join(""):"";return`
    <div class="node" style="margin-left: ${l*20}px">
      <strong>${Mc(e.content)}</strong>
      ${e.metadata?.notes?`<p style="margin: 5px 0; font-size: 12px; color: #6b7280;">${Mc(e.metadata.notes)}</p>`:""}
    </div>
    ${o}
  `}function Mc(e){const l=document.createElement("div");return l.textContent=e,l.innerHTML}function Ur(e){let l=1;return e.children&&e.children.forEach(o=>{l+=Ur(o)}),l}function _p(e){return!e.children||e.children.length===0?1:1+Math.max(...e.children.map(l=>_p(l)))}function Oj(e,l="mindmap-email.html"){const o=C1(e),a=new Blob([o],{type:"text/html"}),s=URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download=l,c.click(),URL.revokeObjectURL(s)}function Lj(e){return`
--
${e.content}
View Mind Map: ${window.location.href}

Generated by MindMapWeb
  `.trim()}function Bj(e){const l={name:`${e.content} Template`,subject:`Update: ${e.content}`,body:tp(e,{includePlainText:!0}),html:C1(e)},o=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),a=URL.createObjectURL(o),s=document.createElement("a");s.href=a,s.download="email-template.json",s.click(),URL.revokeObjectURL(a)}function Hj(e,l,o){const a=[];a.push("WEEKLY MIND MAP DIGEST"),a.push("=".repeat(50)),a.push(""),a.push(`Period: ${l.toLocaleDateString()} - ${o.toLocaleDateString()}`),a.push(`Mind Map: ${e.content}`),a.push(""),a.push("KEY UPDATES:"),a.push("");const s=(c,d=0)=>{const h=c.metadata?.created?new Date(c.metadata.created):null,g=c.metadata?.lastModified?new Date(c.metadata.lastModified):null;if(h&&h>=l&&h<=o){const m="  ".repeat(d);a.push(`${m} NEW: ${c.content}`)}if(g&&g>=l&&g<=o){const m="  ".repeat(d);a.push(`${m}  UPDATED: ${c.content}`)}c.children&&c.children.forEach(m=>s(m,d+1))};return s(e),a.push(""),a.push("".repeat(50)),a.push(`Total changes this week: ${Ur(e)}`),a.push(""),a.push("View full mind map: "+window.location.href),a.join(`
`)}function Uj({visible:e,onClose:l,tree:o}){const[a,s]=A.useState(""),[c,d]=A.useState(""),[h,g]=A.useState("summary"),[m,x]=A.useState(!0),[y,v]=A.useState(!0),[S,E]=A.useState(null),w=()=>{if(!o){M("error","No mind map to send");return}zj(o,{recipient:a||"",subject:c||`Mind Map: ${o.content}`,includePlainText:y,format:h}),M("success","Opening email client...")},_=()=>{o&&(Oj(o),M("success","HTML email downloaded!"))},C=()=>{o&&(Bj(o),M("success","Email template exported!"))},R=()=>{if(!o)return;const B=Lj(o);navigator.clipboard.writeText(B),M("success","Signature copied to clipboard!")},k=()=>{if(!o)return;const B=new Date,O=new Date;O.setDate(O.getDate()-7);const Y=Hj(o,O,B);navigator.clipboard.writeText(Y),M("success","Weekly digest copied to clipboard!")},M=(B,O)=>{E({type:B,text:O}),setTimeout(()=>E(null),3e3)};return e?f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"email-integration-title",style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",width:"420px",maxHeight:"80vh",background:"white",border:"1px solid #d1d5db",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px 12px 0 0"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),f.jsx("h2",{id:"email-integration-title",style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Email Integration"})]}),f.jsx("button",{onClick:l,"aria-label":"Close email integration panel",style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},children:""})]}),f.jsxs("div",{style:{padding:"16px",overflowY:"auto",flex:1},children:[S&&f.jsx("div",{role:"alert","aria-live":"polite",style:{padding:"12px",marginBottom:"16px",borderRadius:"6px",background:S.type==="success"?"#d1fae5":"#fee2e2",color:S.type==="success"?"#065f46":"#991b1b",fontSize:"13px"},children:S.text}),f.jsxs("div",{role:"group","aria-labelledby":"email-config-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"email-config-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Email Configuration"}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{htmlFor:"email-recipient",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Recipient (Optional)"}),f.jsx("input",{id:"email-recipient",type:"email",value:a,onChange:B=>s(B.target.value),placeholder:"recipient@example.com","aria-label":"Enter recipient email address",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{htmlFor:"email-subject",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Subject"}),f.jsx("input",{id:"email-subject",type:"text",value:c,onChange:B=>d(B.target.value),placeholder:`Mind Map: ${o?.content||""}`,"aria-label":"Enter email subject",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),f.jsxs("div",{style:{marginBottom:"12px"},children:[f.jsx("label",{htmlFor:"email-format",style:{display:"block",fontSize:"12px",fontWeight:"bold",marginBottom:"4px"},children:"Email Format"}),f.jsxs("select",{id:"email-format",value:h,onChange:B=>g(B.target.value),"aria-label":"Select email format",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[f.jsx("option",{value:"summary",children:"Summary"}),f.jsx("option",{value:"detailed",children:"Detailed"}),f.jsx("option",{value:"bullet-points",children:"Bullet Points"}),f.jsx("option",{value:"newsletter",children:"Newsletter"})]})]}),f.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:m,onChange:B=>x(B.target.checked),"aria-label":"Include summary in email"}),"Include Summary"]}),f.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",cursor:"pointer"},children:[f.jsx("input",{type:"checkbox",checked:y,onChange:B=>v(B.target.checked),"aria-label":"Include plain text version"}),"Include Plain Text"]})]}),f.jsx("button",{onClick:w,"aria-label":"Open email client with mind map content",style:{width:"100%",padding:"12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Open in Email Client"})]}),f.jsxs("div",{role:"group","aria-labelledby":"quick-actions-title",style:{marginBottom:"20px"},children:[f.jsx("h3",{id:"quick-actions-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Quick Actions"}),f.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[f.jsxs("button",{onClick:_,"aria-label":"Download mind map as HTML email",style:{padding:"10px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Download HTML Email"]}),f.jsxs("button",{onClick:C,"aria-label":"Export email template",style:{padding:"10px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Export Email Template"]}),f.jsxs("button",{onClick:R,"aria-label":"Copy email signature to clipboard",style:{padding:"10px",background:"#f59e0b",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Copy Email Signature"]}),f.jsxs("button",{onClick:k,"aria-label":"Generate weekly digest and copy to clipboard",style:{padding:"10px",background:"#ec4899",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",textAlign:"left",display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"16px"},children:""}),"Generate Weekly Digest"]})]})]}),f.jsxs("div",{style:{padding:"12px",background:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"6px",fontSize:"11px",color:"#1e40af"},children:[f.jsx("strong",{children:"Email Formats:"}),f.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Summary:"})," Quick overview with stats"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Detailed:"})," Full tree structure"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Bullet Points:"})," Concise list format"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Newsletter:"})," Styled newsletter format"]})]})]})]})]}):null}const Ij=Object.freeze(Object.defineProperty({__proto__:null,default:Uj},Symbol.toStringTag,{value:"Module"}));function Yj({visible:e,onClose:l,tree:o}){const[a,s]=A.useState([]),[c,d]=A.useState(0),[h,g]=A.useState(null),[m,x]=A.useState(!1),[y,v]=A.useState(!1);A.useEffect(()=>{if(o){const R=$j(o);s(R),d(0)}},[o]);const S=A.useCallback(()=>{m||c>=a.length-1||(x(!0),g("next"),setTimeout(()=>{d(R=>R+1),x(!1)},300))},[c,a.length,m]),E=A.useCallback(()=>{m||c<=0||(x(!0),g("prev"),setTimeout(()=>{d(R=>R-1),x(!1)},300))},[c,m]);A.useEffect(()=>{if(!e)return;const R=k=>{switch(k.key){case"ArrowRight":case" ":case"Enter":k.preventDefault(),S();break;case"ArrowLeft":k.preventDefault(),E();break;case"Escape":k.preventDefault(),l();break;case"n":(k.ctrlKey||k.metaKey)&&(k.preventDefault(),v(!y));break}};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[e,c,a.length,y,S,E,l]);const w=R=>{m||R===c||(x(!0),g(R>c?"next":"prev"),setTimeout(()=>{d(R),x(!1)},300))};if(!e||!o||a.length===0)return null;const _=a[c],C=(c+1)/a.length*100;return f.jsxs("div",{role:"region","aria-label":`Presentation mode: ${o.content}, slide ${c+1} of ${a.length}`,"aria-live":"polite",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, #1e1b4b 0%, #312e81 50%, #4c1d95 100%)",zIndex:2e3,display:"flex",flexDirection:"column",color:"white"},children:[f.jsxs("div",{role:"banner",style:{padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.2)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("h1",{style:{margin:0,fontSize:"18px",fontWeight:"bold"},children:" Presentation Mode"}),f.jsx("span",{style:{fontSize:"14px",opacity:.8},children:o.content})]}),f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("button",{onClick:()=>v(!y),"aria-label":y?"Hide speaker notes":"Show speaker notes","aria-pressed":y,style:{padding:"8px 12px",background:y?"rgba(255,255,255,0.3)":"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",color:"white",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:" Notes"}),f.jsx("button",{onClick:l,"aria-label":"Exit presentation mode (Escape)",style:{padding:"8px 16px",background:"rgba(239, 68, 68, 0.8)",border:"none",color:"white",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Exit (Esc)"})]})]}),f.jsx("div",{role:"progressbar","aria-valuenow":c+1,"aria-valuemin":1,"aria-valuemax":a.length,"aria-label":`Presentation progress: slide ${c+1} of ${a.length}`,style:{height:"4px",background:"rgba(255,255,255,0.1)"},children:f.jsx("div",{style:{height:"100%",width:`${C}%`,background:"linear-gradient(90deg, #667eea 0%, #764ba2 100%)",transition:"width 0.3s"}})}),f.jsxs("div",{style:{flex:1,display:"flex",position:"relative"},children:[f.jsx("div",{role:"main","aria-label":`Current slide: ${_.content}`,style:{flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"40px",position:"relative"},children:f.jsxs("div",{style:{maxWidth:"900px",width:"100%",transform:Gj(h,m),transition:"transform 0.3s ease-out"},children:[_.level>0&&f.jsx("div",{role:"presentation","aria-hidden":"true",style:{marginBottom:"20px",display:"flex",gap:"8px"},children:Array.from({length:_.level}).map((R,k)=>f.jsx("div",{style:{width:"40px",height:"4px",background:"rgba(255,255,255,0.3)",borderRadius:"2px"}},k))}),f.jsx("h2",{id:"slide-title",style:{fontSize:"48px",fontWeight:"bold",margin:"0 0 24px 0",textShadow:"0 2px 20px rgba(0,0,0,0.3)",lineHeight:1.2},children:_.content}),_.metadata?.notes&&y&&f.jsxs("div",{role:"complementary","aria-label":"Speaker notes",style:{marginTop:"24px",padding:"16px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",fontSize:"16px",lineHeight:1.6},children:[f.jsx("strong",{children:"Notes:"})," ",_.metadata.notes]}),_.metadata?.link&&f.jsxs("div",{role:"note","aria-label":"Related link",style:{marginTop:"16px",fontSize:"14px",opacity:.8},children:[" ",_.metadata.link]}),_.children&&_.children.length>0&&f.jsx("div",{role:"list","aria-label":`Child slides: ${_.children.length} items`,style:{marginTop:"32px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",width:"100%"},children:_.children.slice(0,6).map((R,k)=>f.jsx("div",{role:"listitem",style:{padding:"12px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"8px",fontSize:"14px",animation:`fadeInUp 0.5s ease-out ${k*.1}s both`},children:R.content},R.id))})]})}),f.jsxs("div",{role:"complementary","aria-labelledby":"slides-overview-title",style:{width:"280px",background:"rgba(0,0,0,0.3)",borderLeft:"1px solid rgba(255,255,255,0.1)",padding:"20px",overflowY:"auto"},children:[f.jsxs("h3",{id:"slides-overview-title",style:{margin:"0 0 16px 0",fontSize:"14px",fontWeight:"bold",opacity:.8},children:["Slides (",a.length,")"]}),f.jsx("div",{role:"list","aria-label":"All slides",style:{display:"flex",flexDirection:"column",gap:"8px"},children:a.map((R,k)=>f.jsx("div",{role:"listitem","aria-label":`Slide ${k+1}: ${R.content}${k===c?" (current)":""}`,tabIndex:0,onClick:()=>w(k),onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),w(k))},style:{padding:"12px",background:k===c?"rgba(102, 126, 234, 0.5)":"rgba(255,255,255,0.05)",border:k===c?"2px solid #667eea":"1px solid rgba(255,255,255,0.1)",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",fontSize:"13px"},onMouseEnter:M=>{k!==c&&(M.currentTarget.style.background="rgba(255,255,255,0.1)")},onMouseLeave:M=>{k!==c&&(M.currentTarget.style.background="rgba(255,255,255,0.05)")},children:f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{opacity:.6,fontSize:"11px"},children:String(k+1).padStart(2,"0")}),f.jsx("span",{style:{flex:1,overflow:"hidden",textOverflow:"ellipsis"},children:R.content})]})},R.id))})]})]}),f.jsxs("div",{role:"navigation","aria-label":"Slide navigation",style:{padding:"20px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(0,0,0,0.2)"},children:[f.jsx("button",{onClick:E,disabled:c===0,"aria-label":c===0?"No previous slide":`Go to previous slide (${c} of ${a.length})`,style:{padding:"12px 24px",background:c>0?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",color:"white",borderRadius:"8px",cursor:c>0?"pointer":"not-allowed",fontSize:"14px",fontWeight:"bold",opacity:c>0?1:.5,display:"flex",alignItems:"center",gap:"8px"},children:" Previous"}),f.jsxs("div",{role:"status","aria-live":"polite",style:{fontSize:"14px",opacity:.8},children:[c+1," / ",a.length]}),f.jsx("button",{onClick:S,disabled:c>=a.length-1,"aria-label":c>=a.length-1?"No next slide":`Go to next slide (${c+2} of ${a.length})`,style:{padding:"12px 24px",background:c<a.length-1?"rgba(255,255,255,0.1)":"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",color:"white",borderRadius:"8px",cursor:c<a.length-1?"pointer":"not-allowed",fontSize:"14px",fontWeight:"bold",opacity:c<a.length-1?1:.5,display:"flex",alignItems:"center",gap:"8px"},children:"Next "})]}),f.jsx("style",{children:`
        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})}function $j(e){const l=[],o=(s,c=0)=>{const d={id:s.id,content:s.content,level:c,metadata:s.metadata};return s.children&&s.children.length>0&&(d.children=s.children.map(h=>o(h,c+1))),d};l.push(o(e));const a=[...e.children||[]];for(;a.length>0;){const s=a.shift();l.push(o(s)),s.children&&a.push(...s.children)}return l}function Gj(e,l){return l?e==="next"?"translateX(-100%)":e==="prev"?"translateX(100%)":"translateX(0)":"translateX(0)"}const Wj=Object.freeze(Object.defineProperty({__proto__:null,default:Yj},Symbol.toStringTag,{value:"Module"}));function qj({visible:e,onClose:l,tree:o}){const[a,s]=A.useState([]),[c,d]=A.useState({x:20,y:-20}),[h,g]=A.useState(1),[m,x]=A.useState(!0),[y,v]=A.useState(null),[S,E]=A.useState(!1),w=A.useRef(null),_=A.useRef(!1),C=A.useRef({x:0,y:0});A.useEffect(()=>{if(o){const O=Vj(o);s(O)}},[o]),A.useEffect(()=>{if(!m||!e)return;const O=setInterval(()=>{d(Y=>({x:Y.x,y:Y.y+.3}))},16);return()=>clearInterval(O)},[m,e]);const R=O=>{_.current=!0,E(!0),C.current={x:O.clientX,y:O.clientY},x(!1)},k=O=>{if(!_.current)return;const Y=O.clientX-C.current.x,H=O.clientY-C.current.y;d(V=>({x:Math.max(-90,Math.min(90,V.x+H*.5)),y:V.y+Y*.5})),C.current={x:O.clientX,y:O.clientY}},M=()=>{_.current=!1,E(!1)},B=O=>{O.preventDefault(),g(Y=>Math.max(.5,Math.min(3,Y-O.deltaY*.001)))};return A.useEffect(()=>{if(!e)return;const O=Y=>{switch(Y.key){case"Escape":l();break;case"ArrowLeft":d(H=>({...H,y:H.y-10}));break;case"ArrowRight":d(H=>({...H,y:H.y+10}));break;case"ArrowUp":d(H=>({...H,x:Math.max(-90,H.x-10)}));break;case"ArrowDown":d(H=>({...H,x:Math.min(90,H.x+10)}));break;case"+":case"=":g(H=>Math.min(3,H+.1));break;case"-":g(H=>Math.max(.5,H-.1));break;case"r":case"R":x(!m);break}};return window.addEventListener("keydown",O),()=>window.removeEventListener("keydown",O)},[e,m]),!e||!o?null:f.jsxs("div",{role:"region","aria-label":`3D view of mind map: ${o.content}`,"aria-live":"polite",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"radial-gradient(circle at center, #1e1b4b 0%, #0f0f23 100%)",zIndex:2e3,overflow:"hidden",cursor:S?"grabbing":"grab"},onMouseDown:R,onMouseMove:k,onMouseUp:M,onMouseLeave:M,onWheel:B,children:[f.jsxs("div",{role:"presentation",style:{position:"absolute",top:"20px",left:"20px",right:"20px",zIndex:10,pointerEvents:"none"},children:[f.jsxs("div",{role:"banner",style:{display:"flex",justifyContent:"space-between",alignItems:"center",pointerEvents:"auto"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("h1",{style:{margin:0,fontSize:"18px",fontWeight:"bold",color:"white"},children:" 3D View"}),f.jsx("span",{style:{fontSize:"14px",opacity:.8,color:"white"},children:o.content})]}),f.jsxs("div",{style:{display:"flex",gap:"8px"},children:[f.jsx("button",{onClick:()=>x(!m),"aria-label":m?"Pause auto-rotation":"Start auto-rotation","aria-pressed":m,style:{padding:"8px 12px",background:m?"rgba(102, 126, 234, 0.8)":"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.3)",color:"white",borderRadius:"6px",cursor:"pointer",fontSize:"12px"},children:m?" Auto-Rotating":" Auto-Rotate"}),f.jsx("button",{onClick:l,"aria-label":"Exit 3D view (Escape)",style:{padding:"8px 16px",background:"rgba(239, 68, 68, 0.8)",border:"none",color:"white",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Exit (Esc)"})]})]}),f.jsxs("div",{role:"note","aria-label":"3D view keyboard and mouse controls",style:{marginTop:"16px",padding:"12px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"8px",fontSize:"11px",color:"rgba(255,255,255,0.8)",pointerEvents:"auto"},children:[f.jsx("strong",{children:"Controls:"})," Drag to rotate  Scroll to zoom  Arrow keys to navigate  Press 'R' to toggle auto-rotate  Esc to exit"]})]}),f.jsxs("div",{role:"status","aria-live":"polite","aria-label":`Zoom level: ${Math.round(h*100)}%`,style:{position:"absolute",bottom:"20px",left:"20px",padding:"8px 12px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"6px",fontSize:"12px",color:"white",zIndex:10},children:["Zoom: ",Math.round(h*100),"%"]}),f.jsx("div",{role:"presentation",ref:w,style:{width:"100%",height:"100%",perspective:"1000px",display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("div",{role:"list","aria-label":`Mind map nodes in 3D space: ${a.length} nodes`,style:{transformStyle:"preserve-3d",transform:`scale(${h}) rotateX(${c.x}deg) rotateY(${c.y}deg)`,transition:"transform 0.1s ease-out",position:"relative",width:"800px",height:"800px"},children:[a.map(O=>f.jsxs("div",{role:"listitem","aria-label":`${O.content}, level ${O.level}${O.id===y?", selected":""}`,tabIndex:0,onClick:()=>v(O.id===y?null:O.id),onKeyDown:Y=>{(Y.key==="Enter"||Y.key===" ")&&(Y.preventDefault(),v(O.id===y?null:O.id))},style:{position:"absolute",left:"50%",top:"50%",transform:`translate3d(${O.x}px, ${O.y}px, ${O.z}px)`,transformStyle:"preserve-3d",cursor:"pointer"},children:[O.children&&O.children.map(Y=>f.jsx("div",{"aria-hidden":"true",style:{position:"absolute",left:0,top:0,width:"2px",height:Math.sqrt(Math.pow(Y.x-O.x,2)+Math.pow(Y.y-O.y,2)+Math.pow(Y.z-O.z,2)),background:"linear-gradient(to bottom, rgba(102, 126, 234, 0.6), rgba(118, 75, 162, 0.6))",transformOrigin:"top center",transform:`
                      rotateX(${Math.atan2(Y.y-O.y,Y.z-O.z)*180/Math.PI}deg)
                      rotateY(${Math.atan2(Y.x-O.x,Y.z-O.z)*180/Math.PI}deg)
                    `}},Y.id)),f.jsx("div",{"aria-hidden":"true",style:{padding:"12px 16px",background:y===O.id?"rgba(102, 126, 234, 0.9)":`rgba(30, 27, 75, ${.9-O.level*.1})`,border:`2px solid ${y===O.id?"#667eea":"rgba(102, 126, 234, 0.5)"}`,borderRadius:"8px",color:"white",fontSize:`${Math.max(12,18-O.level*2)}px`,fontWeight:O.level===0?"bold":"normal",boxShadow:`0 4px 20px rgba(102, 126, 234, ${.3-O.level*.05})`,textAlign:"center",minWidth:"120px",maxWidth:"200px",transformStyle:"preserve-3d",transform:"translateZ(20px)",transition:"all 0.3s",userSelect:"none",whiteSpace:"nowrap"},onMouseEnter:Y=>{Y.currentTarget.style.transform="translateZ(40px) scale(1.1)",Y.currentTarget.style.background="rgba(102, 126, 234, 0.9)"},onMouseLeave:Y=>{Y.currentTarget.style.transform="translateZ(20px) scale(1)",y!==O.id&&(Y.currentTarget.style.background=`rgba(30, 27, 75, ${.9-O.level*.1})`)},children:O.content})]},O.id)),f.jsx("div",{"aria-hidden":"true",style:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",width:"200px",height:"200px",borderRadius:"50%",background:"radial-gradient(circle at 30% 30%, rgba(102, 126, 234, 0.2), transparent)",border:"1px solid rgba(102, 126, 234, 0.3)",pointerEvents:"none"}})]})}),y&&f.jsxs("div",{role:"dialog","aria-modal":"false","aria-labelledby":"selected-node-title","aria-live":"polite",style:{position:"absolute",bottom:"20px",right:"20px",padding:"16px",background:"rgba(30, 27, 75, 0.95)",border:"1px solid rgba(102, 126, 234, 0.5)",borderRadius:"8px",color:"white",maxWidth:"300px",zIndex:10},children:[f.jsx("div",{id:"selected-node-title",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:a.find(O=>O.id===y)?.content}),f.jsxs("div",{style:{fontSize:"12px",opacity:.8},children:["Level: ",a.find(O=>O.id===y)?.level]})]}),f.jsxs("div",{role:"complementary","aria-labelledby":"stats-title",style:{position:"absolute",top:"50%",right:"20px",transform:"translateY(-50%)",padding:"16px",background:"rgba(30, 27, 75, 0.8)",border:"1px solid rgba(102, 126, 234, 0.3)",borderRadius:"8px",color:"white",fontSize:"12px",zIndex:10},children:[f.jsx("div",{id:"stats-title",style:{marginBottom:"8px"},children:f.jsx("strong",{children:"Stats"})}),f.jsxs("div",{children:["Total Nodes: ",a.length]}),f.jsxs("div",{children:["Max Depth: ",Math.max(...a.map(O=>O.level))]}),f.jsxs("div",{children:["Rotation X: ",Math.round(c.x),""]}),f.jsxs("div",{children:["Rotation Y: ",Math.round(c.y%360),""]})]})]})}function Vj(e){const l=[],o=(a,s=0,c=0,d=0,h=0,g=0)=>{const m=s*150,x=s===0?0:d+Math.cos(c)*m,y=s===0?0:h+(Math.random()-.5)*100,v=s===0?0:g+Math.sin(c)*m,S={id:a.id,content:a.content,x,y,z:v,level:s};if(l.push(S),a.children&&a.children.length>0){const E=2*Math.PI/a.children.length;a.children.forEach((w,_)=>{const C=c+_*E+(Math.random()-.5)*.5;o(w,s+1,C,x,y,v)})}return S};return o(e),l}const Xj=Object.freeze(Object.defineProperty({__proto__:null,default:qj},Symbol.toStringTag,{value:"Module"}));function D(){return`tpl_${bn()}`}const Fj={id:"swot-analysis",name:"SWOT Analysis",description:"Analyze Strengths, Weaknesses, Opportunities, and Threats",category:"business",icon:"",tree:()=>({id:D(),content:"SWOT Analysis",children:[{id:D(),content:" Strengths",children:[{id:D(),content:"Internal Strength 1",children:[]},{id:D(),content:"Internal Strength 2",children:[]},{id:D(),content:"Competitive Advantage",children:[]}]},{id:D(),content:" Weaknesses",children:[{id:D(),content:"Area for Improvement 1",children:[]},{id:D(),content:"Resource Limitation",children:[]},{id:D(),content:"Skill Gap",children:[]}]},{id:D(),content:" Opportunities",children:[{id:D(),content:"Market Trend 1",children:[]},{id:D(),content:"New Technology",children:[]},{id:D(),content:"Partnership Potential",children:[]}]},{id:D(),content:" Threats",children:[{id:D(),content:"Competitor Action",children:[]},{id:D(),content:"Market Change",children:[]},{id:D(),content:"Regulatory Risk",children:[]}]}]})},Kj={id:"project-planning",name:"Project Planning",description:"Plan your project with phases, milestones, and tasks",category:"project-management",icon:"",tree:()=>({id:D(),content:"Project Name",children:[{id:D(),content:" Objectives",children:[{id:D(),content:"Define SMART goals",children:[]},{id:D(),content:"Identify success metrics",children:[]},{id:D(),content:"Align with strategy",children:[]}]},{id:D(),content:" Timeline",children:[{id:D(),content:"Phase 1: Planning",children:[{id:D(),content:"Week 1-2: Requirements",children:[]},{id:D(),content:"Week 3-4: Design",children:[]}]},{id:D(),content:"Phase 2: Execution",children:[{id:D(),content:"Week 5-8: Development",children:[]},{id:D(),content:"Week 9-10: Testing",children:[]}]},{id:D(),content:"Phase 3: Launch",children:[{id:D(),content:"Week 11: Deployment",children:[]},{id:D(),content:"Week 12: Review",children:[]}]}]},{id:D(),content:" Team & Roles",children:[{id:D(),content:"Project Manager",children:[]},{id:D(),content:"Development Team",children:[]},{id:D(),content:"Stakeholders",children:[]}]},{id:D(),content:" Risks",children:[{id:D(),content:"Identify potential risks",children:[]},{id:D(),content:"Mitigation strategies",children:[]},{id:D(),content:"Contingency plans",children:[]}]},{id:D(),content:" Resources",children:[{id:D(),content:"Budget allocation",children:[]},{id:D(),content:"Tools & equipment",children:[]},{id:D(),content:"External dependencies",children:[]}]}]})},Zj={id:"brainstorming",name:"Brainstorming Session",description:"Capture and organize creative ideas",category:"brainstorming",icon:"",tree:()=>({id:D(),content:"Brainstorming Topic",children:[{id:D(),content:" Problem Statement",children:[{id:D(),content:"What are we solving?",children:[]},{id:D(),content:"Who is it for?",children:[]},{id:D(),content:"Why does it matter?",children:[]}]},{id:D(),content:" Ideas",children:[{id:D(),content:"Idea 1",children:[]},{id:D(),content:"Idea 2",children:[]},{id:D(),content:"Idea 3",children:[]},{id:D(),content:"Idea 4",children:[]},{id:D(),content:"Idea 5",children:[]}]},{id:D(),content:" Analysis",children:[{id:D(),content:"Pros & Cons",children:[]},{id:D(),content:"Feasibility",children:[]},{id:D(),content:"Resources needed",children:[]}]},{id:D(),content:" Top Picks",children:[{id:D(),content:"Best Idea 1",children:[]},{id:D(),content:"Best Idea 2",children:[]},{id:D(),content:"Best Idea 3",children:[]}]},{id:D(),content:" Next Steps",children:[{id:D(),content:"Action items",children:[]},{id:D(),content:"Timeline",children:[]},{id:D(),content:"Assignments",children:[]}]}]})},Qj={id:"weekly-planner",name:"Weekly Planner",description:"Organize your week with goals and daily tasks",category:"personal",icon:"",tree:()=>({id:D(),content:"Week of [Date]",children:[{id:D(),content:" Weekly Goals",children:[{id:D(),content:"Goal 1",children:[]},{id:D(),content:"Goal 2",children:[]},{id:D(),content:"Goal 3",children:[]}]},{id:D(),content:" Monday",children:[{id:D(),content:"Priority Task 1",children:[]},{id:D(),content:"Priority Task 2",children:[]},{id:D(),content:"Meeting/Event",children:[]}]},{id:D(),content:" Tuesday",children:[{id:D(),content:"Priority Task 1",children:[]},{id:D(),content:"Priority Task 2",children:[]},{id:D(),content:"Meeting/Event",children:[]}]},{id:D(),content:" Wednesday",children:[{id:D(),content:"Priority Task 1",children:[]},{id:D(),content:"Priority Task 2",children:[]},{id:D(),content:"Meeting/Event",children:[]}]},{id:D(),content:" Thursday",children:[{id:D(),content:"Priority Task 1",children:[]},{id:D(),content:"Priority Task 2",children:[]},{id:D(),content:"Meeting/Event",children:[]}]},{id:D(),content:" Friday",children:[{id:D(),content:"Priority Task 1",children:[]},{id:D(),content:"Priority Task 2",children:[]},{id:D(),content:"Weekly Review",children:[]}]},{id:D(),content:" Weekend",children:[{id:D(),content:"Personal Time",children:[]},{id:D(),content:"Planning Next Week",children:[]}]}]})},Pj={id:"meeting-notes",name:"Meeting Notes",description:"Structured format for meeting documentation",category:"business",icon:"",tree:()=>({id:D(),content:"Meeting: [Title]",metadata:{notes:`Date: ${new Date().toLocaleDateString()}
Time: 
Location: 
Attendees: `},children:[{id:D(),content:" Agenda",children:[{id:D(),content:"Topic 1",children:[]},{id:D(),content:"Topic 2",children:[]},{id:D(),content:"Topic 3",children:[]}]},{id:D(),content:" Discussion Points",children:[{id:D(),content:"Key Discussion 1",children:[]},{id:D(),content:"Key Discussion 2",children:[]},{id:D(),content:"Key Discussion 3",children:[]}]},{id:D(),content:" Decisions Made",children:[{id:D(),content:"Decision 1",children:[]},{id:D(),content:"Decision 2",children:[]}]},{id:D(),content:" Action Items",children:[{id:D(),content:"Task 1 - Assigned to",children:[]},{id:D(),content:"Task 2 - Assigned to",children:[]},{id:D(),content:"Task 3 - Assigned to",children:[]}]},{id:D(),content:" Next Meeting",children:[{id:D(),content:"Date & Time",children:[]},{id:D(),content:"Preparation needed",children:[]}]}]})},Jj={id:"decision-matrix",name:"Decision Matrix",description:"Compare options against criteria to make decisions",category:"business",icon:"",tree:()=>({id:D(),content:"Decision: [What needs to be decided?]",children:[{id:D(),content:" Criteria",children:[{id:D(),content:"Cost",children:[]},{id:D(),content:"Time",children:[]},{id:D(),content:"Quality",children:[]},{id:D(),content:"Risk",children:[]}]},{id:D(),content:" Option 1",children:[{id:D(),content:"Cost: ",children:[]},{id:D(),content:"Time: ",children:[]},{id:D(),content:"Quality: ",children:[]},{id:D(),content:"Risk: ",children:[]}]},{id:D(),content:" Option 2",children:[{id:D(),content:"Cost: ",children:[]},{id:D(),content:"Time: ",children:[]},{id:D(),content:"Quality: ",children:[]},{id:D(),content:"Risk: ",children:[]}]},{id:D(),content:" Option 3",children:[{id:D(),content:"Cost: ",children:[]},{id:D(),content:"Time: ",children:[]},{id:D(),content:"Quality: ",children:[]},{id:D(),content:"Risk: ",children:[]}]},{id:D(),content:" Recommendation",children:[{id:D(),content:"Best Option: ",children:[]},{id:D(),content:"Reasoning: ",children:[]}]}]})},e6={id:"learning-plan",name:"Learning Plan",description:"Structure your learning journey with goals and milestones",category:"education",icon:"",tree:()=>({id:D(),content:"Learning: [Subject/Skill]",children:[{id:D(),content:" Learning Objectives",children:[{id:D(),content:"What do I want to achieve?",children:[]},{id:D(),content:"Why is this important?",children:[]}]},{id:D(),content:" Resources",children:[{id:D(),content:"Books/Courses",children:[]},{id:D(),content:"Online Tutorials",children:[]},{id:D(),content:"Practice Projects",children:[]},{id:D(),content:"Mentor/Community",children:[]}]},{id:D(),content:" Timeline",children:[{id:D(),content:"Week 1-2: Foundations",children:[{id:D(),content:"Topic 1",children:[]},{id:D(),content:"Topic 2",children:[]}]},{id:D(),content:"Week 3-4: Intermediate",children:[{id:D(),content:"Topic 3",children:[]},{id:D(),content:"Practice Project",children:[]}]},{id:D(),content:"Week 5-6: Advanced",children:[{id:D(),content:"Topic 4",children:[]},{id:D(),content:"Final Project",children:[]}]}]},{id:D(),content:" Milestones",children:[{id:D(),content:"Complete basics quiz",children:[]},{id:D(),content:"Build first project",children:[]},{id:D(),content:"Teach someone else",children:[]}]},{id:D(),content:" Progress Tracking",children:[{id:D(),content:"Hours logged",children:[]},{id:D(),content:"Concepts mastered",children:[]},{id:D(),content:"Projects completed",children:[]}]}]})},t6={id:"product-roadmap",name:"Product Roadmap",description:"Plan product features and releases",category:"project-management",icon:"",tree:()=>({id:D(),content:"Product Roadmap",children:[{id:D(),content:" Vision",children:[{id:D(),content:"Product vision",children:[]},{id:D(),content:"Target audience",children:[]},{id:D(),content:"Value proposition",children:[]}]},{id:D(),content:" Q1",children:[{id:D(),content:"Feature A",children:[]},{id:D(),content:"Feature B",children:[]},{id:D(),content:"Bug fixes",children:[]}]},{id:D(),content:" Q2",children:[{id:D(),content:"Feature C",children:[]},{id:D(),content:"Feature D",children:[]},{id:D(),content:"Performance improvements",children:[]}]},{id:D(),content:" Q3",children:[{id:D(),content:"Feature E",children:[]},{id:D(),content:"Feature F",children:[]},{id:D(),content:"UX improvements",children:[]}]},{id:D(),content:" Q4",children:[{id:D(),content:"Feature G",children:[]},{id:D(),content:"Feature H",children:[]},{id:D(),content:"Year-end review",children:[]}]}]})},n6={id:"book-summary",name:"Book Summary",description:"Capture key insights from books",category:"education",icon:"",tree:()=>({id:D(),content:"Book: [Title]",metadata:{notes:`Author: 
Year Published: 
Genre: `},children:[{id:D(),content:" Main Idea",children:[{id:D(),content:"Core message",children:[]},{id:D(),content:"Why it matters",children:[]}]},{id:D(),content:" Key Concepts",children:[{id:D(),content:"Concept 1",children:[]},{id:D(),content:"Concept 2",children:[]},{id:D(),content:"Concept 3",children:[]},{id:D(),content:"Concept 4",children:[]},{id:D(),content:"Concept 5",children:[]}]},{id:D(),content:" Memorable Quotes",children:[{id:D(),content:"Quote 1",children:[]},{id:D(),content:"Quote 2",children:[]},{id:D(),content:"Quote 3",children:[]}]},{id:D(),content:" Chapter Summaries",children:[{id:D(),content:"Chapter 1",children:[]},{id:D(),content:"Chapter 2",children:[]},{id:D(),content:"Chapter 3",children:[]}]},{id:D(),content:" Action Items",children:[{id:D(),content:"What will I do differently?",children:[]},{id:D(),content:"To implement",children:[]},{id:D(),content:"To share with",children:[]}]}]})},i6={id:"goal-setting",name:"Goal Setting (SMART)",description:"Define SMART goals and action plans",category:"personal",icon:"",tree:()=>({id:D(),content:"My Goal",children:[{id:D(),content:" SMART Definition",children:[{id:D(),content:"Specific: What exactly?",children:[]},{id:D(),content:"Measurable: How to track?",children:[]},{id:D(),content:"Achievable: Is it realistic?",children:[]},{id:D(),content:"Relevant: Why important?",children:[]},{id:D(),content:"Time-bound: When to complete?",children:[]}]},{id:D(),content:"Motivation",children:[{id:D(),content:"Why do I want this?",children:[]},{id:D(),content:"Benefits of achieving",children:[]},{id:D(),content:"Consequences of not achieving",children:[]}]},{id:D(),content:" Action Steps",children:[{id:D(),content:"Step 1",children:[]},{id:D(),content:"Step 2",children:[]},{id:D(),content:"Step 3",children:[]},{id:D(),content:"Step 4",children:[]},{id:D(),content:"Step 5",children:[]}]},{id:D(),content:" Obstacles",children:[{id:D(),content:"Potential obstacle 1",children:[]},{id:D(),content:"Potential obstacle 2",children:[]},{id:D(),content:"Solutions/Workarounds",children:[]}]},{id:D(),content:" Milestones",children:[{id:D(),content:"25% complete",children:[]},{id:D(),content:"50% complete",children:[]},{id:D(),content:"75% complete",children:[]},{id:D(),content:"100% complete",children:[]}]},{id:D(),content:" Support System",children:[{id:D(),content:"Accountability partner",children:[]},{id:D(),content:"Resources needed",children:[]},{id:D(),content:"Help from others",children:[]}]}]})},l6={id:"content-calendar",name:"Content Calendar",description:"Plan your content publishing schedule",category:"business",icon:"",tree:()=>({id:D(),content:"Content Calendar: [Month]",children:[{id:D(),content:" Content Strategy",children:[{id:D(),content:"Target audience",children:[]},{id:D(),content:"Key themes",children:[]},{id:D(),content:"Content pillars",children:[]}]},{id:D(),content:" Week 1",children:[{id:D(),content:"Mon: ",children:[]},{id:D(),content:"Wed: ",children:[]},{id:D(),content:"Fri: ",children:[]}]},{id:D(),content:" Week 2",children:[{id:D(),content:"Mon: ",children:[]},{id:D(),content:"Wed: ",children:[]},{id:D(),content:"Fri: ",children:[]}]},{id:D(),content:" Week 3",children:[{id:D(),content:"Mon: ",children:[]},{id:D(),content:"Wed: ",children:[]},{id:D(),content:"Fri: ",children:[]}]},{id:D(),content:" Week 4",children:[{id:D(),content:"Mon: ",children:[]},{id:D(),content:"Wed: ",children:[]},{id:D(),content:"Fri: ",children:[]}]},{id:D(),content:" Content Ideas",children:[{id:D(),content:"Idea 1",children:[]},{id:D(),content:"Idea 2",children:[]},{id:D(),content:"Idea 3",children:[]}]}]})},np=[Fj,Kj,Zj,Qj,Pj,Jj,e6,t6,n6,i6,l6];function o6(e){return np.filter(l=>l.category===e)}function a6({visible:e,onClose:l,onApplyTemplate:o}){const[a,s]=A.useState("all"),[c,d]=A.useState(""),[h,g]=A.useState(null);if(!e)return null;const m=[{id:"all",name:"All Templates",icon:""},{id:"business",name:"Business",icon:""},{id:"education",name:"Education",icon:""},{id:"personal",name:"Personal",icon:""},{id:"project-management",name:"Project Management",icon:""},{id:"brainstorming",name:"Brainstorming",icon:""}],x=a==="all"?np:o6(a),y=c?x.filter(E=>E.name.toLowerCase().includes(c.toLowerCase())||E.description.toLowerCase().includes(c.toLowerCase())):x,v=E=>{const w=E.tree();o(w),l()},S=E=>{g(E)};return f.jsxs("div",{role:"dialog","aria-modal":"true","aria-labelledby":"templates-panel-title",style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"90%",maxWidth:"1200px",height:"80vh",background:"white",border:"1px solid #d1d5db",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.2)",zIndex:2e3,display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"16px 16px 0 0"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("span",{style:{fontSize:"28px"},children:""}),f.jsxs("div",{children:[f.jsx("h2",{id:"templates-panel-title",style:{margin:0,fontSize:"20px",fontWeight:"bold"},children:"Mind Map Templates"}),f.jsx("p",{style:{margin:0,fontSize:"13px",opacity:.9},children:"Start with a pre-built template for faster mind mapping"})]})]}),f.jsx("button",{onClick:l,"aria-label":"Close templates panel",style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"6px 12px",borderRadius:"6px"},children:""})]}),f.jsxs("div",{role:"search","aria-label":"Search and filter templates",style:{padding:"20px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",gap:"16px",alignItems:"center"},children:[f.jsx("label",{htmlFor:"template-search",style:{display:"none"},children:"Search templates"}),f.jsx("input",{id:"template-search",type:"text",placeholder:" Search templates...",value:c,onChange:E=>d(E.target.value),"aria-label":"Search templates by name or description",style:{flex:1,padding:"10px 16px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px"}}),f.jsx("div",{role:"group","aria-label":"Filter templates by category",style:{display:"flex",gap:"8px"},children:m.map(E=>f.jsxs("button",{onClick:()=>s(E.id),"aria-pressed":a===E.id,style:{padding:"8px 16px",background:a===E.id?"#667eea":"#f3f4f6",color:a===E.id?"white":"#374151",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},children:[E.icon," ",E.name]},E.id))})]}),f.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:y.length===0?f.jsxs("div",{role:"status","aria-live":"polite",style:{textAlign:"center",padding:"60px",color:"#6b7280"},children:[f.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),f.jsx("p",{style:{fontSize:"16px",margin:0},children:"No templates found"}),f.jsx("p",{style:{fontSize:"14px",marginTop:"8px"},children:"Try a different search term or category"})]}):f.jsx("div",{role:"grid","aria-label":`${y.length} templates available`,style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(320px, 1fr))",gap:"20px"},children:y.map(E=>f.jsxs("div",{role:"gridcell","aria-label":`${E.name}: ${E.description}`,style:{padding:"20px",background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},onMouseEnter:w=>{w.currentTarget.style.transform="translateY(-4px)",w.currentTarget.style.boxShadow="0 8px 20px rgba(0,0,0,0.15)"},onMouseLeave:w=>{w.currentTarget.style.transform="translateY(0)",w.currentTarget.style.boxShadow="0 1px 3px rgba(0,0,0,0.1)"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"12px"},children:[f.jsx("div",{style:{width:"48px",height:"48px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:E.icon}),f.jsxs("div",{style:{flex:1},children:[f.jsx("h3",{style:{margin:0,fontSize:"16px",fontWeight:"bold",color:"#111827"},children:E.name}),f.jsx("span",{style:{display:"inline-block",marginTop:"4px",padding:"2px 8px",background:"#eff6ff",color:"#3b82f6",fontSize:"11px",borderRadius:"4px",fontWeight:"500"},children:E.category.replace("-"," ").replace(/\b\w/g,w=>w.toUpperCase())})]})]}),f.jsx("p",{style:{margin:0,fontSize:"13px",color:"#6b7280",lineHeight:"1.5",marginBottom:"16px"},children:E.description}),f.jsxs("div",{style:{display:"flex",gap:"8px"},children:[f.jsx("button",{onClick:w=>{w.stopPropagation(),v(E)},"aria-label":`Use ${E.name} template`,style:{flex:1,padding:"8px 12px",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#5a67d8"},onMouseLeave:w=>{w.currentTarget.style.background="#667eea"},children:"Use Template"}),f.jsx("button",{onClick:w=>{w.stopPropagation(),S(E)},"aria-label":`Preview ${E.name} template`,style:{padding:"8px 12px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",transition:"background 0.2s"},onMouseEnter:w=>{w.currentTarget.style.background="#e5e7eb"},onMouseLeave:w=>{w.currentTarget.style.background="#f3f4f6"},children:"Preview"})]})]},E.id))})}),f.jsxs("div",{role:"status","aria-live":"polite",style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f9fafb",borderRadius:"0 0 16px 16px",fontSize:"13px",color:"#6b7280"},children:[f.jsxs("div",{children:["Showing ",f.jsx("strong",{children:y.length})," of ",f.jsx("strong",{children:np.length})," ","templates"]}),f.jsxs("div",{children:["Press"," ",f.jsx("kbd",{style:{padding:"2px 6px",background:"white",border:"1px solid #d1d5db",borderRadius:"4px"},children:"Esc"})," ","to close"]})]}),h&&f.jsx("div",{role:"dialog","aria-modal":"true","aria-labelledby":"template-preview-title",onClick:()=>g(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:2001,display:"flex",alignItems:"center",justifyContent:"center"},children:f.jsxs("div",{onClick:E=>E.stopPropagation(),style:{width:"90%",maxWidth:"700px",maxHeight:"80vh",background:"white",borderRadius:"16px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)",display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[f.jsx("span",{style:{fontSize:"32px"},children:h.icon}),f.jsxs("div",{children:[f.jsx("h3",{id:"template-preview-title",style:{margin:0,fontSize:"18px",fontWeight:"bold"},children:h.name}),f.jsx("p",{style:{margin:0,fontSize:"13px",color:"#6b7280"},children:h.description})]})]}),f.jsx("button",{onClick:()=>g(null),"aria-label":"Close template preview",style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280",padding:"4px 8px"},children:""})]}),f.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:f.jsx(T1,{tree:h.tree()})}),f.jsxs("div",{style:{padding:"16px 24px",borderTop:"1px solid #e5e7eb",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[f.jsx("button",{onClick:()=>g(null),"aria-label":"Close preview without applying template",style:{padding:"10px 20px",background:"#f3f4f6",color:"#374151",border:"1px solid #d1d5db",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Close"}),f.jsx("button",{onClick:()=>{v(h),g(null)},"aria-label":`Use ${h.name} template`,style:{padding:"10px 20px",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Use This Template"})]})]})})]})}function T1({tree:e,level:l=0}){const o=l*20;return f.jsxs("div",{style:{marginLeft:`${o}px`,marginBottom:"8px"},children:[f.jsx("div",{style:{padding:"8px 12px",background:l===0?"#667eea":"#f3f4f6",color:l===0?"white":"#111827",borderRadius:"6px",fontSize:l===0?"14px":"13px",fontWeight:l===0?"bold":"normal",marginBottom:"4px"},children:e.content}),e.children&&e.children.length>0&&f.jsx("div",{style:{marginLeft:"16px"},children:e.children.map(a=>f.jsx(T1,{tree:a,level:l+1},a.id))})]})}const r6=Object.freeze(Object.defineProperty({__proto__:null,default:a6},Symbol.toStringTag,{value:"Module"}));function s6({visible:e,onClose:l,onThemeChange:o}){const[a,s]=A.useState($l()),[c,d]=A.useState(wr()),[h,g]=A.useState(Ul()),[m,x]=A.useState(!1),[y,v]=A.useState(null);A.useEffect(()=>{e&&(s($l()),d(wr()),g(Ul()))},[e]),A.useEffect(()=>Yk(M=>{zc(M),o?.()}),[o]);const S=(k,M)=>{v({type:k,text:M}),setTimeout(()=>v(null),3e3)},E=k=>{s(k),Tp(k),zc(k),o?.()},w=k=>{const B=[...ho,...h].find(O=>O.id===k);B&&(d(B),Jf(k),Rc(B),o?.())},_=k=>{if(confirm("Are you sure you want to delete this color scheme?")){if(Wk(k),g(Ul()),c.id===k){const M=ho[0];d(M),Jf(M.id),Rc(M)}S("success","Color scheme deleted")}},C=()=>{const k=qk(),M=new Blob([k],{type:"application/json"}),B=URL.createObjectURL(M),O=document.createElement("a");O.href=B,O.download="theme-settings.json",O.click(),URL.revokeObjectURL(B),S("success","Theme settings exported")},R=()=>{const k=document.createElement("input");k.type="file",k.accept="application/json",k.onchange=M=>{const B=M.target.files?.[0];if(B){const O=new FileReader;O.onload=Y=>{const H=Y.target?.result;Vk(H)?(s($l()),d(wr()),g(Ul()),S("success","Theme settings imported")):S("error","Invalid theme settings file")},O.readAsText(B)}},k.click()};return e?f.jsxs("div",{style:{position:"fixed",right:"20px",top:"50%",transform:"translateY(-50%)",width:"450px",maxHeight:"80vh",background:"white",border:"1px solid #d1d5db",borderRadius:"12px",boxShadow:"0 8px 32px rgba(0,0,0,0.15)",zIndex:1e3,display:"flex",flexDirection:"column"},children:[f.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:"12px 12px 0 0"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[f.jsx("span",{style:{fontSize:"20px"},children:""}),f.jsx("h2",{style:{margin:0,fontSize:"16px",fontWeight:"bold"},children:"Theme Settings"})]}),f.jsx("button",{onClick:l,style:{background:"rgba(255,255,255,0.2)",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"4px 8px",borderRadius:"4px"},children:""})]}),f.jsxs("div",{style:{padding:"16px",overflowY:"auto",flex:1},children:[y&&f.jsx("div",{style:{padding:"12px",marginBottom:"16px",borderRadius:"6px",background:y.type==="success"?"#d1fae5":"#fee2e2",color:y.type==="success"?"#065f46":"#991b1b",fontSize:"13px"},children:y.text}),f.jsxs("div",{style:{marginBottom:"24px"},children:[f.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Theme Mode"}),f.jsx("div",{style:{display:"flex",gap:"8px"},children:["light","dark","auto"].map(k=>f.jsxs("button",{onClick:()=>E(k),style:{flex:1,padding:"10px",background:a===k?"#667eea":"#f3f4f6",color:a===k?"white":"#374151",border:a===k?"2px solid #667eea":"1px solid #d1d5db",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",opacity:a===k?1:.7},children:[k==="light"&&" Light",k==="dark"&&" Dark",k==="auto"&&" Auto"]},k))}),a==="auto"&&f.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"8px"},children:"Automatically switches based on your system preferences"})]}),f.jsxs("div",{style:{marginBottom:"24px"},children:[f.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[f.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",margin:0,color:"#374151"},children:"Color Scheme"}),f.jsxs("button",{onClick:()=>x(!m),style:{padding:"6px 12px",background:"#8b5cf6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",fontWeight:"bold"},children:[m?"":"+"," Custom"]})]}),f.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"},children:[ho.map(k=>f.jsx(W0,{scheme:k,isSelected:c.id===k.id,onClick:()=>w(k.id)},k.id)),h.map(k=>f.jsxs("div",{style:{position:"relative"},children:[f.jsx(W0,{scheme:k,isSelected:c.id===k.id,onClick:()=>w(k.id)}),f.jsx("button",{onClick:()=>_(k.id),style:{position:"absolute",top:"4px",right:"4px",width:"20px",height:"20px",background:"#ef4444",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Delete custom scheme",children:""})]},k.id))]})]}),m&&f.jsx(c6,{onSave:k=>{Gk(k),g(Ul()),x(!1),S("success","Custom scheme created")},onCancel:()=>x(!1)}),f.jsxs("div",{children:[f.jsx("h3",{style:{fontSize:"14px",fontWeight:"bold",marginBottom:"12px",color:"#374151"},children:"Share Settings"}),f.jsxs("div",{style:{display:"flex",gap:"8px"},children:[f.jsx("button",{onClick:C,style:{flex:1,padding:"10px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:" Export"}),f.jsx("button",{onClick:R,style:{flex:1,padding:"10px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:" Import"})]})]})]})]}):null}function W0({scheme:e,isSelected:l,onClick:o}){return f.jsxs("div",{onClick:o,style:{padding:"12px",background:l?"#eff6ff":"#f9fafb",border:`2px solid ${l?"#3b82f6":"#e5e7eb"}`,borderRadius:"8px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:a=>{a.currentTarget.style.borderColor=l?"#3b82f6":"#d1d5db"},onMouseLeave:a=>{a.currentTarget.style.borderColor=l?"#3b82f6":"#e5e7eb"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[f.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"4px",background:`linear-gradient(135deg, ${e.preview[0]} 0%, ${e.preview[1]} 100%)`}}),f.jsx("span",{style:{fontSize:"13px",fontWeight:"500",color:"#111827"},children:e.name})]}),f.jsx("p",{style:{fontSize:"11px",color:"#6b7280",margin:0,lineHeight:1.4},children:e.description})]})}function c6({onSave:e,onCancel:l}){const[o,a]=A.useState(""),[s,c]=A.useState({primary:"#667eea",secondary:"#764ba2",background:"#ffffff",text:"#111827"}),d=()=>{if(!o.trim()){alert("Please enter a name for your color scheme");return}const h=$k(o,s);e(h)};return f.jsxs("div",{style:{padding:"16px",background:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"8px",marginBottom:"16px"},children:[f.jsx("h4",{style:{margin:0,marginBottom:"12px",fontSize:"13px",fontWeight:"bold"},children:"Create Custom Scheme"}),f.jsx("input",{type:"text",value:o,onChange:h=>a(h.target.value),placeholder:"Scheme name...",style:{width:"100%",padding:"8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"13px",marginBottom:"12px"}}),f.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginBottom:"12px"},children:Object.entries(s).map(([h,g])=>f.jsxs("div",{children:[f.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"bold",marginBottom:"4px",color:"#374151"},children:h.charAt(0).toUpperCase()+h.slice(1)}),f.jsxs("div",{style:{display:"flex",gap:"4px"},children:[f.jsx("input",{type:"color",value:g,onChange:m=>c({...s,[h]:m.target.value}),style:{width:"40px",height:"32px",border:"1px solid #d1d5db",borderRadius:"4px"}}),f.jsx("input",{type:"text",value:g,onChange:m=>c({...s,[h]:m.target.value}),style:{flex:1,padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",fontSize:"12px"}})]})]},h))}),f.jsx("div",{style:{padding:"12px",background:`linear-gradient(135deg, ${s.primary} 0%, ${s.secondary} 100%)`,color:s.text,border:`1px solid ${s.secondary}`,borderRadius:"4px",marginBottom:"12px",textAlign:"center",fontSize:"13px",fontWeight:"bold"},children:"Preview Text"}),f.jsxs("div",{style:{display:"flex",gap:"8px"},children:[f.jsx("button",{onClick:d,style:{flex:1,padding:"8px",background:"#10b981",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Save"}),f.jsx("button",{onClick:l,style:{flex:1,padding:"8px",background:"#6b7280",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"Cancel"})]})]})}const u6=Object.freeze(Object.defineProperty({__proto__:null,default:s6},Symbol.toStringTag,{value:"Module"}));</script>
    <style rel="stylesheet" crossorigin>:root{font-family:system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:#ffffffde;background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}body{margin:0;display:flex;place-items:center;min-width:320px;min-height:100vh}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}@media(prefers-color-scheme:light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}@media(max-width:768px){body{min-width:100vw;overflow:hidden}.react-flow__panel-bottom-left{display:none!important}.react-flow__panel{max-width:90vw!important}.controls-panel{max-width:85vw!important;font-size:12px!important}.controls-panel button{padding:8px 12px!important;font-size:11px!important}[style*="position: fixed"][style*="z-index: 1000"]{max-width:95vw!important;max-height:90vh!important}button,a,[role=button]{min-height:44px;min-width:44px;touch-action:manipulation}.react-flow__controls-button{width:32px!important;height:32px!important}.react-flow__minimap{display:none}}*{-webkit-tap-highlight-color:transparent}button,[role=button],input{touch-action:manipulation}.react-flow{direction:ltr}.react-flow__container{position:absolute;width:100%;height:100%;top:0;left:0}.react-flow__pane{z-index:1;cursor:-webkit-grab;cursor:grab}.react-flow__pane.selection{cursor:pointer}.react-flow__pane.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__viewport{transform-origin:0 0;z-index:2;pointer-events:none}.react-flow__renderer{z-index:4}.react-flow__selection{z-index:6}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible{outline:none}.react-flow .react-flow__edges{pointer-events:none;overflow:visible}.react-flow__edge-path,.react-flow__connection-path{stroke:#b1b1b7;stroke-width:1;fill:none}.react-flow__edge{pointer-events:visibleStroke;cursor:pointer}.react-flow__edge.animated path{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__edge.animated path.react-flow__edge-interaction{stroke-dasharray:none;-webkit-animation:none;animation:none}.react-flow__edge.inactive{pointer-events:none}.react-flow__edge.selected,.react-flow__edge:focus,.react-flow__edge:focus-visible{outline:none}.react-flow__edge.selected .react-flow__edge-path,.react-flow__edge:focus .react-flow__edge-path,.react-flow__edge:focus-visible .react-flow__edge-path{stroke:#555}.react-flow__edge-textwrapper{pointer-events:all}.react-flow__edge-textbg{fill:#fff}.react-flow__edge .react-flow__edge-text{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__connection{pointer-events:none}.react-flow__connection .animated{stroke-dasharray:5;-webkit-animation:dashdraw .5s linear infinite;animation:dashdraw .5s linear infinite}.react-flow__connectionline{z-index:1001}.react-flow__nodes{pointer-events:none;transform-origin:0 0}.react-flow__node{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:all;transform-origin:0 0;box-sizing:border-box;cursor:-webkit-grab;cursor:grab}.react-flow__node.dragging{cursor:-webkit-grabbing;cursor:grabbing}.react-flow__nodesselection{z-index:3;transform-origin:left top;pointer-events:none}.react-flow__nodesselection-rect{position:absolute;pointer-events:all;cursor:-webkit-grab;cursor:grab}.react-flow__handle{position:absolute;pointer-events:none;min-width:5px;min-height:5px;width:6px;height:6px;background:#1a192b;border:1px solid white;border-radius:100%}.react-flow__handle.connectionindicator{pointer-events:all;cursor:crosshair}.react-flow__handle-bottom{top:auto;left:50%;bottom:-4px;transform:translate(-50%)}.react-flow__handle-top{left:50%;top:-4px;transform:translate(-50%)}.react-flow__handle-left{top:50%;left:-4px;transform:translateY(-50%)}.react-flow__handle-right{right:-4px;top:50%;transform:translateY(-50%)}.react-flow__edgeupdater{cursor:move;pointer-events:all}.react-flow__panel{position:absolute;z-index:5;margin:15px}.react-flow__panel.top{top:0}.react-flow__panel.bottom{bottom:0}.react-flow__panel.left{left:0}.react-flow__panel.right{right:0}.react-flow__panel.center{left:50%;transform:translate(-50%)}.react-flow__attribution{font-size:10px;background:#ffffff80;padding:2px 3px;margin:0}.react-flow__attribution a{text-decoration:none;color:#999}@-webkit-keyframes dashdraw{0%{stroke-dashoffset:10}}@keyframes dashdraw{0%{stroke-dashoffset:10}}.react-flow__edgelabel-renderer{position:absolute;width:100%;height:100%;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.react-flow__edge.updating .react-flow__edge-path{stroke:#777}.react-flow__edge-text{font-size:10px}.react-flow__node.selectable:focus,.react-flow__node.selectable:focus-visible{outline:none}.react-flow__node-default,.react-flow__node-input,.react-flow__node-output,.react-flow__node-group{padding:10px;border-radius:3px;width:150px;font-size:12px;color:#222;text-align:center;border-width:1px;border-style:solid;border-color:#1a192b;background-color:#fff}.react-flow__node-default.selectable:hover,.react-flow__node-input.selectable:hover,.react-flow__node-output.selectable:hover,.react-flow__node-group.selectable:hover{box-shadow:0 1px 4px 1px #00000014}.react-flow__node-default.selectable.selected,.react-flow__node-default.selectable:focus,.react-flow__node-default.selectable:focus-visible,.react-flow__node-input.selectable.selected,.react-flow__node-input.selectable:focus,.react-flow__node-input.selectable:focus-visible,.react-flow__node-output.selectable.selected,.react-flow__node-output.selectable:focus,.react-flow__node-output.selectable:focus-visible,.react-flow__node-group.selectable.selected,.react-flow__node-group.selectable:focus,.react-flow__node-group.selectable:focus-visible{box-shadow:0 0 0 .5px #1a192b}.react-flow__node-group{background-color:#f0f0f040}.react-flow__nodesselection-rect,.react-flow__selection{background:#0059dc14;border:1px dotted rgba(0,89,220,.8)}.react-flow__nodesselection-rect:focus,.react-flow__nodesselection-rect:focus-visible,.react-flow__selection:focus,.react-flow__selection:focus-visible{outline:none}.react-flow__controls{box-shadow:0 0 2px 1px #00000014}.react-flow__controls-button{border:none;background:#fefefe;border-bottom:1px solid #eee;box-sizing:content-box;display:flex;justify-content:center;align-items:center;width:16px;height:16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:5px}.react-flow__controls-button:hover{background:#f4f4f4}.react-flow__controls-button svg{width:100%;max-width:12px;max-height:12px}.react-flow__controls-button:disabled{pointer-events:none}.react-flow__controls-button:disabled svg{fill-opacity:.4}.react-flow__minimap{background-color:#fff}.react-flow__minimap svg{display:block}.react-flow__resize-control{position:absolute}.react-flow__resize-control.left,.react-flow__resize-control.right{cursor:ew-resize}.react-flow__resize-control.top,.react-flow__resize-control.bottom{cursor:ns-resize}.react-flow__resize-control.top.left,.react-flow__resize-control.bottom.right{cursor:nwse-resize}.react-flow__resize-control.bottom.left,.react-flow__resize-control.top.right{cursor:nesw-resize}.react-flow__resize-control.handle{width:4px;height:4px;border:1px solid #fff;border-radius:1px;background-color:#3367d9;transform:translate(-50%,-50%)}.react-flow__resize-control.handle.left{left:0;top:50%}.react-flow__resize-control.handle.right{left:100%;top:50%}.react-flow__resize-control.handle.top{left:50%;top:0}.react-flow__resize-control.handle.bottom{left:50%;top:100%}.react-flow__resize-control.handle.top.left,.react-flow__resize-control.handle.bottom.left{left:0}.react-flow__resize-control.handle.top.right,.react-flow__resize-control.handle.bottom.right{left:100%}.react-flow__resize-control.line{border-color:#3367d9;border-width:0;border-style:solid}.react-flow__resize-control.line.left,.react-flow__resize-control.line.right{width:1px;transform:translate(-50%);top:0;height:100%}.react-flow__resize-control.line.left{left:0;border-left-width:1px}.react-flow__resize-control.line.right{left:100%;border-right-width:1px}.react-flow__resize-control.line.top,.react-flow__resize-control.line.bottom{height:1px;transform:translateY(-50%);left:0;width:100%}.react-flow__resize-control.line.top{top:0;border-top-width:1px}.react-flow__resize-control.line.bottom{border-bottom-width:1px;top:100%}#root{width:100%;height:100vh;margin:0;padding:0}.mindmap-node{cursor:move;transition:all .2s ease}.mindmap-node.selected{border-color:#3b82f6!important;box-shadow:0 4px 12px #3b82f64d!important}.mindmap-node:hover{box-shadow:0 4px 12px #00000026}.node-content:focus{outline:2px solid #3b82f6;outline-offset:2px}.controls-panel{background:#fff;padding:16px;border-radius:8px;box-shadow:0 2px 8px #0000001a}.controls-panel button{padding:8px 16px;margin:4px 0;border:1px solid #e5e7eb;background:#fff;border-radius:6px;cursor:pointer;font-size:13px;transition:all .2s ease;width:100%}.controls-panel button:hover{background:#f3f4f6;border-color:#d1d5db}.controls-panel hr{border:none;border-top:1px solid #e5e7eb;margin:8px 0}.controls-panel strong{font-size:12px;color:#6b7280;text-transform:uppercase;letter-spacing:.5px}</style>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
